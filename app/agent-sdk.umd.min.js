(()=>{var te=(J,P)=>()=>(P||J((P={exports:{}}).exports,P),P.exports);var z=te((W,$)=>{(function(J,P){if(typeof W=="object"&&typeof $=="object")$.exports=P();else if(typeof define=="function"&&define.amd)define([],P);else{var H=P();for(var Z in H)(typeof W=="object"?W:J)[Z]=H[Z]}})(self,(function(){return(function(){var J={135:function(N,B,M){"use strict";var k=M(81),U=M.n(k),b=M(645),F=M.n(b),G=M(667),D=M.n(G),v=new URL(M(943),M.b),m=F()(U()),I=D()(v);m.push([N.id,`@font-face {\r
  font-family: "ccs-sdk-iconfont"; /* Project id  */\r
  src: url(`+I+`) format('truetype');\r
}\r
\r
.icon {\r
  width: 1em;\r
  height: 1em;\r
  vertical-align: -0.15em;\r
  fill: currentColor;\r
  overflow: hidden;\r
}\r
\r
.ccs-sdk-icon {\r
  font-family: "ccs-sdk-iconfont" !important;\r
  font-size: 16px;\r
  font-style: normal;\r
  -webkit-font-smoothing: antialiased;\r
  -moz-osx-font-smoothing: grayscale;\r
}\r
\r
.icon-kefuzhuanjie:before {\r
  content: "\\e65c";\r
}\r
\r
.icon-kefuzhuanjie-copy:before {\r
  content: "\\e60b";\r
}\r
\r
.icon-jingyin:before {\r
  content: "\\e65e";\r
}\r
\r
.icon-huifutonghuazhuanhuan-copy:before {\r
  content: "\\e63d";\r
}\r
\r
.icon-denglu:before {\r
  content: "\\e66b";\r
}\r
\r
.icon-zhuanjie:before {\r
  content: "\\e63e";\r
}\r
\r
.icon-yidongdianhua:before {\r
  content: "\\e50b";\r
}\r
\r
.icon-lianjie:before {\r
  content: "\\e63f";\r
}\r
\r
.icon-guaduan:before {\r
  content: "\\e5f8";\r
}\r
\r
.icon-huiyi:before {\r
  content: "\\e61b";\r
}\r
\r
.icon-keepHold-baochi:before {\r
  content: "\\e620";\r
}\r
\r
.icon-jujie:before {\r
  content: "\\e7f2";\r
}\r
\r
.icon-zidongyingda:before {\r
  content: "\\e812";\r
}\r
\r
.icon-waihu:before {\r
  content: "\\e506";\r
}\r
\r
.icon-sousuo:before {\r
  content: "\\e619";\r
}\r
\r
.icon-zixunzhuanjie:before {\r
  content: "\\e64f";\r
}\r
\r
.icon-zixun:before {\r
  content: "\\e73b";\r
}\r
\r
.icon-fangyin:before {\r
  content: "\\e6d6";\r
}\r
\r
.icon-daohanglan-quxiaozixun:before {\r
  content: "\\e6b7";\r
}\r
\r
.icon-huihuazhuanjie:before {\r
  content: "\\e64c";\r
}\r
\r
.icon-icon-F-jieting:before {\r
  content: "\\e65d";\r
}\r
\r
`,""]),B.Z=m},124:function(N,B,M){"use strict";var k=M(81),U=M.n(k),b=M(645),F=M.n(b)()(U());F.push([N.id,`.ccs-sdk-container {\r
    display: inline-block;\r
    line-height: 30px;\r
    font-size: 14px;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-input,\r
.ccs-sdk-container .ccs-sdk-button {\r
    transition: .3s all;\r
    -ms-transition: .3s all;\r
    -moz-transition: .3s all;\r
    -webkit-transition: .3s all;\r
    -o-transition: .3s all;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-button {\r
    position: relative;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-button .ccs-sdk-button {\r
    padding: 7px 5px;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-button.ccs-sdk-monitor {\r
    margin: 5px 5px;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-button.ccs-sdk-monitor,\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-monitor {\r
    background: #f6b052;\r
    border-color: #d29539;\r
    padding: 0px 10px;\r
    display: block;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-button.ccs-sdk-monitor:hover,\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-monitor:hover {\r
    background: #ff9900;\r
    border-color: #d29539;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-button.ccs-sdk-monitor.ccs-sdk-disable,\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-monitor.ccs-sdk-disable {\r
    background: #bfa37e;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-monitor-btns {\r
    text-align: center;\r
    margin: 0px;\r
    padding: 0px 20px;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-monitor-btns .ccs-sdk-button {\r
    display: inline;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-main {\r
    position: relative;\r
    width: 170px;\r
    float: left;\r
    line-height: 20px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-icon {\r
    font-size: 24px;\r
    position: relative;\r
}\r
\r
.ccs-sdk-delay {\r
    float: left;\r
    margin-right: 5px;\r
    font-size: 20px;\r
    position: relative;\r
}\r
\r
.ccs-sdk-delay .ccs-sdk-icon-title {\r
    line-height: 20px;\r
    text-align: center;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-delay:hover .ccs-sdk-icon-title,\r
.ccs-sdk-box .ccs-sdk-button .ccs-sdk-icon:hover .ccs-sdk-icon-title {\r
    display: block;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-delay .ccs-sdk-icon-title,\r
.ccs-sdk-box .ccs-sdk-icon .ccs-sdk-icon-title {\r
    position: absolute;\r
    left: -18px;\r
    width: 60px;\r
    top: 32px;\r
    font-size: 14px;\r
    color: #fff;\r
    border-radius: 4px;\r
    background: #555;\r
    display: none;\r
    z-index: 999;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-delay .ccs-sdk-icon-title:after,\r
.ccs-sdk-box .ccs-sdk-icon .ccs-sdk-icon-title:after {\r
    content: "";\r
    width: 0;\r
    height: 0;\r
    border: 3px solid transparent;\r
    border-bottom-color: #555;\r
    position: absolute;\r
    top: -6px;\r
    left: 27px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-main.ccs-sdk-offline {\r
    color: #f56c6c;\r
    background: #fef0f0;\r
    border: 1px solid #fbc4c4;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-button.ccs-sdk-main.ccs-sdk-offline:hover {\r
    color: #f56c6c;\r
    background: #fef0f0;\r
    border: 1px solid #fbc4c4;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-main.ccs-sdk-busy {\r
    background-color: #e5d011;\r
    border-color: #baa912;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-button.ccs-sdk-main.ccs-sdk-busy:hover {\r
    background-color: #e5d011;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-conversation-bar {\r
    position: relative;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-agents,\r
.ccs-sdk-box .ccs-sdk-groups {\r
    width: 200px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents {\r
    left: 220px;\r
    padding-left: 10px;\r
}\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents:after {\r
    top: 18px;\r
    left: -5px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents .ccs-sdk-monitor {\r
    height: 20px;\r
    display: inline;\r
    margin: 2px 0;\r
    padding: 0px 2px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents ul,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents ul,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-groups ul {\r
    margin: 0;\r
    padding: 0;\r
    font-size: 14px;\r
    max-height: 200px;\r
    min-height: 50px;\r
    padding-left: 5px;\r
    overflow-y: scroll;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents ul .ccs-sdk-no-data,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents ul .ccs-sdk-no-data,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-groups ul .ccs-sdk-no-data {\r
    display: block;\r
    margin-top: 15px;\r
    color: #ccc;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents ul li,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents ul li,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-groups ul li {\r
    list-style: none;\r
    text-align: left;\r
    line-height: 25px;\r
    padding-left: 5px;\r
    cursor: pointer;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
    border-radius: 4px;\r
    margin-bottom: 5px;\r
    color: #333;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents ul li:hover,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents ul li:hover,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-groups ul li:hover {\r
    background: #409eff;\r
    color: #fff;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-call-panel-box .ccs-sdk-agents ul li.active,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-agents ul li.active,\r
.ccs-sdk-box .ccs-sdk-conversation-bar .ccs-sdk-groups ul li.active {\r
    background: #409eff;\r
    color: #fff;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-conversation-bar,\r
.ccs-sdk-box .ccs-sdk-callin-bar,\r
.ccs-sdk-box .ccs-sdk-call-bar {\r
    float: left;\r
    display: flex;\r
    align-items: center;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-conversation-bar button,\r
.ccs-sdk-box .ccs-sdk-callin-bar button,\r
.ccs-sdk-box .ccs-sdk-caller,\r
.ccs-sdk-box .ccs-sdk-call-bar button {\r
    margin-left: 5px;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-caller {\r
    width: 130px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
}\r
\r
.ccs-sdk-box .ccs-sdk-main:after {\r
    content: "";\r
    display: inline-block;\r
    width: 0px;\r
    height: 0px;\r
    border: 5px solid transparent;\r
    border-top-color: #fff;\r
    position: relative;\r
    top: 4px;\r
    right: -4px;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-main:hover {\r
    background: #409eff;\r
    border-color: #409eff;\r
    color: #fff;\r
}\r
\r
.ccs-sdk-bubble {\r
    width: 85px;\r
    position: absolute;\r
    left: 0px;\r
    top: 40px;\r
    text-align: center;\r
    font-size: 12px;\r
    background: #fff;\r
    padding: 10px 5px 5px;\r
    border-radius: 4px;\r
    box-shadow: 0px 0px 10px #888;\r
    line-height: 12px;\r
    z-index: 200;\r
}\r
\r
.ccs-sdk-bubble div {\r
    margin-bottom: 10px;\r
    text-align: left;\r
}\r
.ccs-sdk-bubble .ccs-sdk-busy-bubble {\r
    margin-bottom: 0px;\r
}\r
\r
.ccs-sdk-bubble p {\r
    margin: 0;\r
    font-size: 14px;\r
    margin-bottom: 5px;\r
    line-height: 20px;\r
    color: #e5d011;\r
    border-radius: 4px;\r
    text-align: center;\r
    text-overflow: ellipsis;\r
    overflow: hidden;\r
}\r
\r
.ccs-sdk-bubble p:hover {\r
    background: #c9eeff;\r
}\r
\r
.ccs-sdk-bubble p:active {\r
    background: #9ae2ff;\r
}\r
\r
.ccs-sdk-bubble.ccs-sdk-transfer::after {\r
    left: 17px;\r
}\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-transferCallAgent,\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-transferCallAgentFast,\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-transferCallGroupFast,\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-transferCallGroup {\r
    display: inline;\r
}\r
\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-consultCallAgent,\r
.ccs-sdk-bubble.ccs-sdk-transfer #ccs-sdk-consultCallGroup {\r
    display: none;\r
}\r
\r
.ccs-sdk-bubble.ccs-sdk-consult::after {\r
    left: 58px;\r
}\r
\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-transferCallAgent,\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-transferCallAgentFast,\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-transferCallGroupFast,\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-transferCallGroup {\r
    display: none;\r
}\r
\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-consultCallAgent,\r
.ccs-sdk-bubble.ccs-sdk-consult #ccs-sdk-consultCallGroup {\r
    display: inline;\r
}\r
\r
.ccs-sdk-bubble::after {\r
    content: "";\r
    display: block;\r
    width: 10px;\r
    height: 10px;\r
    transform: rotate(45deg);\r
    background-color: #fff;\r
    position: absolute;\r
    top: -5px;\r
    left: 42px;\r
    box-shadow: 0px 0px 10px #888;\r
}\r
.ccs-sdk-bubble::after {\r
    box-shadow: none;\r
}\r
\r
.ccs-sdk-call-panel-box {\r
    display: inline-block;\r
    position: relative;\r
    height: 30px;\r
}\r
\r
.ccs-sdk-busy-panel,\r
.ccs-sdk-monitor-panel,\r
.ccs-sdk-call-panel {\r
    text-align: center;\r
    width: 250px;\r
    left: -200px;\r
    top: 35px;\r
    padding-top: 8px;\r
    padding-left: 0px;\r
    padding-right: 0px;\r
    color: #333;\r
}\r
\r
.ccs-sdk-group-info-panel {\r
    left: -40px;\r
    top: 35px;\r
    width: 150px;\r
    color: #333;\r
}\r
\r
.ccs-sdk-group-info-panel div {\r
    margin: 10px 0px 5px;\r
    padding-left: 10px;\r
}\r
\r
.ccs-sdk-group-info-panel p.master {\r
    color: #2a92cf;\r
}\r
\r
.ccs-sdk-group-info-panel p {\r
    color: #989ea2;\r
    text-overflow: ellipsis;\r
    word-break: keep-all;\r
    overflow: hidden;\r
    background: none;\r
    white-space: nowrap;\r
}\r
\r
.ccs-sdk-group-info-panel p:active {\r
    background: none;\r
}\r
\r
.ccs-sdk-group-info-panel p:hover {\r
    background: none;\r
}\r
\r
.ccs-sdk-group-info-panel::after {\r
    left: 74px;\r
}\r
\r
.ccs-sdk-call-panel {\r
    left: -176px;\r
    width: 215px;\r
}\r
\r
.ccs-sdk-busy-panel {\r
    width: 250px;\r
    left: -180px;\r
}\r
\r
.ccs-sdk-call-panel div {\r
    margin-bottom: 0px;\r
    text-align: center;\r
}\r
\r
.ccs-sdk-busy-panel::after,\r
.ccs-sdk-busy-panel::before {\r
    left: unset;\r
    right: 30px;\r
}\r
\r
.ccs-sdk-monitor-panel::after,\r
.ccs-sdk-monitor-panel::before {\r
    left: unset;\r
    right: 7px;\r
}\r
.ccs-sdk-call-panel::after,\r
.ccs-sdk-call-panel::before {\r
    left: unset;\r
    right: 15px;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-button {\r
    margin-bottom: 5px;\r
}\r
\r
.ccs-sdk-monitor-row span {\r
    color: #333;\r
}\r
\r
.ccs-sdk-call-panel .ccs-sdk-call-type {\r
    display: flex;\r
    align-items: center;\r
    margin-bottom: 5px;\r
    padding-left: 10px;\r
}\r
\r
.ccs-sdk-call-panel .ccs-sdk-call-type span {\r
    display: flex;\r
    align-items: center;\r
    margin-right: 10px;\r
}\r
\r
.ccs-sdk-call-panel .ccs-sdk-call-type input {\r
    margin: 0px;\r
    margin-left: 5px;\r
}\r
\r
.ccs-sdk-monitor-panel .ccs-sdk-monitor-row {\r
    display: flex;\r
    justify-content: space-around;\r
}\r
\r
.ccs-sdk-monitor-row,\r
.ccs-sdk-conversation-row span {\r
    line-height: 30px;\r
    color: #fff;\r
    flex: 1;\r
    text-align: right;\r
    padding-right: 10px;\r
}\r
\r
.ccs-sdk-conversation-row.ccs-sdk-transfer-btn .ccs-sdk-button {\r
    width: 100px;\r
    padding: 0px;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-fl {\r
    float: left;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-red {\r
    color: #f56c6c;\r
    background: #fef0f0;\r
    border: 1px solid #fbc4c4;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-red:active {\r
    background: #dd6161;\r
    border-color: #dd6161;\r
    color: #fff;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-red.ccs-sdk-disable {\r
    color: #fff;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-red.ccs-sdk-disable:hover {\r
    border-color: #ccc;\r
    color: #fff;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-red:hover {\r
    background: #f56c6c;\r
    border-color: #f56c6c;\r
    color: #fff;\r
}\r
.ccs-sdk-container .ccs-sdk-status {\r
    width: 30px;\r
    height: 30px;\r
    background: #ccc;\r
    position: relative;\r
    z-index: 1;\r
    color: #333;\r
}\r
.ccs-sdk-state {\r
    width: 80px;\r
    overflow: hidden;\r
    text-overflow: ellipsis;\r
    white-space: nowrap;\r
    line-height: 20px;\r
    text-align: center;\r
    border-right: 1px solid #fff;\r
    margin-right: 5px;\r
    float: left;\r
}\r
.ccs-sdk-container .ccs-sdk-clearfix:after {\r
    content: "";\r
    display: block;\r
    clear: both;\r
}\r
.ccs-sdk-container .ccs-sdk-clearfix {\r
    zoom: 1;\r
}\r
.ccs-sdk-container .ccs-sdk-mt5 {\r
    margin-top: 5px;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-disable {\r
    background-color: #999;\r
    border: 1px solid #ccc;\r
}\r
.ccs-sdk-container .ccs-sdk-button {\r
    height: 30px;\r
    background-color: #409eff;\r
    border: 1px solid #409eff;\r
    color: #fff;\r
    padding: 0px 5px;\r
    border-radius: 4px;\r
    cursor: pointer;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-active:hover,\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-active {\r
    background-color: #40ff50;\r
    border-color: #26aa31;\r
}\r
\r
.ccs-sdk-container .ccs-sdk-input {\r
    height: 28px;\r
    width: 120px;\r
    padding: 0px 10px;\r
    border: 1px solid #dcdfe6;\r
    outline: none;\r
    border-radius: 4px;\r
    box-sizing: content-box;\r
    font-size: 12px;\r
    color: #333;\r
}\r
.ccs-sdk-container .ccs-sdk-input:hover {\r
    border-color: #c0c4cc;\r
}\r
.ccs-sdk-container .ccs-sdk-input:focus {\r
    border-color: #409eff;\r
}\r
.ccs-sdk-container .ccs-sdk-button:hover {\r
    background-color: #66b1ff;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-disable:hover {\r
    background-color: #999;\r
}\r
.ccs-sdk-container .ccs-sdk-button.ccs-sdk-disable:active {\r
    background-color: #999;\r
    border: 1px solid #ccc;\r
}\r
.ccs-sdk-container .ccs-sdk-button:active {\r
    background-color: #409eff;\r
    border: 1px solid #66b1ff;\r
}\r
.ccs-sdk-container #ccs-sdk-queue-info {\r
    display: flex;\r
    align-items: center;\r
}\r
\r
.ccs-sdk-container #ccs-sdk-queue-info #ccs-sdk-queue-number {\r
    margin-left: 5px;\r
}`,""]),B.Z=F},645:function(N){"use strict";N.exports=function(B){var M=[];return M.toString=function(){return this.map((function(k){var U="",b=k[5]!==void 0;return k[4]&&(U+="@supports (".concat(k[4],") {")),k[2]&&(U+="@media ".concat(k[2]," {")),b&&(U+="@layer".concat(k[5].length>0?" ".concat(k[5]):""," {")),U+=B(k),b&&(U+="}"),k[2]&&(U+="}"),k[4]&&(U+="}"),U})).join("")},M.i=function(k,U,b,F,G){typeof k=="string"&&(k=[[null,k,void 0]]);var D={};if(b)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(D[m]=!0)}for(var I=0;I<k.length;I++){var s=[].concat(k[I]);b&&D[s[0]]||(G!==void 0&&(s[5]===void 0||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=G),U&&(s[2]&&(s[1]="@media ".concat(s[2]," {").concat(s[1],"}")),s[2]=U),F&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=F):s[4]="".concat(F)),M.push(s))}},M}},667:function(N){"use strict";N.exports=function(B,M){return M||(M={}),B&&(B=String(B.__esModule?B.default:B),/^['"].*['"]$/.test(B)&&(B=B.slice(1,-1)),M.hash&&(B+=M.hash),/["'() \t\n]|(%20)/.test(B)||M.needQuotes?'"'.concat(B.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):B)}},81:function(N){"use strict";N.exports=function(B){return B[1]}},108:function(N,B){(function(){var M,k,U,b,F={}.hasOwnProperty,G=[].slice;M={LF:`
`,NULL:"\0"},U=(function(){var D;function v(m,I,s){this.command=m,this.headers=I??{},this.body=s??""}return v.prototype.toString=function(){var m,I,s,h,u;for(I in m=[this.command],(s=this.headers["content-length"]===!1)&&delete this.headers["content-length"],u=this.headers)F.call(u,I)&&(h=u[I],m.push(I+":"+h));return this.body&&!s&&m.push("content-length:"+v.sizeOfUTF8(this.body)),m.push(M.LF+this.body),m.join(M.LF)},v.sizeOfUTF8=function(m){return m?encodeURI(m).match(/%..|./g).length:0},D=function(m){var I,s,h,u,a,r,A,i,e,c,d,l,n,t,o,p,V;for(u=m.search(RegExp(""+M.LF+M.LF)),h=(a=m.substring(0,u).split(M.LF)).shift(),r={},l=function(q){return q.replace(/^\s+|\s+$/g,"")},n=0,o=(p=a.reverse()).length;n<o;n++)i=(c=p[n]).indexOf(":"),r[l(c.substring(0,i))]=l(c.substring(i+1));if(I="",d=u+2,r["content-length"])e=parseInt(r["content-length"]),I=(""+m).substring(d,d+e);else for(s=null,A=t=d,V=m.length;(d<=V?t<V:t>V)&&(s=m.charAt(A))!==M.NULL;A=d<=V?++t:--t)I+=s;return new v(h,r,I)},v.unmarshall=function(m){var I,s,h,u;return s=m.split(RegExp(""+M.NULL+M.LF+"*")),(u={frames:[],partial:""}).frames=(function(){var a,r,A,i;for(i=[],a=0,r=(A=s.slice(0,-1)).length;a<r;a++)I=A[a],i.push(D(I));return i})(),(h=s.slice(-1)[0])===M.LF||h.search(RegExp(""+M.NULL+M.LF+"*$"))!==-1?u.frames.push(D(h)):u.partial=h,u},v.marshall=function(m,I,s){return new v(m,I,s).toString()+M.NULL},v})(),k=(function(){var D;function v(m,I){this.ws=m,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat=I||{outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return v.prototype.debug=function(m){var I;return typeof window<"u"&&window!==null&&(I=window.console)!=null?I.log(m):void 0},D=function(){return Date.now?Date.now():new Date().valueOf},v.prototype._transmit=function(m,I,s){var h;for(h=U.marshall(m,I,s),typeof this.debug=="function"&&this.debug(">>> "+h);;){if(!(h.length>this.maxWebSocketFrameSize))return this.ws.send(h);this.ws.send(h.substring(0,this.maxWebSocketFrameSize)),h=h.substring(this.maxWebSocketFrameSize),typeof this.debug=="function"&&this.debug("remaining = "+h.length)}},v.prototype._setupHeartbeat=function(m){var I,s,h,u,a,r,A;if((a=m.version)===b.VERSIONS.V1_1||a===b.VERSIONS.V1_2)return s=(r=(function(){var i,e,c,d;for(d=[],i=0,e=(c=m["heart-beat"].split(",")).length;i<e;i++)u=c[i],d.push(parseInt(u));return d})())[0],I=r[1],this.heartbeat.outgoing!==0&&I!==0&&(h=Math.max(this.heartbeat.outgoing,I),typeof this.debug=="function"&&this.debug("send PING every "+h+"ms"),this.pinger=b.setInterval(h,(A=this,function(){return A.ws.send(M.LF),typeof A.debug=="function"?A.debug(">>> PING"):void 0}))),this.heartbeat.incoming!==0&&s!==0?(h=Math.max(this.heartbeat.incoming,s),typeof this.debug=="function"&&this.debug("check PONG every "+h+"ms"),this.ponger=b.setInterval(h,(function(i){return function(){var e;if((e=D()-i.serverActivity)>2*h)return typeof i.debug=="function"&&i.debug("did not receive server activity for the last "+e+"ms"),i.ws.close()}})(this))):void 0},v.prototype._parseConnect=function(){var m,I,s,h;switch(h={},(m=1<=arguments.length?G.call(arguments,0):[]).length){case 2:h=m[0],I=m[1];break;case 3:m[1]instanceof Function?(h=m[0],I=m[1],s=m[2]):(h.login=m[0],h.passcode=m[1],I=m[2]);break;case 4:h.login=m[0],h.passcode=m[1],I=m[2],s=m[3];break;default:h.login=m[0],h.passcode=m[1],I=m[2],s=m[3],h.host=m[4]}return[h,I,s]},v.prototype.connect=function(){var m,I,s,h,u;return m=1<=arguments.length?G.call(arguments,0):[],h=this._parseConnect.apply(this,m),s=h[0],this.connectCallback=h[1],I=h[2],typeof this.debug=="function"&&this.debug("Opening Web Socket..."),this.ws.onmessage=(u=this,function(a){var r,A,i,e,c,d,l,n,t,o,p,V,q;if(e=typeof ArrayBuffer<"u"&&a.data instanceof ArrayBuffer?(r=new Uint8Array(a.data),typeof u.debug=="function"&&u.debug("--- got data length: "+r.length),(function(){var E,C,w;for(w=[],E=0,C=r.length;E<C;E++)A=r[E],w.push(String.fromCharCode(A));return w})().join("")):a.data,u.serverActivity=D(),e!==M.LF){for(typeof u.debug=="function"&&u.debug("<<< "+e),t=U.unmarshall(u.partialData+e),u.partialData=t.partial,q=[],o=0,p=(V=t.frames).length;o<p;o++)switch((c=V[o]).command){case"CONNECTED":typeof u.debug=="function"&&u.debug("connected to server "+c.headers.server),u.connected=!0,u._setupHeartbeat(c.headers),q.push(typeof u.connectCallback=="function"?u.connectCallback(c):void 0);break;case"MESSAGE":n=c.headers.subscription,(l=u.subscriptions[n]||u.onreceive)?(i=u,d=c.headers["message-id"],c.ack=function(E){return E==null&&(E={}),i.ack(d,n,E)},c.nack=function(E){return E==null&&(E={}),i.nack(d,n,E)},q.push(l(c))):q.push(typeof u.debug=="function"?u.debug("Unhandled received MESSAGE: "+c):void 0);break;case"RECEIPT":q.push(typeof u.onreceipt=="function"?u.onreceipt(c):void 0);break;case"ERROR":q.push(typeof I=="function"?I(c):void 0);break;default:q.push(typeof u.debug=="function"?u.debug("Unhandled frame: "+c):void 0)}return q}typeof u.debug=="function"&&u.debug("<<< PONG")}),this.ws.onclose=(function(a){return function(r){var A;return A="Whoops! Lost connection to "+a.ws.url,typeof a.debug=="function"&&a.debug(A),a._cleanUp(),typeof I=="function"?I(r):void 0}})(this),this.ws.onopen=(function(a){return function(){return typeof a.debug=="function"&&a.debug("Web Socket Opened..."),s["accept-version"]=b.VERSIONS.supportedVersions(),s["heart-beat"]=[a.heartbeat.outgoing,a.heartbeat.incoming].join(","),a._transmit("CONNECT",s)}})(this)},v.prototype.disconnect=function(m,I){return I==null&&(I={}),this._transmit("DISCONNECT",I),this.ws.onclose=null,this.ws.close(),this._cleanUp(),typeof m=="function"?m():void 0},v.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&b.clearInterval(this.pinger),this.ponger)return b.clearInterval(this.ponger)},v.prototype.send=function(m,I,s){return I==null&&(I={}),s==null&&(s=""),I.destination=m,this._transmit("SEND",I,s)},v.prototype.subscribe=function(m,I,s){var h;return s==null&&(s={}),s.id||(s.id="sub-"+this.counter++),s.destination=m,this.subscriptions[s.id]=I,this._transmit("SUBSCRIBE",s),h=this,{id:s.id,unsubscribe:function(){return h.unsubscribe(s.id)}}},v.prototype.unsubscribe=function(m){return delete this.subscriptions[m],this._transmit("UNSUBSCRIBE",{id:m})},v.prototype.begin=function(m){var I,s;return s=m||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:s}),I=this,{id:s,commit:function(){return I.commit(s)},abort:function(){return I.abort(s)}}},v.prototype.commit=function(m){return this._transmit("COMMIT",{transaction:m})},v.prototype.abort=function(m){return this._transmit("ABORT",{transaction:m})},v.prototype.ack=function(m,I,s){return s==null&&(s={}),s["message-id"]=m,s.subscription=I,this._transmit("ACK",s)},v.prototype.nack=function(m,I,s){return s==null&&(s={}),s["message-id"]=m,s.subscription=I,this._transmit("NACK",s)},v})(),b={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(D,v,m){var I;return v==null&&(v=["v10.stomp","v11.stomp"]),I=new(b.WebSocketClass||WebSocket)(D,v),new k(I,m)},over:function(D){return new k(D)},Frame:U},B!==null&&(B.Stomp=b),typeof window<"u"&&window!==null?(b.setInterval=function(D,v){return window.setInterval(v,D)},b.clearInterval=function(D){return window.clearInterval(D)},window.Stomp=b):B||(self.Stomp=b)}).call(this)},229:function(){window._iconfont_svg_string_='<svg><symbol id="icon-iconxinhaowuxinhao" viewBox="0 0 1024 1024"><path d="M0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path><path d="M568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path><path d="M853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path></symbol><symbol id="icon-iconxinhaowuxinhao-copy" viewBox="0 0 1024 1024"><path d="M0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path><path d="M853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path></symbol><symbol id="icon-iconxinhaowuxinhao-copy-copy-copy" viewBox="0 0 1024 1024"><path d="M0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z" fill="#C2C2C2" ></path></symbol><symbol id="icon-iconxinhaowuxinhao-copy-copy-copy1" viewBox="0 0 1024 1024"><path d="M0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path><path d="M853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z" fill="#04BE02" ></path></symbol><symbol id="icon-iconxinhaowuxinhao-copy-copy-copy2" viewBox="0 0 1024 1024"><path d="M0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z" fill="#dbdbdb" ></path><path d="M284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z" fill="#dbdbdb" ></path><path d="M568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z" fill="#dbdbdb" ></path><path d="M853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z" fill="#dbdbdb" ></path></symbol></svg>',(function(N){var B,M=(B=(B=document.getElementsByTagName("script"))[B.length-1]).getAttribute("data-injectcss");if(!(B=B.getAttribute("data-disable-injectsvg"))){var k,U,b,F,G;if(M&&!N.__iconfont__svg__cssinject__){N.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(v){console&&console.log(v)}}k=function(){var v,m=document.createElement("div");m.innerHTML=N._iconfont_svg_string_,(m=m.getElementsByTagName("svg")[0])&&(m.setAttribute("aria-hidden","true"),m.style.position="absolute",m.style.width=0,m.style.height=0,m.style.overflow="hidden",(v=document.body).firstChild?(function(I,s){s.parentNode.insertBefore(I,s)})(m,v.firstChild):v.appendChild(m))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(k,0):(U=function(){document.removeEventListener("DOMContentLoaded",U,!1),k()},document.addEventListener("DOMContentLoaded",U,!1)):document.attachEvent&&(b=k,F=N.document,G=!1,(function v(){try{F.documentElement.doScroll("left")}catch{return void setTimeout(v,50)}D()})(),F.onreadystatechange=function(){F.readyState=="complete"&&(F.onreadystatechange=null,D())})}function D(){G||(G=!0,b())}})(window)},949:function(){(function(){var N={156:function(F,G,D){var v,m;v=[D,G,D(218)],m=function(I,s,h){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),window.SoftPhoneSdk=window.SoftPhoneSdk||h.default,s.default=h.default}.apply(G,v),m===void 0||(F.exports=m)},391:function(F,G,D){var v,m,I=this&&this.__spreadArray||function(s,h,u){if(u||arguments.length===2)for(var a,r=0,A=h.length;r<A;r++)!a&&r in h||(a||(a=Array.prototype.slice.call(h,0,r)),a[r]=h[r]);return s.concat(a||Array.prototype.slice.call(h))};v=[D,G,D(893)],m=function(s,h,u){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var a=(function(){function r(){this.event={}}return r.prototype.on=function(A,i){this.event[A]||(this.event[A]={});var e=this.getUUID();return this.event[A][e]=i,e},r.prototype.once=function(A,i){var e=this;this.event[A]||(this.event[A]={});var c=this.getUUID();return this.event[A][c]=function(d){i(d),e.off(A,c)},c},r.prototype.off=function(A,i){try{if(!this.event[A])return u.default.warning("\u672A\u627E\u5230\u6307\u5B9A\u4E8B\u4EF6\u540D\u79F0: ",A),!1;if(typeof i=="string"){if(!this.event[A][i])return u.default.warning("\u672A\u627E\u5230\u8981\u5220\u9664\u7684\u65B9\u6CD5"),!1;delete this.event[A][i]}else{var e=void 0;for(var c in this.event[A])i===this.event[A][c]&&(e=c);if(!e)return u.default.warning("\u672A\u627E\u5230\u8981\u5220\u9664\u7684\u65B9\u6CD5"),!1;delete this.event[A][e]}}catch(d){u.default.warning("EventEmit: \u4E8B\u4EF6\u5220\u9664\u5931\u8D25",d)}return!0},r.prototype.run=function(A,i){for(var e=[],c=2;c<arguments.length;c++)e[c-2]=arguments[c];if(A&&this.event[A])for(var d in this.event[A]){var l=this.event[A][d];l&&typeof l=="function"&&l.apply(void 0,I([i],e,!1))}else!A||this.event[A]&&Object.keys(this.event[A]).length!==0||u.default.warning("\u89E6\u53D1\u672A\u76D1\u542C\u4E8B\u4EF6: "+A+', \u8BF7\u5C1D\u8BD5: SDK.on("'+A+'", eventData => {...});');return this},r.prototype.clearEvent=function(A){return A?delete this.event[A]:this.event={},this},r.prototype.getEventCount=function(A){return Object.keys(this.event[A]).length},r.prototype.getUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(A){var i=16*Math.random()|0;return(A==="x"?i:3&i|8).toString(16)}))},r})();h.default=a}.apply(G,v),m===void 0||(F.exports=m)},218:function(F,G,D){var v,m,I=this&&this.__assign||function(){return I=Object.assign||function(s){for(var h,u=1,a=arguments.length;u<a;u++)for(var r in h=arguments[u])Object.prototype.hasOwnProperty.call(h,r)&&(s[r]=h[r]);return s},I.apply(this,arguments)};v=[D,G,D(196),D(893),D(391),D(112)],m=function(s,h,u,a,r,A){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var i=D(945),e=D(163).r,c=(function(){function d(l){var n,t=this;this.devices=[],this.isCalling=!1,this.isRegistered=!1,this.isMute=!1,this.isUI=!1,this.ivr="",this.init=function(o){if(!o&&!t.currentSoftPhone)throw new A.default("\u672A\u627E\u5230\u914D\u7F6E");t.isUI=!1,t.event=new r.default,t.currentSoftPhone&&(o=I(I({},t.currentSoftPhone),o)),o.logLevel=typeof o.logLevel=="number"?o.logLevel:3,t.currentSoftPhone=o,t.ring=t.createRing(o.ring||u.default),t.outputVideo=o.outputVideo||document.createElement("audio"),typeof t.currentSoftPhone.autoAnswer!="boolean"&&(t.currentSoftPhone.autoAnswer=!1),a.default.info("UA",navigator.userAgent),a.default.info("\u81EA\u52A8\u5E94\u7B54\u914D\u7F6E: ",t.currentSoftPhone.autoAnswer),t.getUserMedia((function(p){a.default.info("\u83B7\u53D6\u6388\u6743\u6210\u529F")})),t.getDevices().then((function(p){return o.el&&t.draw(o),t.register(o),p}))},this.register=function(o){t.ua&&t.ua.isRegistered&&t.ua.isRegistered()&&t.disconnect(),t.currentSoftPhone&&(o=I(I({},t.currentSoftPhone),o));var p=o.display,V=o.wss,q=o.wssport,E=o.account,C=o.password,w=o.domain;if(!(V&&q&&E&&C))throw new A.default("\u7F3A\u5C11\u5FC5\u8981\u7684\u6CE8\u518C\u53C2\u6570",t.event);var y=E+"@"+(w||V),O="wss://"+V+":"+q;p&&p!==""||(p=E),t.ua=new i.UA({wsServers:O,uri:y,hackIpInContact:V,password:C,userAgentString:"SoftPhoneSdk/"+e,traceSip:!0,rel100:i.C.supported.SUPPORTED,displayName:p,iceCheckingTimeout:1e3,allowLegacyNotifications:!0,hackWssInTransport:!0,wsServerMaxReconnection:10,wsServerReconnectionTimeout:1e4,connectionRecoveryMaxInterval:5e3,connectionRecoveryMinInterval:5e3,registerExpires:6e3,log:{level:o.logLevel}}),t.ua.on("invite",t.invite),t.ua.on("connected",t.connected),t.ua.on("disconnected",t.disconnected),t.ua.on("registered",t.registered),t.ua.on("registrationFailed",t.registrationFailed),t.ua.on("unregistered",t.unregistered)},this.unregister=function(){t.ua.unregister()},this.on=function(o,p){return t.event.on(o,p)},this.once=function(o,p){return t.event.once(o,p)},this.off=function(o,p){return t.event.off(o,p)},this.stop=function(){t.ua.stop()},this.disconnect=function(){t.ua&&t.ua.transport&&t.ua.transport.disconnect(),t.stopHeartbeat()},this.connected=function(o){t.event.run("Connected",o)},this.disconnected=function(o){t.isRegistered=!1,t.recovery(),t.event.run("Disconnected",o),t.stopHeartbeat()},this.inputCalled=function(o){if(t.isUI){var p=t.getInput("call");o&&o!==-1?p.value+=o:o===-1&&(p.value=p.value.slice(0,p.value.length-1)),p.value?t.getButton("backspace").style.display="block":t.getButton("backspace").style.display="none",t.targetNumber=p.value}else if(o&&o!==-1)t.targetNumber+=o;else if(o===-1){var V=t.getTargetNumber();t.targetNumber=V.slice(0,V.length-1)}return t},this.setCalled=function(o){return o=o.toString(),t.targetNumber=o,t.isUI&&(t.getInput("call").value=t.getTargetNumber()),t},this.call=function(o,p,V){var q=o||t.getTargetNumber(),E=[];if(!q)return a.default.error("\u5916\u547C\u53F7\u7801\u4E3A\u7A7A");if(!t.ua||!t.ua.isRegistered())return a.default.error("\u8BDD\u673A\u672A\u6CE8\u518C");p&&E.push("X-caller: "+p),V&&E.push("X-bridgeGw: "+V);var C=t.getConstraints();a.default.info("\u5F53\u524D\u547C\u53EB constraints",JSON.stringify(C)),t.incomingSession=t.ua.invite(q,{media:{constraints:C,render:{remote:t.outputVideo}},extraHeaders:E}),t.incomingSession.on("accepted",t.accepted),t.incomingSession.once("failed",t.callTerminated),t.incomingSession.once("terminated",t.terminated),t.incomingSession.on("progress",t.progress),t.changePanel("calling"),t.callType="callout",t.isUI&&(t.timeStart=new Date().getTime(),t.timeing(),t.updateCallingBtn(),t.setState("\u6B63\u5728\u547C\u53EB: "+t.getTargetNumber()))},this.hangup=function(){t.incomingSession?t.incomingSession.terminate():a.default.error("\u5F53\u524D\u6CA1\u6709\u901A\u8BDD")},this.mute=function(){t.incomingSession?(t.isMute=!0,t.incomingSession.mute(),t.updateCallingBtn()):a.default.error("\u5F53\u524D\u6CA1\u6709\u901A\u8BDD")},this.unMute=function(){t.incomingSession?(t.isMute=!1,t.incomingSession.unmute(),t.updateCallingBtn()):a.default.error("\u5F53\u524D\u6CA1\u6709\u901A\u8BDD")},this.invite=function(o,p){if(t.incomingSession&&o.reject({statusCode:"486",reasonPhrase:"Busy Here 2"}),t.incomingSession=o,t.incomingSession.once("terminated",t.terminated),t.incomingSession.on("progress",t.progress),t.isUI){t.timeStart=new Date().getTime(),t.timeing(),t.changePanel("calling");var V=t.incomingSession.remoteIdentity,q=V.displayName,E=V.friendlyName;t.setState("\u6765\u7535: "+(q||E.split("@")[0])),t.callType="incoming",t.updateCallingBtn()}if(t.currentSoftPhone.autoAnswer)a.default.info("\u672C\u6B21\u547C\u5165\u81EA\u52A8\u5E94\u7B54","this.currentSoftPhone.autoAnswer",t.currentSoftPhone.autoAnswer),t.answer();else{a.default.info("\u672C\u6B21\u547C\u5165\u5F00\u59CB\u632F\u94C3","this.currentSoftPhone.autoAnswer",t.currentSoftPhone.autoAnswer);try{t.ring.play(),t.incomingSession.progress({rel100:!0,media:{constraints:t.getConstraints(),render:{remote:t.outputVideo}}})}catch{a.default.warning("\u94C3\u58F0\u97F3\u9891\u64CD\u4F5C\u5931\u8D25, \u97F3\u9891\u5730\u5740: "+t.ring.src)}}t.event.run("Invite",t.incomingSession)},this.answer=function(){if(t.incomingSession){var o=t.getConstraints();a.default.info("\u5F53\u524D\u5E94\u7B54 constraints",JSON.stringify(t.getConstraints())),t.incomingSession.accept({media:{constraints:o,render:{remote:t.outputVideo}}}),t.incomingSession.off("terminated"),t.incomingSession.on("accepted",t.accepted),t.incomingSession.once("failed",t.answerFailed),t.incomingSession.once("terminated",t.terminated),t.incomingSession.on("progress",t.progress),t.changePanel("calling");try{t.ring.pause(),t.ring.load()}catch{a.default.warning("\u94C3\u58F0\u97F3\u9891\u64CD\u4F5C\u5931\u8D25, \u97F3\u9891\u5730\u5740: "+t.ring.src)}t.event.run("Answer",t.incomingSession)}},this.recovery=function(){t.incomingSession=null,t.isCalling=!1,t.callType=null,t.setIVR(""),t.updateCallingBtn(),t.changePanel(),t.isRegistered?t.setState("\u5DF2\u767B\u5F55"):t.setState("\u672A\u767B\u5F55"),clearTimeout(t.timer);try{t.ring.pause(),t.ring.load()}catch{a.default.warning("\u94C3\u58F0\u97F3\u9891\u64CD\u4F5C\u5931\u8D25, \u97F3\u9891\u5730\u5740: "+t.ring.src)}},this.getDevices=function(){return navigator.mediaDevices.enumerateDevices().then((function(o){for(var p=[],V=0;V<o.length;V++)p.push(o[V]);t.devices=p;var q=localStorage?localStorage.getItem("audioDeviceId"):"",E=localStorage?localStorage.getItem("videoDeviceId"):"";return q&&(t.currentDevices=t.devices.find((function(C){return C.deviceId==q}))),t.currentDevices||(t.currentDevices=t.devices.find((function(C){return C.kind=="audioinput"}))),E&&(t.currentVideoDevices=t.devices.find((function(C){return C.deviceId==E}))),t.currentVideoDevices||(t.currentVideoDevices=t.devices.find((function(C){return C.kind=="videoinput"}))),a.default.info("\u97F3\u9891\u8BBE\u5907\u4FE1\u606F",JSON.stringify(t.currentDevices)),a.default.info("\u89C6\u9891\u8BBE\u5907\u4FE1\u606F",JSON.stringify(t.currentVideoDevices)),t.currentVideoDevices||(t.outputVideo=document.createElement("audio")),p}))},this.isNotHttps=function(){return location.href.indexOf("http://localhost")==-1&&window.location.protocol.indexOf("https")==-1},this.registered=function(o){t.changePanel(),t.isRegistered=!0,t.setState("\u5DF2\u767B\u5F55"),a.default.info("\u767B\u5F55\u6210\u529F"),t.event.run("Registered",o),window.clearTimeout(t.heartbeatTimer),t.sendHeartbeat(),t.isUI&&(t.currentSoftPhone.autoAnswer=t.getInput("aa").checked)},this.progress=function(o){switch(o.status_code){case 100:t.event.run("Try",o);break;case 180:case 183:t.event.run("Ringing",o)}},this.registrationFailed=function(o){a.default.info("\u767B\u5F55\u5931\u8D25",o),t.event.run("RegistrationFailed",o),t.stopHeartbeat()},this.callTerminated=function(o){a.default.info("\u547C\u53EB\u5931\u8D25",o),t.recovery(),t.event.run("CallFailed",o)},this.answerFailed=function(o){a.default.info("\u5E94\u7B54\u5931\u8D25"),t.recovery(),t.event.run("AnswerFailed",o)},this.unregistered=function(o){t.isRegistered=!1,t.recovery(),t.event.run("UnRegistered",o),t.stopHeartbeat()},this.terminated=function(o){t.recovery(),t.event.run("Terminated",o)},this.accepted=function(o){t.isCalling=!0,t.timeStart=new Date().getTime(),t.changePanel("calling"),t.incomingSession.once("byed",t.terminated);try{var p=t.incomingSession.remoteIdentity,V=p.displayName,q=p.friendlyName;t.setState("\u901A\u8BDD\u4E2D: "+(t.getTargetNumber()||V||q.split("@")[0]))}catch(E){a.default.info("\u67E5\u627E\u901A\u8BDD\u53F7\u7801\u5F02\u5E38",E),t.setState("\u901A\u8BDD\u4E2D: \u672A\u77E5\u53F7\u7801")}t.updateCallingBtn(),t.event.run("Accepted",o)},this.draw=function(o,p){var V=o.el;if(!V||typeof V!="string"&&V instanceof HTMLElement)throw"create softphone UI exception: function draw arguments must be string or HTMLElement";if(t.container&&(t.container.innerHTML=""),t.container=typeof V=="string"?document.querySelector(V):V,!t.container)throw"create softphone UI exception: can not fond Element by "+V;if(t.isUI=!0,t.appendCss(),p)return t.container.innerHTML=p;t.container.innerHTML=`<div class="softphone" id="sp-softphone">
            <div class="softphone-register">
                <div class="softphone-row">
                    <span>wss:</span>
                    <input id="sp-input-wss" value="`.concat(o.wss,`" placeholder="\u8BF7\u8F93\u5165IP" type="text">
                </div>
                <div class="softphone-row">
                    <span>\u7AEF\u53E3:</span>
                    <input id="sp-input-port" value="`).concat(o.wssport,`" placeholder="\u8BF7\u8F93\u5165\u7AEF\u53E3" type="text">
                </div>
                <div class="softphone-row">
                    <span>\u8D26\u53F7:</span>
                    <input id="sp-input-acc" value="`).concat(o.account,`" placeholder="\u8BF7\u8F93\u5165\u8D26\u53F7" type="text">
                </div>
                <div class="softphone-row">
                    <span>\u5BC6\u7801:</span>
                    <input id="sp-input-pwd" value="`).concat(o.password,`" placeholder="\u8BF7\u8F93\u5165\u5BC6\u7801" type="password">
                </div>
                <div class="softphone-row">
                    <span>\u97F3\u9891:</span>
                    <select id="sp-input-devices" value="`).concat(t.currentDevices.deviceId,`" placeholder="\u9009\u62E9\u8BBE\u5907">
                        `).concat(t.devices.filter((function(q){return q.kind.indexOf("audio")>-1})).map((function(q){return"<option "+(q.deviceId==t.currentDevices.deviceId?"selected":"")+' value="'+q.deviceId+'">'+q.label+"</option>"})).join(""),`
                    </select>
                </div>
                <div class="softphone-row">
                    <span>\u89C6\u9891:</span>
                    <select id="sp-input-video-devices" value="`).concat(t.currentVideoDevices?t.currentVideoDevices.deviceId:"",`" placeholder="\u9009\u62E9\u8BBE\u5907">
                        `).concat(t.devices.filter((function(q){return q.kind.indexOf("video")>-1})).map((function(q){return"<option "+(q.deviceId==t.currentVideoDevices.deviceId?"selected":"")+' value="'+q.deviceId+'">'+q.label+"</option>"})).join(""),`
                    </select>
                </div>
                <div class="softphone-row autoanswer">
                    <span>\u81EA\u52A8\u63A5\u542C:</span>
                    <input id="sp-input-aa" type="checkbox">
                </div>
                <div class="softphone-row setting-btn">
                    <button class="register-btn" id="sp-btn-register">\u767B\u5F55</button>
                    <button class="register-btn" id="sp-btn-unregister">\u9000\u51FA</button>
                    <button class="register-btn" id="sp-btn-back">\u8FD4\u56DE</button>
                </div>
            </div>
            <div class="softphone-call">
                <input class="softphone-called" placeholder="\u8BF7\u8F93\u5165\u88AB\u53EB" type="text" name="" id="sp-input-call">
                <span class="softphone-backspace" id="sp-btn-backspace"></span>
                <button class="softphone-call-btn" id="sp-btn-call">\u547C\u53EB</button>
            </div>
            <div class="softphone-calling">
                <div id="sp-text-dtmf" class="softphone-ivr"></div>
                <div id="sp-text-call-time">00:00</div>
            </div>
            <div class="number-buttons" id="sp-btn-number">
                <div>
                    <button>1</button>
                    <button>2</button>
                    <button class="br">3</button>
                </div>
                <div>
                    <button>4</button>
                    <button>5</button>
                    <button class="br">6</button>
                </div>
                <div>
                    <button>7</button>
                    <button>8</button>
                    <button class="br">9</button>
                </div>
                <div>
                    <button class="bb">*</button>
                    <button class="bb">0</button>
                    <button class="br bb">#</button>
                </div>
            </div>
            <div class="softphone-calling-btn">
                <button id="sp-btn-answer">\u63A5\u542C</button>
                <button id="sp-btn-mute">\u9759\u97F3</button>
                <button id="sp-btn-unMute">\u53D6\u6D88\u9759\u97F3</button>
                <button id="sp-btn-hangup">\u6302\u65AD</button>
            </div>
            <div class="softphone-bar">
                <span class="softphone-status" id="sp-text-status"></span>
                <span class="softphone-setting" id="sp-btn-setting">\u8BBE\u7F6E</span>
            </div>
        </div>`),t.getInput("aa").checked=t.currentSoftPhone.autoAnswer,t.bindEvent()},this.dtmf=function(o){var p=o.toString();if(p.length>1)throw"DTMF\u5F02\u5E38: "+p+" \u6307\u4EE4\u4E0D\u5408\u6CD5";t.addIVR(p),t.incomingSession.dtmf(p,d.dtmfOptions)},this.dial=function(o){var p=o.toString();if(p.length>1)throw"\u62E8\u53F7\u5F02\u5E38: "+p+" \u53F7\u7801\u4E0D\u5408\u6CD5";t.inputCalled(p)},this.bindEvent=function(){t.getButton("call").addEventListener("click",(function(){return t.call()})),t.getInput("call").addEventListener("input",(function(){return t.inputCalled()})),t.getButton("backspace").addEventListener("click",(function(){t.inputCalled(-1)})),t.getButton("answer").addEventListener("click",(function(){return t.answer()})),t.getButton("mute").addEventListener("click",(function(){return t.mute()})),t.getButton("unMute").addEventListener("click",(function(){return t.unMute()})),t.getButton("hangup").addEventListener("click",(function(){t.hangup()})),t.getButton("number").addEventListener("click",(function(o){var p=o.target;p.nodeName==="BUTTON"&&(t.isCalling?t.dtmf(p.innerHTML):t.callType||t.inputCalled(p.innerHTML))})),t.getButton("setting").addEventListener("click",(function(){return t.changePanel("setting")})),t.getButton("back").addEventListener("click",(function(){t.currentSoftPhone&&(t.getInput("wss").value=t.currentSoftPhone.wss,t.getInput("port").value=t.currentSoftPhone.wssport,t.getInput("acc").value=t.currentSoftPhone.account,t.getInput("pwd").value=t.currentSoftPhone.password,t.getInput("aa").checked=t.currentSoftPhone.autoAnswer),t.changePanel()})),t.getButton("register").addEventListener("click",(function(){var o={wss:t.getInput("wss").value,wssport:t.getInput("port").value,account:t.getInput("acc").value,password:t.getInput("pwd").value,autoAnswer:t.getInput("aa").checked,debug:t.currentSoftPhone.debug};t.register(o)})),t.getButton("unregister").addEventListener("click",(function(){t.unregister()})),t.getInput("devices").addEventListener("change",(function(o){for(var p=o.target.value,V=0;V<t.devices.length;V++)p===t.devices[V].deviceId&&(t.currentDevices=t.devices[V])}))},this.changePanel=function(o){if(t.isUI){var p="softphone "+(o||""),V=t.getElement("softphone");V.className!==p&&(V.className=p)}},this.addIVR=function(o){t.ivr+=o,t.isUI&&(t.getText("dtmf").innerHTML=t.ivr)},this.setIVR=function(o){t.ivr=o,t.isUI&&(t.getText("dtmf").innerHTML=o)},this.getIVR=function(){return t.ivr},this.setState=function(o){t.isUI&&(t.getText("status").innerHTML=o)},this.updateCallingBtn=function(){t.isUI&&(t.getButton("setting").style.display="",t.isCalling?(t.getButton("answer").style.display="none",t.getButton("setting").style.display="none",t.isMute?(t.getButton("mute").style.display="none",t.getButton("unMute").style.display=""):(t.getButton("mute").style.display="",t.getButton("unMute").style.display="none")):(t.callType==="incoming"?(t.getButton("answer").style.display="",t.getButton("setting").style.display="none"):t.callType==="callout"?(t.getButton("answer").style.display="none",t.getButton("setting").style.display="none"):t.getButton("answer").style.display="none",t.getButton("mute").style.display="none",t.getButton("unMute").style.display="none"))},this.appendCss=function(){t.style&&t.style.remove(),t.style=document.createElement("style"),t.style.innerHTML=`.softphone {
            width: 200px;
            border: 1px solid #ccc;
            font-size: 0px;
        }
        .softphone .softphone-backspace {
            display: none;
            position: absolute;
            left: 101px;
            top: 8px;
            width: 16px;
            height: 13px;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA+hJREFUaEPtWE1oVFcUPue9CQzTQsSaiiKiSKm0okVppWIlWn8oVhFFcSEVd1Zo6CJzbwIFn4th3r13jJCNLkSwVRJ1p26kVWcTQdcqLoN04aIrU2MDM++Um75ofL7Mu/dOZkpgspz3fed83znn3XduEBb4Hy5w/dAx8H93sNOBTgearEBnhJosYNN0lw6gEOI0In4JAIWmFbgFGAeAG1EUjVkZCIIgVygURgHgkFveeWdxYwNBEOQLhcIIAByYdxnuAW8aGVBKfUBEuvLfu+dqCbOaaSAMw27f90eI6LuWSGguaGMDQ0NDi2u1mq78rubytIw9t4Hh4eGeqampUSLa4ZD+AgBcYYyNSSmHAeAnkxhEdIZzHiil1hPRLwBwOIOXbqBUKi3L5XKjiLjNJHEC8xoRe4rF4quZ34UQASKebhSLiI5xzq/OYMrlcq/v+/etDQghVgDANUTc4iBeU8YZY6uTXCHESUQ8nxazXq9vHxwcrM5+5mSgXC6v8n1fz/xmR/EztBuMsSMpJr5CxIeJ3/cxxm6nYEcQ8ahxB6SUa3TlAWBTk+Kn6YgoisXiQDJWorLHGWO/JjFSyssA8IOBjv/eASHEp4ioK/+FAckGMlcn9gNAN+f8txTxfwDAt4ZJqlipVD6LokhXfp0hyRZWZYxtNyFJKR8DwOcm2BhTRSnlHQDYbUFygVYnJyf3BUHwdxq5VCot7erqumspXoeaNkAuihw4TzzPO9Lf3/90NjeegOsO4ttq4BkR7eKc/5lmvFKpLImiSB+jNuPzxoDt3NkWfyKfz6/o6+t7mUV0egf0sZbL5e4RUeZilyUg5flfjLGe5O96bGq12qKBgYEHKaeQ/vr2GuZ6c4weRER9EuUMiSawMcbY1jTxURTpmV9Ur9ePJb/AGi+lNDXxdhcSQuyPTeRN1GVgUo/O+IV9Mpubtkbo50qpMSLKWmfeXebCMNyrVwki+rAZE2mipJT6MnQrLS4RbeacP0o+U0pNZGh5fxsNw3CP53l6nLpdTTDG3nmfhBAnEPFSo3hEtJtz/vtsjBDiBSIubcBLX6eVUjvjK+RHLib0Xg8AZznnE0KInxHxnGGcU4yx6Y3VZAWf/pDNFVgp1UtEuhMfGyZPwv4BgBcAsMqS/xwAIkNe4yullPIbANBL3nJLEe2CZ1/qlVJfx+O0sl2qLPJkG4jnUV9EdCfeu2lZJGsF1MxA/HHZGI/TJ61Q4hjT3IBOEIbhBs/zdCfWOiacb1povf8opdZFUfQjIp6abzUW8caJ6KL1P3ctErQNat2BtikzTNQxYFiolsE6HWhZaQ0DdzpgWKiWwRZ8B/4FEOtmWVQtQF0AAAAASUVORK5CYII=);
            background-size: 100%;
            cursor: pointer;
        }
        .softphone .softphone-called {
            width: 93px;
            height: 20px;
            display: block;
            padding: 5px 20px 5px 5px;
            border: 1px solid #ccc;
            border-right: none;
            border-radius: 4px 0px 0px 4px;
            outline: none;
            color: #333;
            float: left;
        }
        .softphone-call {
            overflow: hidden;
            width: 180px;
            margin: 5px auto 0px;
            position: relative;
        }
        .softphone .softphone-called:focus {
            border: 1px solid #333;
            border-right: none;
        }
        .softphone .softphone-called:hover {
            border: 1px solid #999;
            border-right: none;
        }
        
        .softphone .softphone-call-btn {
            float: left;
            width: 60px;
            height: 32px;
            display: block;
            border-radius: 0px 4px 4px 0px;
            border: 1px solid #ccc;
            cursor: pointer;
        }
        .softphone .softphone-call-btn:hover {
            border: 1px solid #999;
        }
        .softphone .softphone-call-btn:active {
            border: 1px solid #333;
        }
        .softphone .number-buttons {
            margin-top: 5px;
        }
        
        .softphone .number-buttons div {
            text-align: center;
        }
        
        .softphone.calling .number-buttons button {
            width: 50px;
            height: 50px;
        }
        
        .softphone .number-buttons button {
            width: 60px;
            height: 60px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 25px;
            border-top: 1px solid #ccc;
            border-left: 1px solid #ccc;
            transition: .3s all;
            -ms-transition: .3s all;
            -moz-transition: .3s all;
            -webkit-transition: .3s all;
            -o-transition: .3s all;
            color: #333;
        }
        
        .softphone button:hover {
            background: #999;
            color: #fff;
        }
        
        .softphone button:active {
            background: #555;
            color: #fff;
        }
        
        .softphone button.br {
            border-right: 1px solid #ccc;
        }
        
        .softphone button.bb {
            border-bottom: 1px solid #ccc;
        }
        
        .softphone .softphone-register {
            font-size: 12px;
        }
        .softphone .softphone-register .softphone-row.autoanswer input {
            width: 18px;
            margin: 0px;
        }
        .softphone .softphone-register .softphone-row.autoanswer {
            text-align: left;
        }
        .softphone .softphone-register .softphone-row.autoanswer span {
            width: 65px;
            float: left;
            text-align: left;
        }
        
        .softphone .softphone-register .softphone-row.setting-btn {
            margin-top: 10px;
        }
        
        .softphone .softphone-register .softphone-row.setting-btn button {
            margin: 0px 5px;
        }
        
        .softphone .softphone-register .softphone-row {
            width: 180px;
            margin: auto;
            font-size: 0px;
            margin-top: 10px;
            text-align: center;
        }
        
        .softphone .softphone-register .softphone-row span {
            display: inline-block;
            font-size: 14px;
            width: 35px;
            text-align: right;
            padding-right: 5px;
        }
        .softphone .softphone-register .softphone-row select {
            box-sizing: content-box;
        }
        .softphone .softphone-register .softphone-row select,
        .softphone .softphone-register .softphone-row input {
            display: inline-block;
            padding: 0px;
            border: 1px solid #ccc;
            width: 118px;
            height: 20px;
            padding: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            outline: none;
            color: #666;
        }
        
        .softphone .softphone-register .softphone-row select:hover,
        .softphone .softphone-register .softphone-row input:hover {
            border: 1px solid #999;
        }
        .softphone .softphone-register .softphone-row select:focus,
        .softphone .softphone-register .softphone-row input:focus {
            border: 1px solid #333;
        }
        
        .softphone button {
            display: inline-block;
            height: 32px;
            padding: 5px 10px;
            background: #999;
            color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
        }
        
        
        .softphone button:hover {
            background: #666;
        }
        
        .softphone button:active {
            background: #444;
        }
        
        .softphone .softphone-bar {
            height: 30px;
            width: 180px;
            font-size: 12px;
            margin: auto;
            line-height: 30px;
        }
        
        .softphone .softphone-bar .softphone-status {
            float: left;
        }
        .softphone .softphone-bar .softphone-setting {
            float: right;
            cursor: pointer;
        }
        .softphone .softphone-calling .softphone-ivr {
            text-overflow: ellipsis;
            overflow: hidden;
            text-indent: 0em;
            transition: .3s all;
        }
        .softphone .softphone-calling {
            font-size: 14px;
            text-align: center;
            padding-top: 5px;
        }
        .softphone .softphone-calling>div {
            height: 20px;
        }
        .softphone .softphone-calling-btn {
            padding-top: 10px;
            text-align: center;
        }
        .softphone .softphone-calling-btn button {
            height: 25px;
            padding: 0px 10px;
            margin: 0px 10px;
        }
        
        .softphone.setting .softphone-call,
        .softphone.setting .number-buttons,
        .softphone.setting .softphone-bar .softphone-setting,
        .softphone.calling .softphone-call,
        .softphone .softphone-register,
        .softphone .softphone-calling,
        .softphone .softphone-calling-btn {
            display: none;
        }
        
        .softphone.setting .softphone-register,
        .softphone.calling .softphone-calling-btn,
        .softphone.calling .softphone-calling {
            display: block;
        }
        
        .softphone.setting {
        
        }
        
        .softphone.calling .number-buttons button {
            width: 50px;
            height: 50px;
        }`,document.head.append(t.style)},this.createRing=function(o){var p=document.createElement("audio");return p.loop=!0,p.src=o,p},this.beep=(n=new(window.audioContext||window.AudioContext||window.AudioContext||window.webkitAudioContext),function(o,p,V){var q=n.createOscillator();typeof p=="number"&&(q.frequency.value=p),q.connect(n.destination),q.noteOn&&q.noteOn(0),q.start&&q.start(),setTimeout((function(){q.noteOff&&q.noteOff(0),q.stop&&q.stop(),V&&V()}),o)}),this.timeing=function(){var o=(new Date().getTime()-t.timeStart)/1e3,p=o/60;o%=60,t.getText("call-time").innerHTML=t.toDub(p)+":"+t.toDub(o),t.timer=window.setTimeout((function(){t.timeing()}),1e3)},this.toDub=function(o){return(o=parseInt(o.toString()))<10?"0"+o:o.toString()},this.getTargetNumber=function(){return t.targetNumber},this.getElement=function(o){return document.getElementById("sp-"+o)},this.getButton=function(o){return t.getElement("btn-"+o)},this.getInput=function(o){return t.getElement("input-"+o)},this.getText=function(o){return t.getElement("text-"+o)},this.setAutoAnswer=function(o){t.currentSoftPhone.autoAnswer=o},this.init(l)}return d.prototype.getConstraints=function(){return{video:!!this.isVideo()&&{deviceId:{ideal:this.currentVideoDevices.deviceId}},audio:{deviceId:{ideal:this.currentDevices.deviceId}}}},d.prototype.isVideo=function(){return!(this.outputVideo.tagName!="VIDEO"||!this.currentVideoDevices)},d.prototype.sendHeartbeat=function(){var l=this;this.stopHeartbeat(),this.heartbeatTimer=window.setTimeout((function(){l.ua.request(i.C.OPTIONS,l.currentSoftPhone.account+"@"+l.currentSoftPhone.wss),l.sendHeartbeat()}),6e4)},d.prototype.stopHeartbeat=function(){window.clearTimeout(this.heartbeatTimer)},d.prototype.getUserMedia=function(l){var n=this;if(a.default.info("\u5C1D\u8BD5\u83B7\u53D6\u8BBE\u5907\u6388\u6743"),!navigator.mediaDevices)throw this.isNotHttps()?new A.default("\u4E0D\u652F\u6301WebRTC\u7684\u73AF\u5883, \u8BF7\u4F7F\u7528https\u534F\u8BAE\u8BBF\u95EE",this.event):new A.default("\u4E0D\u652F\u6301WebRTC\u7684\u73AF\u5883, \u68C0\u67E5\u6D4F\u89C8\u5668\u662F\u5426\u652F\u6301WebRTC",this.event);var t={audio:!0,video:this.outputVideo.tagName=="VIDEO"};return navigator.mediaDevices.getUserMedia(t).then((function(o){return l&&l(o)})).catch((function(o){throw o.toString().indexOf("Permission denied")>0?new A.default("\u83B7\u53D6\u6388\u6743\u5931\u8D25:\u672A\u83B7\u53D6\u9EA6\u514B\u98CE\u6388\u6743",n.event):o.toString().indexOf("Requested device not found")>0?new A.default("\u83B7\u53D6\u6388\u6743\u5931\u8D25:\u8BBE\u5907\u672A\u627E\u5230: "+o+JSON.stringify(t),n.event):new A.default("\u83B7\u53D6\u6388\u6743\u5931\u8D25:\u83B7\u53D6\u5A92\u4F53\u5F02\u5E38: "+o,n.event)}))},d.prototype.destroy=function(){this.stop(),this.style&&(this.style.innerHTML=""),this.container&&(this.container.innerHTML=""),this.isUI=!1,this.ring&&this.ring.remove(),this.outputVideo&&this.outputVideo.remove(),this.currentSoftPhone=null,this.event&&this.event.clearEvent()},d.dtmfOptions={duration:100,interToneGap:100},d})();h.default=c}.apply(G,v),m===void 0||(F.exports=m)},196:function(F,G,D){var v;v=function(m,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default="data:audio/mpeg;base64,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"}.apply(G,[D,G]),v===void 0||(F.exports=v)},112:function(F,G,D){var v;v=function(m,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0});var s=D(163).r;I.default=function(h,u){this.version="SPS_".concat(s),this.message=h,u&&u.run("Exception",this)}}.apply(G,[D,G]),v===void 0||(F.exports=v)},893:function(F,G,D){var v,m=this&&this.__spreadArray||function(I,s,h){if(h||arguments.length===2)for(var u,a=0,r=s.length;a<r;a++)!u&&a in s||(u||(u=Array.prototype.slice.call(s,0,a)),u[a]=s[a]);return I.concat(u||Array.prototype.slice.call(s))};v=function(I,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var h=D(163).r,u=(function(){function a(){}return a.info=function(r){for(var A=[],i=1;i<arguments.length;i++)A[i-1]=arguments[i];console.log.apply(console,m([a.getDateTime()+" "+a.prefix+`\r
`+r],A,!1))},a.success=function(r){},a.error=function(r){for(var A=[],i=1;i<arguments.length;i++)A[i-1]=arguments[i];console.error.apply(console,m([a.getDateTime()+" "+a.prefix+r],A,!1))},a.warning=function(r){for(var A=[],i=1;i<arguments.length;i++)A[i-1]=arguments[i];console.warn.apply(console,m([a.getDateTime()+" "+a.prefix+r],A,!1))},a.fail=function(r){},a.sendServer=function(r){},a.getDateTime=function(){var r=new Date;return r.toLocaleDateString()+" "+r.toLocaleTimeString()},a.isServer=!1,a.prefix="SPS_".concat(h),a})();s.default=u}.apply(G,[D,G]),v===void 0||(F.exports=v)},945:function(F,G,D){F.exports=(function v(m,I,s){function h(r,A){if(!I[r]){if(!m[r]){if(u)return u(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var e=I[r]={exports:{}};m[r][0].call(e.exports,(function(c){return h(m[r][1][c]||c)}),e,e.exports,v,m,I,s)}return I[r].exports}for(var u=void 0,a=0;a<s.length;a++)h(s[a]);return h})({1:[function(v,m,I){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function h(r){return typeof r=="function"}function u(r){return typeof r=="object"&&r!==null}function a(r){return r===void 0}m.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||isNaN(r))throw TypeError("n must be a positive number");return this._maxListeners=r,this},s.prototype.emit=function(r){var A,i,e,c,d,l;if(this._events||(this._events={}),r==="error"&&(!this._events.error||u(this._events.error)&&!this._events.error.length))throw(A=arguments[1])instanceof Error?A:TypeError('Uncaught, unspecified "error" event.');if(a(i=this._events[r]))return!1;if(h(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,c=new Array(e-1),d=1;d<e;d++)c[d-1]=arguments[d];i.apply(this,c)}else if(u(i)){for(e=arguments.length,c=new Array(e-1),d=1;d<e;d++)c[d-1]=arguments[d];for(e=(l=i.slice()).length,d=0;d<e;d++)l[d].apply(this,c)}return!0},s.prototype.addListener=function(r,A){var i;if(!h(A))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",r,h(A.listener)?A.listener:A),this._events[r]?u(this._events[r])?this._events[r].push(A):this._events[r]=[this._events[r],A]:this._events[r]=A,u(this._events[r])&&!this._events[r].warned&&(i=a(this._maxListeners)?s.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[r].length>i&&(this._events[r].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[r].length),typeof console.trace=="function"&&console.trace()),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(r,A){if(!h(A))throw TypeError("listener must be a function");var i=!1;function e(){this.removeListener(r,e),i||(i=!0,A.apply(this,arguments))}return e.listener=A,this.on(r,e),this},s.prototype.removeListener=function(r,A){var i,e,c,d;if(!h(A))throw TypeError("listener must be a function");if(!this._events||!this._events[r])return this;if(c=(i=this._events[r]).length,e=-1,i===A||h(i.listener)&&i.listener===A)delete this._events[r],this._events.removeListener&&this.emit("removeListener",r,A);else if(u(i)){for(d=c;d-- >0;)if(i[d]===A||i[d].listener&&i[d].listener===A){e=d;break}if(e<0)return this;i.length===1?(i.length=0,delete this._events[r]):i.splice(e,1),this._events.removeListener&&this.emit("removeListener",r,A)}return this},s.prototype.removeAllListeners=function(r){var A,i;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[r]&&delete this._events[r],this;if(arguments.length===0){for(A in this._events)A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events={},this}if(h(i=this._events[r]))this.removeListener(r,i);else for(;i.length;)this.removeListener(r,i[i.length-1]);return delete this._events[r],this},s.prototype.listeners=function(r){return this._events&&this._events[r]?h(this._events[r])?[this._events[r]]:this._events[r].slice():[]},s.listenerCount=function(r,A){return r._events&&r._events[A]?h(r._events[A])?1:r._events[A].length:0}},{}],2:[function(v,m,I){m.exports={name:"sip.js",title:"SIP.js",description:"A simple, intuitive, and powerful JavaScript signaling library",version:"0.7.8",main:"src/index.js",browser:{"./src/environment.js":"./src/environment_browser.js"},homepage:"http://sipjs.com",author:"OnSIP <developer@onsip.com> (http://sipjs.com/authors/)",contributors:[{url:"https://github.com/onsip/SIP.js/blob/master/THANKS.md"}],repository:{type:"git",url:"https://github.com/onsip/SIP.js.git"},keywords:["sip","websocket","webrtc","library","javascript"],devDependencies:{beefy:"^2.1.5",browserify:"^4.1.8",grunt:"~0.4.0","grunt-browserify":"^4.0.1","grunt-cli":"~0.1.6","grunt-contrib-copy":"^0.5.0","grunt-contrib-jasmine":"^1.0.3","grunt-contrib-jshint":">0.5.0","grunt-contrib-uglify":"~0.2.0","grunt-peg":"~1.3.1","grunt-trimtrailingspaces":"^0.4.0",pegjs:"^0.8.0"},engines:{node:">=0.12"},license:"MIT",scripts:{repl:"beefy test/repl.js --open",build:"grunt build",prepublish:"cd src/Grammar && mkdir -p dist && pegjs --extra-options-file peg.json src/Grammar.pegjs dist/Grammar.js",test:"grunt travis --verbose"},dependencies:{ws:"^1.0.1"},optionalDependencies:{promiscuous:"^0.6.0"}}},{}],3:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u,a,r,A){var i=r;if(r===void 0)throw new TypeError("Not enough arguments");if(this.ua=u,this.logger=u.getLogger("sip.clientcontext"),this.method=a,!(r=u.normalizeTarget(r)))throw new TypeError("Invalid target: "+i);(A=Object.create(A||Object.prototype)).extraHeaders=(A.extraHeaders||[]).slice(),this.request=new s.OutgoingRequest(this.method,r,this.ua,A.params,A.extraHeaders),A.body&&(this.body={},this.body.body=A.body,A.contentType&&(this.body.contentType=A.contentType),this.request.body=this.body),this.localIdentity=this.request.from,this.remoteIdentity=this.request.to,this.data={}}).prototype=Object.create(s.EventEmitter.prototype),h.prototype.send=function(){return new s.RequestSender(this,this.ua).send(),this},h.prototype.cancel=function(u){(u=u||{}).extraHeaders=(u.extraHeaders||[]).slice();var a=s.Utils.getCancelReason(u.status_code,u.reason_phrase);this.request.cancel(a,u.extraHeaders),this.emit("cancel")},h.prototype.receiveResponse=function(u){var a=s.Utils.getReasonPhrase(u.status_code);switch(!0){case/^1[0-9]{2}$/.test(u.status_code):this.emit("progress",u,a);break;case/^2[0-9]{2}$/.test(u.status_code):this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("accepted",u,a);break;default:this.ua.applicants[this]&&delete this.ua.applicants[this],this.emit("rejected",u,a),this.emit("failed",u,a)}},h.prototype.onRequestTimeout=function(){this.emit("failed",null,s.C.causes.REQUEST_TIMEOUT)},h.prototype.onTransportError=function(){this.emit("failed",null,s.C.causes.CONNECTION_ERROR)},s.ClientContext=h}},{}],4:[function(v,m,I){"use strict";m.exports=function(s,h){return{USER_AGENT:s+"/"+h,SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",AUTHENTICATION_ERROR:"Authentication Error",DIALOG_ERROR:"Dialog Error",WEBRTC_NOT_SUPPORTED:"WebRTC Not Supported",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",NO_PRACK:"No PRACK",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},supported:{UNSUPPORTED:"none",SUPPORTED:"supported",REQUIRED:"required"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",REFER:"REFER",PRACK:"PRACK",REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},OPTION_TAGS:{"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}}}},{}],5:[function(v,m,I){"use strict";m.exports=function(s){var h;return(h=function(u,a,r){this.dialog=u,this.applicant=a,this.request=r,this.reattempt=!1,this.reattemptTimer=null}).prototype={send:function(){var u=this,a=new s.RequestSender(this,this.dialog.owner.ua);a.send(),this.request.method===s.C.INVITE&&a.clientTransaction.state!==s.Transactions.C.STATUS_TERMINATED&&(this.dialog.uac_pending_reply=!0,a.clientTransaction.on("stateChanged",(function r(){this.state!==s.Transactions.C.STATUS_ACCEPTED&&this.state!==s.Transactions.C.STATUS_COMPLETED&&this.state!==s.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",r),u.dialog.uac_pending_reply=!1,u.dialog.uas_pending_reply===!1&&u.dialog.owner.onReadyToReinvite())})))},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(u){var a=this;u.status_code===408||u.status_code===481?this.applicant.onDialogError(u):u.method===s.C.INVITE&&u.status_code===491?this.reattempt?this.applicant.receiveResponse(u):(this.request.cseq.value=this.dialog.local_seqnum+=1,this.reattemptTimer=s.Timers.setTimeout((function(){a.applicant.owner.status!==s.Session.C.STATUS_TERMINATED&&(a.reattempt=!0,a.request_sender.send())}),this.getReattemptTimeout())):this.applicant.receiveResponse(u)}},h}},{}],6:[function(v,m,I){"use strict";m.exports=function(s){var h,u=v("./Dialog/RequestSender")(s),a={STATUS_EARLY:1,STATUS_CONFIRMED:2};(h=function(r,A,i,e){var c;if(this.uac_pending_reply=!1,this.uas_pending_reply=!1,!A.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};e=A instanceof s.IncomingResponse?A.status_code<200?a.STATUS_EARLY:a.STATUS_CONFIRMED:e||a.STATUS_CONFIRMED,c=A.parseHeader("contact"),i==="UAS"?(this.id={call_id:A.call_id,local_tag:A.to_tag,remote_tag:A.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=e,this.remote_seqnum=A.cseq,this.local_uri=A.parseHeader("to").uri,this.remote_uri=A.parseHeader("from").uri,this.remote_target=c.uri,this.route_set=A.getHeaders("record-route"),this.invite_seqnum=A.cseq,this.local_seqnum=A.cseq):i==="UAC"&&(this.id={call_id:A.call_id,local_tag:A.from_tag,remote_tag:A.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this.state=e,this.invite_seqnum=A.cseq,this.local_seqnum=A.cseq,this.local_uri=A.parseHeader("from").uri,this.pracked=[],this.remote_uri=A.parseHeader("to").uri,this.remote_target=c.uri,this.route_set=A.getHeaders("record-route").reverse(),this.state!==a.STATUS_EARLY||r.hasOffer||(this.mediaHandler=r.mediaHandlerFactory(r))),this.logger=r.ua.getLogger("sip.dialog",this.id.toString()),this.owner=r,r.ua.dialogs[this.id.toString()]=this,this.logger.log("new "+i+" dialog created with status "+(this.state===a.STATUS_EARLY?"EARLY":"CONFIRMED")),r.emit("dialog",this)}).prototype={update:function(r,A){this.state=a.STATUS_CONFIRMED,this.logger.log("dialog "+this.id.toString()+"  changed to CONFIRMED state"),A==="UAC"&&(this.route_set=r.getHeaders("record-route").reverse())},terminate:function(){this.logger.log("dialog "+this.id.toString()+" deleted"),this.mediaHandler&&this.state!==a.STATUS_CONFIRMED&&this.mediaHandler.peerConnection.close(),delete this.owner.ua.dialogs[this.id.toString()]},createRequest:function(r,A,i){var e,c;return A=(A||[]).slice(),this.local_seqnum||(this.local_seqnum=Math.floor(1e4*Math.random())),e=r===s.C.CANCEL||r===s.C.ACK?this.invite_seqnum:this.local_seqnum+=1,(c=new s.OutgoingRequest(r,this.remote_target,this.owner.ua,{cseq:e,call_id:this.id.call_id,from_uri:this.local_uri,from_tag:this.id.local_tag,to_uri:this.remote_uri,to_tag:this.id.remote_tag,route_set:this.route_set},A,i)).dialog=this,c},checkInDialogRequest:function(r){var A=this;if(this.remote_seqnum){if(r.cseq<this.remote_seqnum)return r.method!==s.C.ACK&&r.reply(500),r.cseq===this.invite_seqnum;r.cseq>this.remote_seqnum&&(this.remote_seqnum=r.cseq)}else this.remote_seqnum=r.cseq;switch(r.method){case s.C.INVITE:if(this.uac_pending_reply===!0)r.reply(491);else{if(this.uas_pending_reply===!0){var i=1+(10*Math.random()|0);return r.reply(500,null,["Retry-After:"+i]),!1}this.uas_pending_reply=!0,r.server_transaction.on("stateChanged",(function e(){this.state!==s.Transactions.C.STATUS_ACCEPTED&&this.state!==s.Transactions.C.STATUS_COMPLETED&&this.state!==s.Transactions.C.STATUS_TERMINATED||(this.removeListener("stateChanged",e),A.uas_pending_reply=!1,A.uac_pending_reply===!1&&A.owner.onReadyToReinvite())}))}r.hasHeader("contact")&&r.server_transaction.on("stateChanged",(function(){this.state===s.Transactions.C.STATUS_ACCEPTED&&(A.remote_target=r.parseHeader("contact").uri)}));break;case s.C.NOTIFY:r.hasHeader("contact")&&r.server_transaction.on("stateChanged",(function(){this.state===s.Transactions.C.STATUS_COMPLETED&&(A.remote_target=r.parseHeader("contact").uri)}))}return!0},sendRequest:function(r,A,i){var e=((i=i||{}).extraHeaders||[]).slice(),c=null;i.body&&(i.body.body?c=i.body:((c={}).body=i.body,i.contentType&&(c.contentType=i.contentType)));var d=this.createRequest(A,e,c);return new u(this,r,d).send(),d},receiveRequest:function(r){this.checkInDialogRequest(r)&&this.owner.receiveRequest(r)}},h.C=a,s.Dialog=h}},{"./Dialog/RequestSender":5}],7:[function(v,m,I){"use strict";m.exports=function(s){var h;return(h=function(u){this.logger=u.getLogger("sipjs.digestauthentication"),this.username=u.configuration.authorizationUser,this.password=u.configuration.password,this.cnonce=null,this.nc=0,this.ncHex="00000000",this.response=null}).prototype.authenticate=function(u,a){if(this.algorithm=a.algorithm,this.realm=a.realm,this.nonce=a.nonce,this.opaque=a.opaque,this.stale=a.stale,this.algorithm){if(this.algorithm!=="MD5")return this.logger.warn('challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(a.qop)if(a.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(a.qop.indexOf("auth-int")>-1))return this.logger.warn('challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this.qop="auth-int"}else this.qop=null;return this.method=u.method,this.uri=u.ruri,this.cnonce=s.createRandomToken(12),this.nc+=1,this.updateNcHex(),this.nc===4294967296&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(),!0},h.prototype.calculateResponse=function(){var u,a;u=s.calculateMD5(this.username+":"+this.realm+":"+this.password),this.qop==="auth"?(a=s.calculateMD5(this.method+":"+this.uri),this.response=s.calculateMD5(u+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+a)):this.qop==="auth-int"?(a=s.calculateMD5(this.method+":"+this.uri+":"+s.calculateMD5(this.body?this.body:"")),this.response=s.calculateMD5(u+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+a)):this.qop===null&&(a=s.calculateMD5(this.method+":"+this.uri),this.response=s.calculateMD5(u+":"+this.nonce+":"+a))},h.prototype.toString=function(){var u=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return u.push("algorithm="+this.algorithm),u.push('username="'+this.username+'"'),u.push('realm="'+this.realm+'"'),u.push('nonce="'+this.nonce+'"'),u.push('uri="'+this.uri+'"'),u.push('response="'+this.response+'"'),this.opaque&&u.push('opaque="'+this.opaque+'"'),this.qop&&(u.push("qop="+this.qop),u.push('cnonce="'+this.cnonce+'"'),u.push("nc="+this.ncHex)),"Digest "+u.join(", ")},h.prototype.updateNcHex=function(){var u=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-u.length)+u},h}},{}],8:[function(v,m,I){"use strict";var s=v("events").EventEmitter;m.exports=function(h){function u(){s.call(this)}return u.prototype=Object.create(s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),u.prototype.off=function(a,r){return h.warn(`SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.
Please use removeListener or removeAllListeners instead.
See here for more details:
http://nodejs.org/api/events.html#events_emitter_removelistener_event_listener`),arguments.length<2?this.removeAllListeners.apply(this,arguments):this.removeListener(a,r)},u}},{events:1}],9:[function(v,m,I){"use strict";var s;m.exports={ConfigurationError:(s=function(h,u){this.code=1,this.name="CONFIGURATION_ERROR",this.parameter=h,this.value=u,this.message=this.value?"Invalid value "+JSON.stringify(this.value)+' for parameter "'+this.parameter+'"':"Missing parameter: "+this.parameter},s.prototype=new Error,s),InvalidStateError:(function(){var h=function(u){this.code=2,this.name="INVALID_STATE_ERROR",this.status=u,this.message="Invalid status: "+u};return h.prototype=new Error,h})(),NotSupportedError:(function(){var h=function(u){this.code=3,this.name="NOT_SUPPORTED_ERROR",this.message=u};return h.prototype=new Error,h})(),GetDescriptionError:(function(){var h=function(u){this.code=4,this.name="GET_DESCRIPTION_ERROR",this.message=u};return h.prototype=new Error,h})()}},{}],10:[function(v,m,I){"use strict";var s=v("./Grammar/dist/Grammar");m.exports=function(h){return{parse:function(u,a){var r={startRule:a,SIP:h};try{s.parse(u,r)}catch{r.data=-1}return r.data}}}},{"./Grammar/dist/Grammar":11}],11:[function(v,m,I){m.exports=(function(){function s(h,u,a,r,A,i){this.message=h,this.expected=u,this.found=a,this.offset=r,this.line=A,this.column=i,this.name="SyntaxError"}return(function(h,u){function a(){this.constructor=h}a.prototype=u.prototype,h.prototype=new a})(s,Error),{SyntaxError:s,parse:function(h){var u,a,r,A,i,e=arguments.length>1?arguments[1]:{},c={},d={Contact:118,Name_Addr_Header:155,Record_Route:175,Request_Response:81,SIP_URI:45,Subscription_State:185,Supported:190,Require:181,Via:193,absoluteURI:84,Call_ID:117,Content_Disposition:129,Content_Length:134,Content_Type:135,CSeq:145,displayName:121,Event:148,From:150,host:52,Max_Forwards:153,Min_SE:212,Proxy_Authenticate:156,quoted_string:40,Refer_To:177,Replaces:178,Session_Expires:209,stun_URI:216,To:191,turn_URI:223,uuid:226,WWW_Authenticate:208,challenge:157},l=118,n=[`\r
`,{type:"literal",value:`\r
`,description:'"\\r\\n"'},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},/^[a-zA-Z]/,{type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},/^[0-9a-fA-F]/,{type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},/^[\0-\xFF]/,{type:"class",value:"[\\0-\\xFF]",description:"[\\0-\\xFF]"},/^["]/,{type:"class",value:'["]',description:'["]'}," ",{type:"literal",value:" ",description:'" "'},"	",{type:"literal",value:"	",description:'"\\t"'},/^[a-zA-Z0-9]/,{type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},";",{type:"literal",value:";",description:'";"'},"/",{type:"literal",value:"/",description:'"/"'},"?",{type:"literal",value:"?",description:'"?"'},":",{type:"literal",value:":",description:'":"'},"@",{type:"literal",value:"@",description:'"@"'},"&",{type:"literal",value:"&",description:'"&"'},"=",{type:"literal",value:"=",description:'"="'},"+",{type:"literal",value:"+",description:'"+"'},"$",{type:"literal",value:"$",description:'"$"'},",",{type:"literal",value:",",description:'","'},"-",{type:"literal",value:"-",description:'"-"'},"_",{type:"literal",value:"_",description:'"_"'},".",{type:"literal",value:".",description:'"."'},"!",{type:"literal",value:"!",description:'"!"'},"~",{type:"literal",value:"~",description:'"~"'},"*",{type:"literal",value:"*",description:'"*"'},"'",{type:"literal",value:"'",description:`"'"`},"(",{type:"literal",value:"(",description:'"("'},")",{type:"literal",value:")",description:'")"'},c,"%",{type:"literal",value:"%",description:'"%"'},null,[],function(){return" "},function(){return":"},/^[!-~]/,{type:"class",value:"[!-~]",description:"[!-~]"},/^[\x80-\uFFFF]/,{type:"class",value:"[\\x80-\\uFFFF]",description:"[\\x80-\\uFFFF]"},/^[\x80-\xBF]/,{type:"class",value:"[\\x80-\\xBF]",description:"[\\x80-\\xBF]"},/^[a-f]/,{type:"class",value:"[a-f]",description:"[a-f]"},"`",{type:"literal",value:"`",description:'"`"'},"<",{type:"literal",value:"<",description:'"<"'},">",{type:"literal",value:">",description:'">"'},"\\",{type:"literal",value:"\\",description:'"\\\\"'},"[",{type:"literal",value:"[",description:'"["'},"]",{type:"literal",value:"]",description:'"]"'},"{",{type:"literal",value:"{",description:'"{"'},"}",{type:"literal",value:"}",description:'"}"'},function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,{type:"class",value:"[!-']",description:"[!-']"},/^[*-[]/,{type:"class",value:"[*-[]",description:"[*-[]"},/^[\]-~]/,{type:"class",value:"[\\]-~]",description:"[\\]-~]"},function(f){return f},/^[#-[]/,{type:"class",value:"[#-[]",description:"[#-[]"},/^[\0-\t]/,{type:"class",value:"[\\0-\\t]",description:"[\\0-\\t]"},/^[\x0B-\f]/,{type:"class",value:"[\\x0B-\\f]",description:"[\\x0B-\\f]"},/^[\x0E-]/,{type:"class",value:"[\\x0E-\x7F]",description:"[\\x0E-\x7F]"},function(){e.data.uri=new e.SIP.URI(e.data.scheme,e.data.user,e.data.host,e.data.port),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port},function(){e.data.uri=new e.SIP.URI(e.data.scheme,e.data.user,e.data.host,e.data.port,e.data.uri_params,e.data.uri_headers),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port,delete e.data.uri_params,e.startRule==="SIP_URI"&&(e.data=e.data.uri)},"sips",{type:"literal",value:"sips",description:'"sips"'},"sip",{type:"literal",value:"sip",description:'"sip"'},function(f){e.data.scheme=f},function(){e.data.user=decodeURIComponent(y().slice(0,-1))},function(){e.data.password=y()},function(){return e.data.host=y(),e.data.host},function(){return e.data.host_type="domain",y()},/^[a-zA-Z0-9_\-]/,{type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},/^[a-zA-Z0-9\-]/,{type:"class",value:"[a-zA-Z0-9\\-]",description:"[a-zA-Z0-9\\-]"},function(){return e.data.host_type="IPv6",y()},"::",{type:"literal",value:"::",description:'"::"'},function(){return e.data.host_type="IPv6",y()},function(){return e.data.host_type="IPv4",y()},"25",{type:"literal",value:"25",description:'"25"'},/^[0-5]/,{type:"class",value:"[0-5]",description:"[0-5]"},"2",{type:"literal",value:"2",description:'"2"'},/^[0-4]/,{type:"class",value:"[0-4]",description:"[0-4]"},"1",{type:"literal",value:"1",description:'"1"'},/^[1-9]/,{type:"class",value:"[1-9]",description:"[1-9]"},function(f){return f=parseInt(f.join("")),e.data.port=f,f},"transport=",{type:"literal",value:"transport=",description:'"transport="'},"udp",{type:"literal",value:"udp",description:'"udp"'},"tcp",{type:"literal",value:"tcp",description:'"tcp"'},"sctp",{type:"literal",value:"sctp",description:'"sctp"'},"tls",{type:"literal",value:"tls",description:'"tls"'},function(f){e.data.uri_params||(e.data.uri_params={}),e.data.uri_params.transport=f.toLowerCase()},"user=",{type:"literal",value:"user=",description:'"user="'},"phone",{type:"literal",value:"phone",description:'"phone"'},"ip",{type:"literal",value:"ip",description:'"ip"'},function(f){e.data.uri_params||(e.data.uri_params={}),e.data.uri_params.user=f.toLowerCase()},"method=",{type:"literal",value:"method=",description:'"method="'},function(f){e.data.uri_params||(e.data.uri_params={}),e.data.uri_params.method=f},"ttl=",{type:"literal",value:"ttl=",description:'"ttl="'},function(f){e.data.params||(e.data.params={}),e.data.params.ttl=f},"maddr=",{type:"literal",value:"maddr=",description:'"maddr="'},function(f){e.data.uri_params||(e.data.uri_params={}),e.data.uri_params.maddr=f},"lr",{type:"literal",value:"lr",description:'"lr"'},function(){e.data.uri_params||(e.data.uri_params={}),e.data.uri_params.lr=void 0},function(f,R){e.data.uri_params||(e.data.uri_params={}),R=R===null?void 0:R[1],e.data.uri_params[f.toLowerCase()]=R&&R.toLowerCase()},function(f,R){f=f.join("").toLowerCase(),R=R.join(""),e.data.uri_headers||(e.data.uri_headers={}),e.data.uri_headers[f]?e.data.uri_headers[f].push(R):e.data.uri_headers[f]=[R]},function(){e.startRule==="Refer_To"&&(e.data.uri=new e.SIP.URI(e.data.scheme,e.data.user,e.data.host,e.data.port,e.data.uri_params,e.data.uri_headers),delete e.data.scheme,delete e.data.user,delete e.data.host,delete e.data.host_type,delete e.data.port,delete e.data.uri_params)},"//",{type:"literal",value:"//",description:'"//"'},function(){e.data.scheme=y()},{type:"literal",value:"SIP",description:'"SIP"'},function(){e.data.sip_version=y()},"INVITE",{type:"literal",value:"INVITE",description:'"INVITE"'},"ACK",{type:"literal",value:"ACK",description:'"ACK"'},"VXACH",{type:"literal",value:"VXACH",description:'"VXACH"'},"OPTIONS",{type:"literal",value:"OPTIONS",description:'"OPTIONS"'},"BYE",{type:"literal",value:"BYE",description:'"BYE"'},"CANCEL",{type:"literal",value:"CANCEL",description:'"CANCEL"'},"REGISTER",{type:"literal",value:"REGISTER",description:'"REGISTER"'},"SUBSCRIBE",{type:"literal",value:"SUBSCRIBE",description:'"SUBSCRIBE"'},"NOTIFY",{type:"literal",value:"NOTIFY",description:'"NOTIFY"'},"REFER",{type:"literal",value:"REFER",description:'"REFER"'},function(){return e.data.method=y(),e.data.method},function(f){e.data.status_code=parseInt(f.join(""))},function(){e.data.reason_phrase=y()},function(){e.data=y()},function(){var f,R;for(R=e.data.multi_header.length,f=0;f<R;f++)if(e.data.multi_header[f].parsed===null){e.data=null;break}e.data!==null?e.data=e.data.multi_header:e.data=-1},function(){var f;e.data.multi_header||(e.data.multi_header=[]);try{f=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params),delete e.data.uri,delete e.data.displayName,delete e.data.params}catch{f=null}e.data.multi_header.push({position:o,offset:O(),parsed:f})},function(f){(f=y().trim())[0]==='"'&&(f=f.substring(1,f.length-1)),e.data.displayName=f},"q",{type:"literal",value:"q",description:'"q"'},function(f){e.data.params||(e.data.params={}),e.data.params.q=f},"expires",{type:"literal",value:"expires",description:'"expires"'},function(f){e.data.params||(e.data.params={}),e.data.params.expires=f},function(f){return parseInt(f.join(""))},"0",{type:"literal",value:"0",description:'"0"'},function(){return parseFloat(y())},function(f,R){e.data.params||(e.data.params={}),R=R===null?void 0:R[1],e.data.params[f.toLowerCase()]=R},"render",{type:"literal",value:"render",description:'"render"'},"session",{type:"literal",value:"session",description:'"session"'},"icon",{type:"literal",value:"icon",description:'"icon"'},"alert",{type:"literal",value:"alert",description:'"alert"'},function(){e.startRule==="Content_Disposition"&&(e.data.type=y().toLowerCase())},"handling",{type:"literal",value:"handling",description:'"handling"'},"optional",{type:"literal",value:"optional",description:'"optional"'},"required",{type:"literal",value:"required",description:'"required"'},function(f){e.data=parseInt(f.join(""))},function(){e.data=y()},"text",{type:"literal",value:"text",description:'"text"'},"image",{type:"literal",value:"image",description:'"image"'},"audio",{type:"literal",value:"audio",description:'"audio"'},"video",{type:"literal",value:"video",description:'"video"'},"application",{type:"literal",value:"application",description:'"application"'},"message",{type:"literal",value:"message",description:'"message"'},"multipart",{type:"literal",value:"multipart",description:'"multipart"'},"x-",{type:"literal",value:"x-",description:'"x-"'},function(f){e.data.value=parseInt(f.join(""))},function(f){e.data=f},function(f){e.data.event=f.toLowerCase()},function(){var f=e.data.tag;e.data=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params),f&&e.data.setParam("tag",f)},"tag",{type:"literal",value:"tag",description:'"tag"'},function(f){e.data.tag=f},function(f){e.data=parseInt(f.join(""))},function(f){e.data=f},function(){e.data=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params)},"digest",{type:"literal",value:"Digest",description:'"Digest"'},"realm",{type:"literal",value:"realm",description:'"realm"'},function(f){e.data.realm=f},"domain",{type:"literal",value:"domain",description:'"domain"'},"nonce",{type:"literal",value:"nonce",description:'"nonce"'},function(f){e.data.nonce=f},"opaque",{type:"literal",value:"opaque",description:'"opaque"'},function(f){e.data.opaque=f},"stale",{type:"literal",value:"stale",description:'"stale"'},"true",{type:"literal",value:"true",description:'"true"'},function(){e.data.stale=!0},"false",{type:"literal",value:"false",description:'"false"'},function(){e.data.stale=!1},"algorithm",{type:"literal",value:"algorithm",description:'"algorithm"'},"md5",{type:"literal",value:"MD5",description:'"MD5"'},"md5-sess",{type:"literal",value:"MD5-sess",description:'"MD5-sess"'},function(f){e.data.algorithm=f.toUpperCase()},"qop",{type:"literal",value:"qop",description:'"qop"'},"auth-int",{type:"literal",value:"auth-int",description:'"auth-int"'},"auth",{type:"literal",value:"auth",description:'"auth"'},function(f){e.data.qop||(e.data.qop=[]),e.data.qop.push(f.toLowerCase())},function(f){e.data.value=parseInt(f.join(""))},function(){var f,R;for(R=e.data.multi_header.length,f=0;f<R;f++)if(e.data.multi_header[f].parsed===null){e.data=null;break}e.data!==null?e.data=e.data.multi_header:e.data=-1},function(){var f;e.data.multi_header||(e.data.multi_header=[]);try{f=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params),delete e.data.uri,delete e.data.displayName,delete e.data.params}catch{f=null}e.data.multi_header.push({position:o,offset:O(),parsed:f})},function(){e.data=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params)},function(){e.data.replaces_from_tag&&e.data.replaces_to_tag||(e.data=-1)},function(){e.data={call_id:e.data}},"from-tag",{type:"literal",value:"from-tag",description:'"from-tag"'},function(f){e.data.replaces_from_tag=f},"to-tag",{type:"literal",value:"to-tag",description:'"to-tag"'},function(f){e.data.replaces_to_tag=f},"early-only",{type:"literal",value:"early-only",description:'"early-only"'},function(){e.data.early_only=!0},function(f){return f},function(f,R){return(function(x,Y){return[x].concat(Y)})(f,R)},function(f){e.startRule==="Require"&&(e.data=f||[])},function(f){e.data.value=parseInt(f.join(""))},"active",{type:"literal",value:"active",description:'"active"'},"pending",{type:"literal",value:"pending",description:'"pending"'},"terminated",{type:"literal",value:"terminated",description:'"terminated"'},function(){e.data.state=y()},"reason",{type:"literal",value:"reason",description:'"reason"'},function(f){f!==void 0&&(e.data.reason=f)},function(f){f!==void 0&&(e.data.expires=f)},"retry_after",{type:"literal",value:"retry_after",description:'"retry_after"'},function(f){f!==void 0&&(e.data.retry_after=f)},"deactivated",{type:"literal",value:"deactivated",description:'"deactivated"'},"probation",{type:"literal",value:"probation",description:'"probation"'},"rejected",{type:"literal",value:"rejected",description:'"rejected"'},"timeout",{type:"literal",value:"timeout",description:'"timeout"'},"giveup",{type:"literal",value:"giveup",description:'"giveup"'},"noresource",{type:"literal",value:"noresource",description:'"noresource"'},"invariant",{type:"literal",value:"invariant",description:'"invariant"'},function(f){e.startRule==="Supported"&&(e.data=f||[])},function(){var f=e.data.tag;e.data=new e.SIP.NameAddrHeader(e.data.uri,e.data.displayName,e.data.params),f&&e.data.setParam("tag",f)},"ttl",{type:"literal",value:"ttl",description:'"ttl"'},function(f){e.data.ttl=f},"maddr",{type:"literal",value:"maddr",description:'"maddr"'},function(f){e.data.maddr=f},"received",{type:"literal",value:"received",description:'"received"'},function(f){e.data.received=f},"branch",{type:"literal",value:"branch",description:'"branch"'},function(f){e.data.branch=f},"rport",{type:"literal",value:"rport",description:'"rport"'},function(){typeof response_port<"u"&&(e.data.rport=response_port.join(""))},function(f){e.data.protocol=f},{type:"literal",value:"UDP",description:'"UDP"'},{type:"literal",value:"TCP",description:'"TCP"'},{type:"literal",value:"TLS",description:'"TLS"'},{type:"literal",value:"SCTP",description:'"SCTP"'},function(f){e.data.transport=f},function(){e.data.host=y()},function(f){e.data.port=parseInt(f.join(""))},function(f){return parseInt(f.join(""))},function(f){e.startRule==="Session_Expires"&&(e.data.deltaSeconds=f)},"refresher",{type:"literal",value:"refresher",description:'"refresher"'},"uas",{type:"literal",value:"uas",description:'"uas"'},"uac",{type:"literal",value:"uac",description:'"uac"'},function(f){e.startRule==="Session_Expires"&&(e.data.refresher=f)},function(f){e.startRule==="Min_SE"&&(e.data=f)},"stuns",{type:"literal",value:"stuns",description:'"stuns"'},"stun",{type:"literal",value:"stun",description:'"stun"'},function(f){e.data.scheme=f},function(f){e.data.host=f},"?transport=",{type:"literal",value:"?transport=",description:'"?transport="'},"turns",{type:"literal",value:"turns",description:'"turns"'},"turn",{type:"literal",value:"turn",description:'"turn"'},function(){e.data.transport=transport},function(){e.data=y()}],t=[g('. ""2 3!'),g('0"""1!3#'),g('0$""1!3%'),g(`0&""1!3'`),g(`7'*# "7(`),g('0(""1!3)'),g('0*""1!3+'),g('.,""2,3-'),g('..""2.3/'),g('00""1!31'),g('.2""2233*\x89 ".4""2435*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),g('7)*# "7,'),g('.F""2F3G*} ".H""2H3I*q ".J""2J3K*e ".L""2L3M*Y ".N""2N3O*M ".P""2P3Q*A ".R""2R3S*5 ".T""2T3U*) ".V""2V3W'),g(`!!.Y""2Y3Z+7$7#+-%7#+#%'#%$## X$"# X"# X+! (%`),g(`!! \\7$,#&7$"+-$7 +#%'"%$"# X"# X*# " [+@$ \\7$+&$,#&7$""" X+'%4"6]" %$"# X"# X`),g('7.*# " ['),g(`! \\7'*# "7(,)&7'*# "7("+A$.8""2839+1%7/+'%4#6^# %$## X$"# X"# X`),g(`!! \\72+&$,#&72""" X+o$ \\! \\7.,#&7."+-$72+#%'"%$"# X"# X,@&! \\7.,#&7."+-$72+#%'"%$"# X"# X"+#%'"%$"# X"# X+! (%`),g('0_""1!3`*# "73'),g('0a""1!3b'),g('0c""1!3d'),g('7!*) "0e""1!3f'),g('! \\7)*\x95 ".F""2F3G*\x89 ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+\x9E$,\x9B&7)*\x95 ".F""2F3G*\x89 ".J""2J3K*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),g('! \\7)*\x89 ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O+\x92$,\x8F&7)*\x89 ".F""2F3G*} ".L""2L3M*q ".Y""2Y3Z*e ".P""2P3Q*Y ".H""2H3I*M ".@""2@3A*A ".g""2g3h*5 ".R""2R3S*) ".N""2N3O""" X+! (%'),g(`.T""2T3U*\xE3 ".V""2V3W*\xD7 ".i""2i3j*\xCB ".k""2k3l*\xBF ".:""2:3;*\xB3 ".D""2D3E*\xA7 ".2""2233*\x9B ".8""2839*\x8F ".m""2m3n*\x83 "7&*} ".4""2435*q ".o""2o3p*e ".q""2q3r*Y ".6""2637*M ".>""2>3?*A ".s""2s3t*5 ".u""2u3v*) "7'*# "7(`),g('! \\7)*\u012B ".F""2F3G*\u011F ".J""2J3K*\u0113 ".L""2L3M*\u0107 ".Y""2Y3Z*\xFB ".P""2P3Q*\xEF ".H""2H3I*\xE3 ".@""2@3A*\xD7 ".g""2g3h*\xCB ".R""2R3S*\xBF ".N""2N3O*\xB3 ".T""2T3U*\xA7 ".V""2V3W*\x9B ".i""2i3j*\x8F ".k""2k3l*\x83 ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v+\u0134$,\u0131&7)*\u012B ".F""2F3G*\u011F ".J""2J3K*\u0113 ".L""2L3M*\u0107 ".Y""2Y3Z*\xFB ".P""2P3Q*\xEF ".H""2H3I*\xE3 ".@""2@3A*\xD7 ".g""2g3h*\xCB ".R""2R3S*\xBF ".N""2N3O*\xB3 ".T""2T3U*\xA7 ".V""2V3W*\x9B ".i""2i3j*\x8F ".k""2k3l*\x83 ".8""2839*w ".m""2m3n*k "7&*e ".4""2435*Y ".o""2o3p*M ".q""2q3r*A ".6""2637*5 ".s""2s3t*) ".u""2u3v""" X+! (%'),g(`!7/+A$.P""2P3Q+1%7/+'%4#6w# %$## X$"# X"# X`),g(`!7/+A$.4""2435+1%7/+'%4#6x# %$## X$"# X"# X`),g(`!7/+A$.>""2>3?+1%7/+'%4#6y# %$## X$"# X"# X`),g(`!7/+A$.T""2T3U+1%7/+'%4#6z# %$## X$"# X"# X`),g(`!7/+A$.V""2V3W+1%7/+'%4#6{# %$## X$"# X"# X`),g(`!.k""2k3l+1$7/+'%4"6|" %$"# X"# X`),g(`!7/+7$.i""2i3j+'%4"6}" %$"# X"# X`),g(`!7/+A$.D""2D3E+1%7/+'%4#6~# %$## X$"# X"# X`),g(`!7/+A$.2""2233+1%7/+'%4#6\x7F# %$## X$"# X"# X`),g(`!7/+A$.8""2839+1%7/+'%4#6\x80# %$## X$"# X"# X`),g(`!7/+1$7&+'%4"6\x81" %$"# X"# X`),g(`!7&+1$7/+'%4"6\x81" %$"# X"# X`),g(`!7=+W$ \\7G*) "7K*# "7F,/&7G*) "7K*# "7F"+-%7>+#%'#%$## X$"# X"# X`),g('0\x82""1!3\x83*A "0\x84""1!3\x85*5 "0\x86""1!3\x87*) "73*# "7.'),g(`!!7/+U$7&+K% \\7J*# "7K,)&7J*# "7K"+-%7&+#%'$%$$# X$## X$"# X"# X+! (%`),g('!7/+`$7&+V%! \\7J*# "7K,)&7J*# "7K"+! (%+2%7&+(%4$6\x88$!!%$$# X$## X$"# X"# X'),g('7.*G ".L""2L3M*; "0\x89""1!3\x8A*/ "0\x86""1!3\x87*# "73'),g(`!.m""2m3n+K$0\x8B""1!3\x8C*5 "0\x8D""1!3\x8E*) "0\x8F""1!3\x90+#%'"%$"# X"# X`),g(`!7N+Q$.8""2839+A%7O*# " [+1%7S+'%4$6\x91$ %$$# X$## X$"# X"# X`),g(`!7N+k$.8""2839+[%7O*# " [+K%7S+A%7_+7%7l*# " [+'%4&6\x92& %$&# X$%# X$$# X$## X$"# X"# X`),g(`!/\x93""1$3\x94*) "/\x95""1#3\x96+' 4!6\x97!! %`),g(`!7P+b$!.8""2839+-$7R+#%'"%$"# X"# X*# " [+7%.:""2:3;+'%4#6\x98# %$## X$"# X"# X`),g(' \\7+*) "7-*# "7Q+2$,/&7+*) "7-*# "7Q""" X'),g('.<""2<3=*q ".>""2>3?*e ".@""2@3A*Y ".B""2B3C*M ".D""2D3E*A ".2""2233*5 ".6""2637*) ".4""2435'),g('! \\7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E,e&7+*_ "7-*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E"+& 4!6\x99! %'),g(`!7T+N$!.8""2839+-$7^+#%'"%$"# X"# X*# " [+#%'"%$"# X"# X`),g('!7U*) "7\\*# "7X+& 4!6\x9A! %'),g(`! \\!7V+3$.J""2J3K+#%'"%$"# X"# X,>&!7V+3$.J""2J3K+#%'"%$"# X"# X"+G$7W+=%.J""2J3K*# " [+'%4#6\x9B# %$## X$"# X"# X`),g(' \\0\x9C""1!3\x9D+,$,)&0\x9C""1!3\x9D""" X'),g(`!0$""1!3%+A$ \\0\x9E""1!3\x9F,)&0\x9E""1!3\x9F"+#%'"%$"# X"# X`),g(`!.o""2o3p+A$7Y+7%.q""2q3r+'%4#6\xA0# %$## X$"# X"# X`),g(`!!7Z+\xBF$.8""2839+\xAF%7Z+\xA5%.8""2839+\x95%7Z+\x8B%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'-%$-# X$,# X$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0838 "!.\xA1""2\xA13\xA2+\xAF$7Z+\xA5%.8""2839+\x95%7Z+\x8B%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%',%$,# X$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0795 "!.\xA1""2\xA13\xA2+\x95$7Z+\x8B%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'*%$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u070C "!.\xA1""2\xA13\xA2+{$7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u069D "!.\xA1""2\xA13\xA2+a$7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'&%$&# X$%# X$$# X$## X$"# X"# X*\u0648 "!.\xA1""2\xA13\xA2+G$7Z+=%.8""2839+-%7[+#%'$%$$# X$## X$"# X"# X*\u060D "!.\xA1""2\xA13\xA2+-$7[+#%'"%$"# X"# X*\u05EC "!.\xA1""2\xA13\xA2+-$7Z+#%'"%$"# X"# X*\u05CB "!7Z+\xA5$.\xA1""2\xA13\xA2+\x95%7Z+\x8B%.8""2839+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'+%$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0538 "!7Z+\xB6$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x8B%.\xA1""2\xA13\xA2+{%7Z+q%.8""2839+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%'*%$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0494 "!7Z+\xC7$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x9C%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+q%.\xA1""2\xA13\xA2+a%7Z+W%.8""2839+G%7Z+=%.8""2839+-%7[+#%')%$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u03DF "!7Z+\xD8$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xAD%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x82%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+W%.\xA1""2\xA13\xA2+G%7Z+=%.8""2839+-%7[+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0319 "!7Z+\xE9$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xBE%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x93%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+=%.\xA1""2\xA13\xA2+-%7[+#%''%$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0242 "!7Z+\u0114$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xE9%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xBE%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x93%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+h%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+=%.\xA1""2\xA13\xA2+-%7Z+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X*\u0140 "!7Z+\u0135$!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\u010A%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xDF%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\xB4%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+\x89%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+^%!.8""2839+-$7Z+#%'"%$"# X"# X*# " [+3%.\xA1""2\xA13\xA2+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X+& 4!6\xA3! %`),g(`!7#+S$7#*# " [+C%7#*# " [+3%7#*# " [+#%'$%$$# X$## X$"# X"# X`),g(`!7Z+=$.8""2839+-%7Z+#%'#%$## X$"# X"# X*# "7\\`),g(`!7]+u$.J""2J3K+e%7]+[%.J""2J3K+K%7]+A%.J""2J3K+1%7]+'%4'6\xA4' %$'# X$&# X$%# X$$# X$## X$"# X"# X`),g(`!.\xA5""2\xA53\xA6+3$0\xA7""1!3\xA8+#%'"%$"# X"# X*\xA0 "!.\xA9""2\xA93\xAA+=$0\xAB""1!3\xAC+-%7!+#%'#%$## X$"# X"# X*o "!.\xAD""2\xAD3\xAE+7$7!+-%7!+#%'#%$## X$"# X"# X*D "!0\xAF""1!3\xB0+-$7!+#%'"%$"# X"# X*# "7!`),g(`!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%'%%$%# X$$# X$## X$"# X"# X+' 4!6\xB1!! %`),g(' \\!.2""2233+-$7`+#%\'"%$"# X"# X,>&!.2""2233+-$7`+#%\'"%$"# X"# X"'),g('7a*A "7b*; "7c*5 "7d*/ "7e*) "7f*# "7g'),g('!/\xB2""1*3\xB3+b$/\xB4""1#3\xB5*G "/\xB6""1#3\xB7*; "/\xB8""1$3\xB9*/ "/\xBA""1#3\xBB*# "76+(%4"6\xBC"! %$"# X"# X'),g('!/\xBD""1%3\xBE+J$/\xBF""1%3\xC0*/ "/\xC1""1"3\xC2*# "76+(%4"6\xC3"! %$"# X"# X'),g(`!/\xC4""1'3\xC5+2$7\x8F+(%4"6\xC6"! %$"# X"# X`),g('!/\xC7""1$3\xC8+2$7\xEF+(%4"6\xC9"! %$"# X"# X'),g('!/\xCA""1&3\xCB+2$7T+(%4"6\xCC"! %$"# X"# X'),g(`!/\xCD""1"3\xCE+R$!.>""2>3?+-$76+#%'"%$"# X"# X*# " [+'%4"6\xCF" %$"# X"# X`),g(`!7h+T$!.>""2>3?+-$7i+#%'"%$"# X"# X*# " [+)%4"6\xD0""! %$"# X"# X`),g('! \\7j+&$,#&7j""" X+! (%'),g('! \\7j+&$,#&7j""" X+! (%'),g('7k*) "7+*# "7-'),g('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".8""2839*A ".<""2<3=*5 ".@""2@3A*) ".B""2B3C'),g(`!.6""2637+u$7m+k% \\!.<""2<3=+-$7m+#%'"%$"# X"# X,>&!.<""2<3=+-$7m+#%'"%$"# X"# X"+#%'#%$## X$"# X"# X`),g('!7n+C$.>""2>3?+3%7o+)%4#6\xD1#"" %$## X$"# X"# X'),g(' \\7p*) "7+*# "7-+2$,/&7p*) "7+*# "7-""" X'),g(' \\7p*) "7+*# "7-,/&7p*) "7+*# "7-"'),g('.o""2o3p*e ".q""2q3r*Y ".4""2435*M ".6""2637*A ".8""2839*5 ".@""2@3A*) ".B""2B3C'),g('7\x90*# "7r'),g(`!7\x8F+K$7'+A%7s+7%7'+-%7\x84+#%'%%$%# X$$# X$## X$"# X"# X`),g('7M*# "7t'),g(`!7\x7F+G$.8""2839+7%7u*# "7x+'%4#6\xD2# %$## X$"# X"# X`),g(`!7v*# "7w+N$!.6""2637+-$7\x83+#%'"%$"# X"# X*# " [+#%'"%$"# X"# X`),g(`!.\xD3""2\xD33\xD4+=$7\x80+3%7w*# " [+#%'#%$## X$"# X"# X`),g(`!.4""2435+-$7{+#%'"%$"# X"# X`),g(`!7z+5$ \\7y,#&7y"+#%'"%$"# X"# X`),g('7**) "7+*# "7-'),g('7+*\x8F "7-*\x89 ".2""2233*} ".6""2637*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),g(`!7|+k$ \\!.4""2435+-$7|+#%'"%$"# X"# X,>&!.4""2435+-$7|+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`! \\7~,#&7~"+k$ \\!.2""2233+-$7}+#%'"%$"# X"# X,>&!.2""2233+-$7}+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(' \\7~,#&7~"'),g('7+*w "7-*q ".8""2839*e ".:""2:3;*Y ".<""2<3=*M ".>""2>3?*A ".@""2@3A*5 ".B""2B3C*) ".D""2D3E'),g(`!7"+\x8D$ \\7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K,M&7"*G "7!*A ".@""2@3A*5 ".F""2F3G*) ".J""2J3K"+'%4"6\xD5" %$"# X"# X`),g('7\x81*# "7\x82'),g(`!!7O+3$.:""2:3;+#%'"%$"# X"# X*# " [+-$7S+#%'"%$"# X"# X*# " [`),g(' \\7+*\x83 "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A+\x8C$,\x89&7+*\x83 "7-*} ".B""2B3C*q ".D""2D3E*e ".2""2233*Y ".8""2839*M ".:""2:3;*A ".<""2<3=*5 ".>""2>3?*) ".@""2@3A""" X'),g(' \\7y,#&7y"'),g(`!/\x95""1#3\xD6+y$.4""2435+i% \\7!+&$,#&7!""" X+P%.J""2J3K+@% \\7!+&$,#&7!""" X+'%4%6\xD7% %$%# X$$# X$## X$"# X"# X`),g('.\xD8""2\xD83\xD9'),g('.\xDA""2\xDA3\xDB'),g('.\xDC""2\xDC3\xDD'),g('.\xDE""2\xDE3\xDF'),g('.\xE0""2\xE03\xE1'),g('.\xE2""2\xE23\xE3'),g('.\xE4""2\xE43\xE5'),g('.\xE6""2\xE63\xE7'),g('.\xE8""2\xE83\xE9'),g('.\xEA""2\xEA3\xEB'),g('!7\x85*S "7\x86*M "7\x88*G "7\x89*A "7\x8A*; "7\x8B*5 "7\x8C*/ "7\x8D*) "7\x8E*# "76+& 4!6\xEC! %'),g(`!7\x84+K$7'+A%7\x91+7%7'+-%7\x93+#%'%%$%# X$$# X$## X$"# X"# X`),g("!7\x92+' 4!6\xED!! %"),g(`!7!+7$7!+-%7!+#%'#%$## X$"# X"# X`),g(`! \\7**A "7+*; "7-*5 "73*/ "74*) "7'*# "7(,G&7**A "7+*; "7-*5 "73*/ "74*) "7'*# "7("+& 4!6\xEE! %`),g(`!7\xB5+_$ \\!7A+-$7\xB5+#%'"%$"# X"# X,8&!7A+-$7\xB5+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!79+R$!.:""2:3;+-$79+#%'"%$"# X"# X*# " [+'%4"6\xEF" %$"# X"# X`),g(`!7:*j "!7\x97+_$ \\!7A+-$7\x97+#%'"%$"# X"# X,8&!7A+-$7\x97+#%'"%$"# X"# X"+#%'"%$"# X"# X+& 4!6\xF0! %`),g(`!7L*# "7\x98+c$ \\!7B+-$7\x9A+#%'"%$"# X"# X,8&!7B+-$7\x9A+#%'"%$"# X"# X"+'%4"6\xF1" %$"# X"# X`),g(`!7\x99*# " [+A$7@+7%7M+-%7?+#%'$%$$# X$## X$"# X"# X`),g(`!!76+_$ \\!7.+-$76+#%'"%$"# X"# X,8&!7.+-$76+#%'"%$"# X"# X"+#%'"%$"# X"# X*# "7H+' 4!6\xF2!! %`),g('7\x9B*) "7\x9C*# "7\x9F'),g('!/\xF3""1!3\xF4+<$7<+2%7\x9E+(%4#6\xF5#! %$## X$"# X"# X'),g(`!/\xF6""1'3\xF7+<$7<+2%7\x9D+(%4#6\xF8#! %$## X$"# X"# X`),g(`! \\7!+&$,#&7!""" X+' 4!6\xF9!! %`),g(`!.\xFA""2\xFA3\xFB+x$!.J""2J3K+S$7!*# " [+C%7!*# " [+3%7!*# " [+#%'$%$$# X$## X$"# X"# X*# " [+'%4"6\xFC" %$"# X"# X`),g(`!76+N$!7<+-$7\xA0+#%'"%$"# X"# X*# " [+)%4"6\xFD""! %$"# X"# X`),g('76*) "7T*# "7H'),g(`!7\xA2+_$ \\!7B+-$7\xA3+#%'"%$"# X"# X,8&!7B+-$7\xA3+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!/\xFE""1&3\xFF*G "/\u0100""1'3\u0101*; "/\u0102""1$3\u0103*/ "/\u0104""1%3\u0105*# "76+& 4!6\u0106! %`),g('7\xA4*# "7\x9F'),g(`!/\u0107""1(3\u0108+O$7<+E%/\u0109""1(3\u010A*/ "/\u010B""1(3\u010C*# "76+#%'#%$## X$"# X"# X`),g(`!76+_$ \\!7A+-$76+#%'"%$"# X"# X,8&!7A+-$76+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`! \\7!+&$,#&7!""" X+' 4!6\u010D!! %`),g("!7\xA8+& 4!6\u010E! %"),g(`!7\xA9+s$7;+i%7\xAE+_% \\!7B+-$7\xAF+#%'"%$"# X"# X,8&!7B+-$7\xAF+#%'"%$"# X"# X"+#%'$%$$# X$## X$"# X"# X`),g('7\xAA*# "7\xAB'),g('/\u010F""1$3\u0110*S "/\u0111""1%3\u0112*G "/\u0113""1%3\u0114*; "/\u0115""1%3\u0116*/ "/\u0117""1+3\u0118*# "7\xAC'),g(`/\u0119""1'3\u011A*/ "/\u011B""1)3\u011C*# "7\xAC`),g('76*# "7\xAD'),g(`!/\u011D""1"3\u011E+-$76+#%'"%$"# X"# X`),g('7\xAC*# "76'),g(`!76+7$7<+-%7\xB0+#%'#%$## X$"# X"# X`),g('76*# "7H'),g(`!7\xB2+7$7.+-%7\x8F+#%'#%$## X$"# X"# X`),g(`! \\7!+&$,#&7!""" X+' 4!6\u011F!! %`),g("!7\x9D+' 4!6\u0120!! %"),g(`!7\xB5+d$ \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+(%4"6\u0121"!!%$"# X"# X`),g(`!!77+k$ \\!.J""2J3K+-$77+#%'"%$"# X"# X,>&!.J""2J3K+-$77+#%'"%$"# X"# X"+#%'"%$"# X"# X+! (%`),g(`!7L*# "7\x98+c$ \\!7B+-$7\xB7+#%'"%$"# X"# X,8&!7B+-$7\xB7+#%'"%$"# X"# X"+'%4"6\u0122" %$"# X"# X`),g('7\xB8*# "7\x9F'),g('!/\u0123""1#3\u0124+<$7<+2%76+(%4#6\u0125#! %$## X$"# X"# X'),g(`! \\7!+&$,#&7!""" X+' 4!6\u0126!! %`),g("!7\x9D+' 4!6\u0127!! %"),g(`! \\7\x99,#&7\x99"+\x81$7@+w%7M+m%7?+c% \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+'%4%6\u0128% %$%# X$$# X$## X$"# X"# X`),g("7\xBD"),g(`!/\u0129""1&3\u012A+s$7.+i%7\xC0+_% \\!7A+-$7\xC0+#%'"%$"# X"# X,8&!7A+-$7\xC0+#%'"%$"# X"# X"+#%'$%$$# X$## X$"# X"# X*# "7\xBE`),g(`!76+s$7.+i%7\xBF+_% \\!7A+-$7\xBF+#%'"%$"# X"# X,8&!7A+-$7\xBF+#%'"%$"# X"# X"+#%'$%$$# X$## X$"# X"# X`),g(`!76+=$7<+3%76*# "7H+#%'#%$## X$"# X"# X`),g('7\xC1*G "7\xC3*A "7\xC5*; "7\xC7*5 "7\xC8*/ "7\xC9*) "7\xCA*# "7\xBF'),g(`!/\u012B""1%3\u012C+7$7<+-%7\xC2+#%'#%$## X$"# X"# X`),g("!7I+' 4!6\u012D!! %"),g(`!/\u012E""1&3\u012F+\xA5$7<+\x9B%7D+\x91%7\xC4+\x87% \\! \\7'+&$,#&7'""" X+-$7\xC4+#%'"%$"# X"# X,G&! \\7'+&$,#&7'""" X+-$7\xC4+#%'"%$"# X"# X"+-%7E+#%'&%$&# X$%# X$$# X$## X$"# X"# X`),g('7t*# "7w'),g(`!/\u0130""1%3\u0131+7$7<+-%7\xC6+#%'#%$## X$"# X"# X`),g("!7I+' 4!6\u0132!! %"),g('!/\u0133""1&3\u0134+<$7<+2%7I+(%4#6\u0135#! %$## X$"# X"# X'),g(`!/\u0136""1%3\u0137+_$7<+U%!/\u0138""1$3\u0139+& 4!6\u013A! %*4 "!/\u013B""1%3\u013C+& 4!6\u013D! %+#%'#%$## X$"# X"# X`),g('!/\u013E""1)3\u013F+T$7<+J%/\u0140""1#3\u0141*/ "/\u0142""1(3\u0143*# "76+(%4#6\u0144#! %$## X$"# X"# X'),g(`!/\u0145""1#3\u0146+\x9E$7<+\x94%7D+\x8A%!7\xCB+k$ \\!.D""2D3E+-$7\xCB+#%'"%$"# X"# X,>&!.D""2D3E+-$7\xCB+#%'"%$"# X"# X"+#%'"%$"# X"# X+-%7E+#%'%%$%# X$$# X$## X$"# X"# X`),g(`!/\u0147""1(3\u0148*/ "/\u0149""1$3\u014A*# "76+' 4!6\u014B!! %`),g(`!76+_$ \\!7A+-$76+#%'"%$"# X"# X,8&!7A+-$76+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!7\xCE+K$7.+A%7\xCE+7%7.+-%7\x8F+#%'%%$%# X$$# X$## X$"# X"# X`),g(`! \\7!+&$,#&7!""" X+' 4!6\u014C!! %`),g(`!7\xD0+c$ \\!7A+-$7\xD0+#%'"%$"# X"# X,8&!7A+-$7\xD0+#%'"%$"# X"# X"+'%4"6\u014D" %$"# X"# X`),g(`!7\x98+c$ \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+'%4"6\u014E" %$"# X"# X`),g(`!7L*T "7\x98*N "!7@*# " [+=$7t+3%7?*# " [+#%'#%$## X$"# X"# X+c$ \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+'%4"6\u014F" %$"# X"# X`),g(`!7\xD3+c$ \\!7B+-$7\xD4+#%'"%$"# X"# X,8&!7B+-$7\xD4+#%'"%$"# X"# X"+'%4"6\u0150" %$"# X"# X`),g("!7\x95+& 4!6\u0151! %"),g('!/\u0152""1(3\u0153+<$7<+2%76+(%4#6\u0154#! %$## X$"# X"# X*j "!/\u0155""1&3\u0156+<$7<+2%76+(%4#6\u0157#! %$## X$"# X"# X*: "!/\u0158""1*3\u0159+& 4!6\u015A! %*# "7\x9F'),g(`!!76+o$ \\!7A+2$76+(%4"6\u015B"! %$"# X"# X,=&!7A+2$76+(%4"6\u015B"! %$"# X"# X"+)%4"6\u015C""! %$"# X"# X*# " [+' 4!6\u015D!! %`),g(`!7\xD7+_$ \\!7A+-$7\xD7+#%'"%$"# X"# X,8&!7A+-$7\xD7+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!7\x98+_$ \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`! \\7!+&$,#&7!""" X+' 4!6\u015E!! %`),g(`!7\xDA+_$ \\!7B+-$7\xDB+#%'"%$"# X"# X,8&!7B+-$7\xDB+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!/\u015F""1&3\u0160*; "/\u0161""1'3\u0162*/ "/\u0163""1*3\u0164*# "76+& 4!6\u0165! %`),g(`!/\u0166""1&3\u0167+<$7<+2%7\xDC+(%4#6\u0168#! %$## X$"# X"# X*\x83 "!/\xF6""1'3\xF7+<$7<+2%7\x9D+(%4#6\u0169#! %$## X$"# X"# X*S "!/\u016A""1+3\u016B+<$7<+2%7\x9D+(%4#6\u016C#! %$## X$"# X"# X*# "7\x9F`),g(`/\u016D""1+3\u016E*k "/\u016F""1)3\u0170*_ "/\u0171""1(3\u0172*S "/\u0173""1'3\u0174*G "/\u0175""1&3\u0176*; "/\u0177""1*3\u0178*/ "/\u0179""1)3\u017A*# "76`),g('71*# " ['),g(`!!76+o$ \\!7A+2$76+(%4"6\u015B"! %$"# X"# X,=&!7A+2$76+(%4"6\u015B"! %$"# X"# X"+)%4"6\u015C""! %$"# X"# X*# " [+' 4!6\u017B!! %`),g(`!7L*# "7\x98+c$ \\!7B+-$7\xE0+#%'"%$"# X"# X,8&!7B+-$7\xE0+#%'"%$"# X"# X"+'%4"6\u017C" %$"# X"# X`),g('7\xB8*# "7\x9F'),g(`!7\xE2+_$ \\!7A+-$7\xE2+#%'"%$"# X"# X,8&!7A+-$7\xE2+#%'"%$"# X"# X"+#%'"%$"# X"# X`),g(`!7\xE9+s$7.+i%7\xEC+_% \\!7B+-$7\xE3+#%'"%$"# X"# X,8&!7B+-$7\xE3+#%'"%$"# X"# X"+#%'$%$$# X$## X$"# X"# X`),g('7\xE4*; "7\xE5*5 "7\xE6*/ "7\xE7*) "7\xE8*# "7\x9F'),g('!/\u017D""1#3\u017E+<$7<+2%7\xEF+(%4#6\u017F#! %$## X$"# X"# X'),g('!/\u0180""1%3\u0181+<$7<+2%7T+(%4#6\u0182#! %$## X$"# X"# X'),g('!/\u0183""1(3\u0184+B$7<+8%7\\*# "7Y+(%4#6\u0185#! %$## X$"# X"# X'),g('!/\u0186""1&3\u0187+<$7<+2%76+(%4#6\u0188#! %$## X$"# X"# X'),g(`!/\u0189""1%3\u018A+T$!7<+5$ \\7!,#&7!"+#%'"%$"# X"# X*# " [+'%4"6\u018B" %$"# X"# X`),g(`!7\xEA+K$7;+A%76+7%7;+-%7\xEB+#%'%%$%# X$$# X$## X$"# X"# X`),g(`!/\x95""1#3\xD6*# "76+' 4!6\u018C!! %`),g(`!/\xB4""1#3\u018D*G "/\xB6""1#3\u018E*; "/\xBA""1#3\u018F*/ "/\xB8""1$3\u0190*# "76+' 4!6\u0191!! %`),g(`!7\xED+H$!7C+-$7\xEE+#%'"%$"# X"# X*# " [+#%'"%$"# X"# X`),g('!7U*) "7\\*# "7X+& 4!6\u0192! %'),g(`!!7!*# " [+c$7!*# " [+S%7!*# " [+C%7!*# " [+3%7!*# " [+#%'%%$%# X$$# X$## X$"# X"# X+' 4!6\u0193!! %`),g(`!!7!+C$7!*# " [+3%7!*# " [+#%'#%$## X$"# X"# X+' 4!6\u0194!! %`),g("7\xBD"),g(`!7\x9D+d$ \\!7B+-$7\xF2+#%'"%$"# X"# X,8&!7B+-$7\xF2+#%'"%$"# X"# X"+(%4"6\u0195"!!%$"# X"# X`),g('7\xF3*# "7\x9F'),g('!.\u0196""2\u01963\u0197+N$7<+D%.\u0198""2\u01983\u0199*) ".\u019A""2\u019A3\u019B+(%4#6\u019C#! %$## X$"# X"# X'),g(`!7\x9D+d$ \\!7B+-$7\x9F+#%'"%$"# X"# X,8&!7B+-$7\x9F+#%'"%$"# X"# X"+(%4"6\u019D"!!%$"# X"# X`),g(`!76+7$70+-%7\xF6+#%'#%$## X$"# X"# X`),g(' \\72*) "74*# "7.,/&72*) "74*# "7."'),g(' \\7%,#&7%"'),g(`!7\xF9+=$.8""2839+-%7\xFA+#%'#%$## X$"# X"# X`),g(`!/\u019E""1%3\u019F*) "/\u01A0""1$3\u01A1+' 4!6\u01A2!! %`),g(`!7\xFB+N$!.8""2839+-$7^+#%'"%$"# X"# X*# " [+#%'"%$"# X"# X`),g(`!7\\*) "7X*# "7\x82+' 4!6\u01A3!! %`),g('! \\7\xFD*) "7-*# "7\xFE,/&7\xFD*) "7-*# "7\xFE"+! (%'),g('7"*S "7!*M ".F""2F3G*A ".J""2J3K*5 ".H""2H3I*) ".N""2N3O'),g('.L""2L3M*\x95 ".B""2B3C*\x89 ".<""2<3=*} ".R""2R3S*q ".T""2T3U*e ".V""2V3W*Y ".P""2P3Q*M ".@""2@3A*A ".D""2D3E*5 ".2""2233*) ".>""2>3?'),g(`!7\u0100+h$.8""2839+X%7\xFA+N%!.\u01A4""2\u01A43\u01A5+-$7\xEB+#%'"%$"# X"# X*# " [+#%'$%$$# X$## X$"# X"# X`),g(`!/\u01A6""1%3\u01A7*) "/\u01A8""1$3\u01A9+' 4!6\u01A2!! %`),g(`!7\xEB+Q$/\xB4""1#3\xB5*7 "/\xB6""1#3\xB7*+ " \\7+,#&7+"+'%4"6\u01AA" %$"# X"# X`),g(`!7\u0104+\x8F$.F""2F3G+\x7F%7\u0103+u%.F""2F3G+e%7\u0103+[%.F""2F3G+K%7\u0103+A%.F""2F3G+1%7\u0105+'%4)6\u01AB) %$)# X$(# X$'# X$&# X$%# X$$# X$## X$"# X"# X`),g(`!7#+A$7#+7%7#+-%7#+#%'$%$$# X$## X$"# X"# X`),g(`!7\u0103+-$7\u0103+#%'"%$"# X"# X`),g(`!7\u0103+7$7\u0103+-%7\u0103+#%'#%$## X$"# X"# X`)],o=0,p=0,V=0,q={line:1,column:1,seenCR:!1},E=0,C=[],w=0;if("startRule"in e){if(!(e.startRule in d))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');l=d[e.startRule]}function y(){return h.substring(p,o)}function O(){return p}function _(f){o<E||(o>E&&(E=o,C=[]),C.push(f))}function g(f){var R,x=new Array(f.length);for(R=0;R<f.length;R++)x[R]=f.charCodeAt(R)-32;return x}if(e.data={},(u=(function f(R){for(var x,Y,Q,S=t[R],T=0,j=[],L=S.length,K=[],X=[];;){for(;T<L;)switch(S[T]){case 0:X.push((Q=n[S[T+1]],Object.prototype.toString.apply(Q)==="[object Array]"?[]:Q)),T+=2;break;case 1:X.push(o),T++;break;case 2:X.pop(),T++;break;case 3:o=X.pop(),T++;break;case 4:X.length-=S[T+1],T+=2;break;case 5:X.splice(-2,1),T++;break;case 6:X[X.length-2].push(X.pop()),T++;break;case 7:X.push(X.splice(X.length-S[T+1],S[T+1])),T+=2;break;case 8:X.pop(),X.push(h.substring(X[X.length-1],o)),T++;break;case 9:K.push(L),j.push(T+3+S[T+1]+S[T+2]),X[X.length-1]?(L=T+3+S[T+1],T+=3):(L=T+3+S[T+1]+S[T+2],T+=3+S[T+1]);break;case 10:K.push(L),j.push(T+3+S[T+1]+S[T+2]),X[X.length-1]===c?(L=T+3+S[T+1],T+=3):(L=T+3+S[T+1]+S[T+2],T+=3+S[T+1]);break;case 11:K.push(L),j.push(T+3+S[T+1]+S[T+2]),X[X.length-1]!==c?(L=T+3+S[T+1],T+=3):(L=T+3+S[T+1]+S[T+2],T+=3+S[T+1]);break;case 12:X[X.length-1]!==c?(K.push(L),j.push(T),L=T+2+S[T+1],T+=2):T+=2+S[T+1];break;case 13:K.push(L),j.push(T+3+S[T+1]+S[T+2]),h.length>o?(L=T+3+S[T+1],T+=3):(L=T+3+S[T+1]+S[T+2],T+=3+S[T+1]);break;case 14:K.push(L),j.push(T+4+S[T+2]+S[T+3]),h.substr(o,n[S[T+1]].length)===n[S[T+1]]?(L=T+4+S[T+2],T+=4):(L=T+4+S[T+2]+S[T+3],T+=4+S[T+2]);break;case 15:K.push(L),j.push(T+4+S[T+2]+S[T+3]),h.substr(o,n[S[T+1]].length).toLowerCase()===n[S[T+1]]?(L=T+4+S[T+2],T+=4):(L=T+4+S[T+2]+S[T+3],T+=4+S[T+2]);break;case 16:K.push(L),j.push(T+4+S[T+2]+S[T+3]),n[S[T+1]].test(h.charAt(o))?(L=T+4+S[T+2],T+=4):(L=T+4+S[T+2]+S[T+3],T+=4+S[T+2]);break;case 17:X.push(h.substr(o,S[T+1])),o+=S[T+1],T+=2;break;case 18:X.push(n[S[T+1]]),o+=n[S[T+1]].length,T+=2;break;case 19:X.push(c),w===0&&_(n[S[T+1]]),T+=2;break;case 20:p=X[X.length-1-S[T+1]],T+=2;break;case 21:p=o,T++;break;case 22:for(x=S.slice(T+4,T+4+S[T+3]),Y=0;Y<S[T+3];Y++)x[Y]=X[X.length-1-x[Y]];X.splice(X.length-S[T+2],S[T+2],n[S[T+1]].apply(null,x)),T+=4+S[T+3];break;case 23:X.push(f(S[T+1])),T+=2;break;case 24:w++,T++;break;case 25:w--,T++;break;default:throw new Error("Invalid opcode: "+S[T]+".")}if(!(K.length>0))break;L=K.pop(),T=j.pop()}return X[0]})(l))!==c&&o===h.length)return u;throw u!==c&&o<h.length&&_({type:"end",description:"end of input"}),a=C,A=(function(f){return V!==f&&(V>f&&(V=0,q={line:1,column:1,seenCR:!1}),(function(R,x,Y){var Q,S;for(Q=x;Q<Y;Q++)(S=h.charAt(Q))===`
`?(R.seenCR||R.line++,R.column=1,R.seenCR=!1):S==="\r"||S==="\u2028"||S==="\u2029"?(R.line++,R.column=1,R.seenCR=!0):(R.column++,R.seenCR=!1)})(q,V,f),V=f),q})(r=E),i=r<h.length?h.charAt(r):null,a!==null&&(function(f){var R=1;for(f.sort((function(x,Y){return x.description<Y.description?-1:x.description>Y.description?1:0}));R<f.length;)f[R-1]===f[R]?f.splice(R,1):R++})(a),new s((function(f,R){var x,Y=new Array(f.length);for(x=0;x<f.length;x++)Y[x]=f[x].description;return"Expected "+(f.length>1?Y.slice(0,-1).join(", ")+" or "+Y[f.length-1]:Y[0])+" but "+(R?'"'+(function(Q){function S(T){return T.charCodeAt(0).toString(16).toUpperCase()}return Q.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(T){return"\\x0"+S(T)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(T){return"\\x"+S(T)})).replace(/[\u0180-\u0FFF]/g,(function(T){return"\\u0"+S(T)})).replace(/[\u1080-\uFFFF]/g,(function(T){return"\\u"+S(T)}))})(R)+'"':"end of input")+" found."})(a,i),a,i,r,A.line,A.column)}}})()},{}],12:[function(v,m,I){"use strict";m.exports=function(s){var h={AllBrowsers:{maskDtls:function(u){return u&&(u=u.replace(/ UDP\/TLS\/RTP\/SAVP/gim," RTP/SAVP")),u},unmaskDtls:function(u){return u.replace(/ RTP\/SAVP/gim," UDP/TLS/RTP/SAVP")}},Firefox:{isFirefox:function(){return typeof mozRTCPeerConnection<"u"},cannotHandleExtraWhitespace:function(u){return this.isFirefox()&&u&&(u=u.replace(/ \r\n/g,`\r
`)),u},hasMissingCLineInSDP:function(u){var a,r;if(u.indexOf("c=")>u.indexOf("m=")){r=u.match(/m=.*\r\n.*/g);for(var A=0;A<r.length;A++)r[A].toString().search(/i=.*/)>=0?(a=u.indexOf(r[A].toString())+r[A].toString().length,u.substr(a,2)!=="c="&&(u=u.substr(0,a)+`\r
c=IN IP4 0.0.0.0`+u.substr(a))):r[A].toString().search(/c=.*/)<0&&(a=u.indexOf(r[A].toString().match(/.*/))+r[A].toString().match(/.*/).toString().length,u=u.substr(0,a)+`\r
c=IN IP4 0.0.0.0`+u.substr(a))}return u}},Chrome:{needsExplicitlyInactiveSDP:function(u){var a,r;return h.Firefox.isFirefox()&&(r=u.indexOf("m=video 0"))!==-1?(a=(a=u.substr(r)).replace(/\r\nc=IN IP4.*\r\n$/,`\r
c=IN IP4 0.0.0.0\r
a=inactive\r
`),u.substr(0,r)+a):u},getsConfusedAboutGUM:function(u){u.mediaHandler&&u.mediaHandler.close()}}};return h}},{}],13:[function(v,m,I){"use strict";var s={error:0,warn:1,log:2,debug:3};m.exports=function(h){var u=function(){var r,A=2,i=!0,e=null;this.loggers={},r=this.getLogger("sip.loggerfactory"),Object.defineProperties(this,{builtinEnabled:{get:function(){return i},set:function(c){typeof c=="boolean"?i=c:r.error('invalid "builtinEnabled" parameter value: '+JSON.stringify(c))}},level:{get:function(){return A},set:function(c){c>=0&&c<=3?A=c:c>3?A=3:s.hasOwnProperty(c)?A=s[c]:r.error('invalid "level" parameter value: '+JSON.stringify(c))}},connector:{get:function(){return e},set:function(c){c===null||c===""||c===void 0?e=null:typeof c=="function"?e=c:r.error('invalid "connector" parameter value: '+JSON.stringify(c))}}})};function a(r,A,i){this.logger=r,this.category=A,this.label=i}return u.prototype.print=function(r,A,i,e){if(typeof e=="string"){var c=[new Date,A];i&&c.push(i),e=c.concat(e).join(" | ")}r.call(h,e)},Object.keys(s).forEach((function(r){a.prototype[r]=function(A){this.logger[r](this.category,this.label,A)},u.prototype[r]=function(A,i,e){this.level>=s[r]&&(this.builtinEnabled&&this.print(h[r],A,i,e),this.connector&&this.connector(r,A,i,e))}})),u.prototype.getLogger=function(r,A){var i;return A&&this.level===3?new a(this,r,A):this.loggers[r]?this.loggers[r]:(i=new a(this,r),this.loggers[r]=i,i)},u}},{}],14:[function(v,m,I){"use strict";m.exports=function(s){var h=function(u,a){};return h.prototype=Object.create(s.prototype,{isReady:{value:function(){}},close:{value:function(){}},getDescription:{value:function(u){}},hasDescription:{value:function(u){}},setDescription:{value:function(u){}}}),h}},{}],15:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u,a,r){var A;if(!(u&&u instanceof s.URI))throw new TypeError('missing or invalid "uri" parameter');for(A in this.uri=u,this.parameters={},r)this.setParam(A,r[A]);Object.defineProperties(this,{friendlyName:{get:function(){return this.displayName||u.aor}},displayName:{get:function(){return a},set:function(i){a=i===0?"0":i}}})}).prototype={setParam:function(u,a){u&&(this.parameters[u.toLowerCase()]=a==null?null:a.toString())},getParam:s.URI.prototype.getParam,hasParam:s.URI.prototype.hasParam,deleteParam:s.URI.prototype.deleteParam,clearParams:s.URI.prototype.clearParams,clone:function(){return new h(this.uri.clone(),this.displayName,JSON.parse(JSON.stringify(this.parameters)))},toString:function(){var u,a;for(a in u=this.displayName||this.displayName===0?'"'+this.displayName+'" ':"",u+="<"+this.uri.toString()+">",this.parameters)u+=";"+a,this.parameters[a]!==null&&(u+="="+this.parameters[a]);return u}},h.parse=function(u){return(u=s.Grammar.parse(u,"Name_Addr_Header"))!==-1?u:void 0},s.NameAddrHeader=h}},{}],16:[function(v,m,I){"use strict";m.exports=function(s){var h;function u(r,A){var i=A,e=0,c=0;if(r.substring(i,i+2).match(/(^\r\n)/))return-2;for(;e===0;){if((c=r.indexOf(`\r
`,i))===-1)return c;!r.substring(c+2,c+4).match(/(^\r\n)/)&&r.charAt(c+2).match(/(^\s+)/)?i=c+2:e=c}return e}function a(r,A,i,e){var c,d,l,n,t=A.indexOf(":",i),o=A.substring(i,t).trim(),p=A.substring(t+1,e).trim();switch(o.toLowerCase()){case"via":case"v":r.addHeader("via",p),r.getHeaders("via").length===1?(n=r.parseHeader("Via"))&&(r.via=n,r.via_branch=n.branch):n=0;break;case"from":case"f":r.setHeader("from",p),(n=r.parseHeader("from"))&&(r.from=n,r.from_tag=n.getParam("tag"));break;case"to":case"t":r.setHeader("to",p),(n=r.parseHeader("to"))&&(r.to=n,r.to_tag=n.getParam("tag"));break;case"record-route":if((n=s.Grammar.parse(p,"Record_Route"))===-1){n=void 0;break}for(l=n.length,d=0;d<l;d++)c=n[d],r.addHeader("record-route",p.substring(c.position,c.offset)),r.headers["Record-Route"][r.getHeaders("record-route").length-1].parsed=c.parsed;break;case"call-id":case"i":r.setHeader("call-id",p),(n=r.parseHeader("call-id"))&&(r.call_id=p);break;case"contact":case"m":if((n=s.Grammar.parse(p,"Contact"))===-1){n=void 0;break}for(l=n.length,d=0;d<l;d++)c=n[d],r.addHeader("contact",p.substring(c.position,c.offset)),r.headers.Contact[r.getHeaders("contact").length-1].parsed=c.parsed;break;case"content-length":case"l":r.setHeader("content-length",p),n=r.parseHeader("content-length");break;case"content-type":case"c":r.setHeader("content-type",p),n=r.parseHeader("content-type");break;case"cseq":r.setHeader("cseq",p),(n=r.parseHeader("cseq"))&&(r.cseq=n.value),r instanceof s.IncomingResponse&&(r.method=n.method);break;case"max-forwards":r.setHeader("max-forwards",p),n=r.parseHeader("max-forwards");break;case"www-authenticate":r.setHeader("www-authenticate",p),n=r.parseHeader("www-authenticate");break;case"proxy-authenticate":r.setHeader("proxy-authenticate",p),n=r.parseHeader("proxy-authenticate");break;case"refer-to":case"r":r.setHeader("refer-to",p),(n=r.parseHeader("refer-to"))&&(r.refer_to=n);break;default:r.setHeader(o,p),n=0}return n!==void 0||{error:'error parsing header "'+o+'"'}}(h={}).parseMessage=function(r,A){var i,e,c,d,l,n=0,t=r.indexOf(`\r
`),o=A.getLogger("sip.parser");if(t!==-1){if(e=r.substring(0,t),(l=s.Grammar.parse(e,"Request_Response"))!==-1){for(l.status_code?((i=new s.IncomingResponse(A)).status_code=l.status_code,i.reason_phrase=l.reason_phrase):((i=new s.IncomingRequest(A)).method=l.method,i.ruri=l.uri),i.data=r,n=t+2;;){if((t=u(r,n))===-2){d=n+2;break}if(t===-1)return void o.error("malformed message");if((l=a(i,r,n,t))!==!0)return void o.error(l.error);n=t+2}return i.hasHeader("content-length")?(c=i.getHeader("content-length"),i.body=r.substr(d,c)):i.body=r.substring(d),i}o.warn('error parsing first line of SIP message: "'+e+'"')}else o.warn("no CRLF found, not a SIP message, discarded")},s.Parser=h}},{}],17:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u){var a={};this.registrar=u.configuration.registrarServer,this.expires=u.configuration.registerExpires,this.contact=u.contact.toString(),this.contact+=";reg-id=1",this.contact+=';+sip.instance="<urn:uuid:'+u.configuration.instanceId+'>"',this.call_id=s.Utils.createRandomToken(22),this.cseq=80,this.to_uri=u.configuration.uri,a.to_uri=this.to_uri,a.to_displayName=u.configuration.displayName,a.call_id=this.call_id,a.cseq=this.cseq,s.Utils.augment(this,s.ClientContext,[u,"REGISTER",this.registrar,{params:a}]),this.registrationTimer=null,this.registrationExpiredTimer=null,this.registered=!1,this.logger=u.getLogger("sip.registercontext")}).prototype={register:function(u){var a,r=this;this.options=u||{},(a=(this.options.extraHeaders||[]).slice()).push("Contact: "+this.contact+";expires="+this.expires),a.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(A){var i,e,c,d=A.getHeaders("contact").length;if(A.cseq===this.cseq)switch(this.registrationTimer!==null&&(s.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),!0){case/^1[0-9]{2}$/.test(A.status_code):this.emit("progress",A);break;case/^2[0-9]{2}$/.test(A.status_code):if(this.emit("accepted",A),A.hasHeader("expires")&&(e=A.getHeader("expires")),this.registrationExpiredTimer!==null&&(s.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),!d){this.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(;d--;){if((i=A.parseHeader("contact",d)).uri.user===this.ua.contact.uri.user){e=i.getParam("expires");break}i=null}if(!i){this.logger.warn("no Contact header pointing to us, response ignored");break}e||(e=this.expires),this.registrationTimer=s.Timers.setTimeout((function(){r.registrationTimer=null,r.register(r.options)}),1e3*e-3e3),this.registrationExpiredTimer=s.Timers.setTimeout((function(){r.logger.warn("registration expired"),r.registered&&r.unregistered(null,s.C.causes.EXPIRES)}),1e3*e),i.hasParam("temp-gruu")&&(this.ua.contact.temp_gruu=s.URI.parse(i.getParam("temp-gruu").replace(/"/g,""))),i.hasParam("pub-gruu")&&(this.ua.contact.pub_gruu=s.URI.parse(i.getParam("pub-gruu").replace(/"/g,""))),this.registered=!0,this.emit("registered",A||null);break;case/^423$/.test(A.status_code):A.hasHeader("min-expires")?(this.expires=A.getHeader("min-expires"),this.register(this.options)):(this.logger.warn("423 response received for REGISTER without Min-Expires"),this.registrationFailure(A,s.C.causes.SIP_FAILURE_CODE));break;default:c=s.Utils.sipErrorCause(A.status_code),this.registrationFailure(A,c)}},this.onRequestTimeout=function(){this.registrationFailure(null,s.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){this.registrationFailure(null,s.C.causes.CONNECTION_ERROR)},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=a,this.send()},registrationFailure:function(u,a){this.emit("failed",u||null,a||null)},onTransportClosed:function(){this.registered_before=this.registered,this.registrationTimer!==null&&(s.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),this.registrationExpiredTimer!==null&&(s.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.registered&&this.unregistered(null,s.C.causes.CONNECTION_ERROR)},onTransportConnected:function(){this.register(this.options)},close:function(){var u={all:!1,extraHeaders:this.closeHeaders};this.registered_before=this.registered,this.unregister(u)},unregister:function(u){var a;u=u||{},this.registered||u.all?(a=(u.extraHeaders||[]).slice(),this.registered=!1,this.registrationTimer!==null&&(s.Timers.clearTimeout(this.registrationTimer),this.registrationTimer=null),u.all?(a.push("Contact: *"),a.push("Expires: 0")):a.push("Contact: "+this.contact+";expires=0"),this.receiveResponse=function(r){var A;switch(!0){case/^1[0-9]{2}$/.test(r.status_code):this.emit("progress",r);break;case/^2[0-9]{2}$/.test(r.status_code):this.emit("accepted",r),this.registrationExpiredTimer!==null&&(s.Timers.clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=null),this.unregistered(r);break;default:A=s.Utils.sipErrorCause(r.status_code),this.unregistered(r,A)}},this.onRequestTimeout=function(){},this.onTransportError=function(){},this.cseq++,this.request.cseq=this.cseq,this.request.setHeader("cseq",this.cseq+" REGISTER"),this.request.extraHeaders=a,this.send()):this.logger.warn("already unregistered")},unregistered:function(u,a){this.registered=!1,this.emit("unregistered",u||null,a||null)}},s.RegisterContext=h}},{}],18:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u,a){this.logger=a.getLogger("sip.requestsender"),this.ua=a,this.applicant=u,this.method=u.request.method,this.request=u.request,this.credentials=null,this.challenged=!1,this.staled=!1,a.status!==s.UA.C.STATUS_USER_CLOSED||this.method===s.C.BYE&&this.method===s.C.ACK||this.onTransportError()}).prototype={send:function(){switch(this.method){case"INVITE":this.clientTransaction=new s.Transactions.InviteClientTransaction(this,this.request,this.ua.transport);break;case"ACK":this.clientTransaction=new s.Transactions.AckClientTransaction(this,this.request,this.ua.transport);break;default:this.clientTransaction=new s.Transactions.NonInviteClientTransaction(this,this.request,this.ua.transport)}return this.clientTransaction.send(),this.clientTransaction},onRequestTimeout:function(){this.applicant.onRequestTimeout()},onTransportError:function(){this.applicant.onTransportError()},receiveResponse:function(u){var a,r,A,i=u.status_code;if(i===401||i===407){if(u.status_code===401?(r=u.parseHeader("www-authenticate"),A="authorization"):(r=u.parseHeader("proxy-authenticate"),A="proxy-authorization"),!r)return this.logger.warn(u.status_code+" with wrong or missing challenge, cannot authenticate"),void this.applicant.receiveResponse(u);if(!this.challenged||!this.staled&&r.stale===!0){if(this.credentials||(this.credentials=this.ua.configuration.authenticationFactory(this.ua)),!this.credentials.authenticate(this.request,r))return void this.applicant.receiveResponse(u);this.challenged=!0,r.stale&&(this.staled=!0),u.method===s.C.REGISTER?a=this.applicant.cseq+=1:this.request.dialog?a=this.request.dialog.local_seqnum+=1:(a=this.request.cseq+1,this.request.cseq=a),this.request.setHeader("cseq",a+" "+this.method),this.request.setHeader(A,this.credentials.toString()),this.send()}else this.applicant.receiveResponse(u)}else this.applicant.receiveResponse(u)}},s.RequestSender=h}},{}],19:[function(v,m,I){"use strict";m.exports=function(s){var h=v("../package.json"),u=h.version,a=h.title,r=Object.defineProperties({},{version:{get:function(){return u}},name:{get:function(){return a}}});return v("./Utils")(r,s),r.LoggerFactory=v("./LoggerFactory")(s.console),r.EventEmitter=v("./EventEmitter")(s.console),r.C=v("./Constants")(r.name,r.version),r.Exceptions=v("./Exceptions"),r.Timers=v("./Timers")(s.timers),r.Transport=s.Transport(r,s.WebSocket),v("./Parser")(r),v("./SIPMessage")(r),v("./URI")(r),v("./NameAddrHeader")(r),v("./Transactions")(r),v("./Dialogs")(r),v("./RequestSender")(r),v("./RegisterContext")(r),r.MediaHandler=v("./MediaHandler")(r.EventEmitter),v("./ClientContext")(r),v("./ServerContext")(r),v("./Session")(r,s),v("./Subscription")(r),r.WebRTC=v("./WebRTC")(r,s),v("./UA")(r,s),r.Hacks=v("./Hacks")(r),v("./SanityCheck")(r),r.DigestAuthentication=v("./DigestAuthentication")(r.Utils),r.Grammar=v("./Grammar")(r),r}},{"../package.json":2,"./ClientContext":3,"./Constants":4,"./Dialogs":6,"./DigestAuthentication":7,"./EventEmitter":8,"./Exceptions":9,"./Grammar":10,"./Hacks":12,"./LoggerFactory":13,"./MediaHandler":14,"./NameAddrHeader":15,"./Parser":16,"./RegisterContext":17,"./RequestSender":18,"./SIPMessage":20,"./SanityCheck":21,"./ServerContext":22,"./Session":23,"./Subscription":25,"./Timers":26,"./Transactions":27,"./UA":29,"./URI":30,"./Utils":31,"./WebRTC":32}],20:[function(v,m,I){"use strict";m.exports=function(s){var h,u,a,r;function A(i){var e=i.ua.configuration.hackAllowUnregisteredOptionTags,c=[],d={};return i.method===s.C.REGISTER?c.push("path","gruu"):i.method===s.C.INVITE&&(i.ua.contact.pub_gruu||i.ua.contact.temp_gruu)&&c.push("gruu"),i.ua.configuration.rel100===s.C.supported.SUPPORTED&&c.push("100rel"),i.ua.configuration.replaces===s.C.supported.SUPPORTED&&c.push("replaces"),c.push("outbound"),"Supported: "+(c=(c=c.concat(i.ua.configuration.extraSupported)).filter((function(l){var n=s.C.OPTION_TAGS[l],t=!d[l];return d[l]=!0,(n||e)&&t}))).join(", ")+`\r
`}(h=function(i,e,c,d,l,n){var t,o,p,V,q,E;if(d=d||{},!i||!e||!c)return null;this.logger=c.getLogger("sip.sipmessage"),this.ua=c,this.headers={},this.method=i,this.ruri=e,this.body=n,this.extraHeaders=(l||[]).slice(),this.statusCode=d.status_code,this.reasonPhrase=d.reason_phrase,d.route_set?this.setHeader("route",d.route_set):c.configuration.usePreloadedRoute&&this.setHeader("route",c.transport.server.sip_uri),this.setHeader("via",""),this.setHeader("max-forwards",s.UA.C.MAX_FORWARDS),q=d.to_uri||e,t=d.to_displayName||d.to_displayName===0?'"'+d.to_displayName+'" ':"",t+="<"+(q&&q.toRaw?q.toRaw():q)+">",t+=d.to_tag?";tag="+d.to_tag:"",this.to=new s.NameAddrHeader.parse(t),this.setHeader("to",t),E=d.from_uri||c.configuration.uri,o=d.from_displayName||d.from_displayName===0?'"'+d.from_displayName+'" ':c.configuration.displayName?'"'+c.configuration.displayName+'" ':"",o+="<"+(E&&E.toRaw?E.toRaw():E)+">;tag=",o+=d.from_tag||s.Utils.newTag(),this.from=new s.NameAddrHeader.parse(o),this.setHeader("from",o),p=d.call_id||c.configuration.sipjsId+s.Utils.createRandomToken(15),this.call_id=p,this.setHeader("call-id",p),V=d.cseq||Math.floor(1e4*Math.random()),this.cseq=V,this.setHeader("cseq",V+" "+i)}).prototype={setHeader:function(i,e){this.headers[s.Utils.headerize(i)]=e instanceof Array?e:[e]},getHeader:function(i){var e,c,d=this.extraHeaders.length,l=this.headers[s.Utils.headerize(i)];if(l){if(l[0])return l[0]}else for(e=new RegExp("^\\s*"+i+"\\s*:","i"),c=0;c<d;c++)if(l=this.extraHeaders[c],e.test(l))return l.substring(l.indexOf(":")+1).trim()},getHeaders:function(i){var e,c,d,l=this.headers[s.Utils.headerize(i)],n=[];if(l){for(c=l.length,e=0;e<c;e++)n.push(l[e]);return n}for(c=this.extraHeaders.length,d=new RegExp("^\\s*"+i+"\\s*:","i"),e=0;e<c;e++)l=this.extraHeaders[e],d.test(l)&&n.push(l.substring(l.indexOf(":")+1).trim());return n},hasHeader:function(i){var e,c,d=this.extraHeaders.length;if(this.headers[s.Utils.headerize(i)])return!0;for(e=new RegExp("^\\s*"+i+"\\s*:","i"),c=0;c<d;c++)if(e.test(this.extraHeaders[c]))return!0;return!1},toString:function(){var i,e,c,d="";for(i in d+=this.method+" "+(this.ruri.toRaw?this.ruri.toRaw():this.ruri)+` SIP/2.0\r
`,this.headers)for(e=this.headers[i].length,c=0;c<e;c++)d+=i+": "+this.headers[i][c]+`\r
`;for(e=this.extraHeaders.length,c=0;c<e;c++)d+=this.extraHeaders[c].trim()+`\r
`;return d+=A(this),d+="User-Agent: "+this.ua.configuration.userAgentString+`\r
`,this.body?typeof this.body=="string"?(d+="Content-Length: "+(e=s.Utils.str_utf8_length(this.body))+`\r
\r
`,d+=this.body):this.body.body&&this.body.contentType?(e=s.Utils.str_utf8_length(this.body.body),d+="Content-Type: "+this.body.contentType+`\r
`,d+="Content-Length: "+e+`\r
\r
`,d+=this.body.body):d+=`Content-Length: 0\r
\r
`:d+=`Content-Length: 0\r
\r
`,d}},(u=function(){this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null}).prototype={addHeader:function(i,e){var c={raw:e};i=s.Utils.headerize(i),this.headers[i]?this.headers[i].push(c):this.headers[i]=[c]},getHeader:function(i){var e=this.headers[s.Utils.headerize(i)];if(e)return e[0]?e[0].raw:void 0},getHeaders:function(i){var e,c,d=this.headers[s.Utils.headerize(i)],l=[];if(!d)return[];for(c=d.length,e=0;e<c;e++)l.push(d[e].raw);return l},hasHeader:function(i){return!!this.headers[s.Utils.headerize(i)]},parseHeader:function(i,e){var c,d,l;if(i=s.Utils.headerize(i),e=e||0,this.headers[i]){if(!(e>=this.headers[i].length))return d=(c=this.headers[i][e]).raw,c.parsed?c.parsed:(l=s.Grammar.parse(d,i.replace(/-/g,"_")))===-1?(this.headers[i].splice(e,1),void this.logger.warn('error parsing "'+i+'" header field with value "'+d+'"')):(c.parsed=l,l);this.logger.log('not so many "'+i+'" headers present')}else this.logger.log('header "'+i+'" not present')},s:function(i,e){return this.parseHeader(i,e)},setHeader:function(i,e){var c={raw:e};this.headers[s.Utils.headerize(i)]=[c]},toString:function(){return this.data}},(a=function(i){this.logger=i.getLogger("sip.sipmessage"),this.ua=i,this.headers={},this.ruri=null,this.transport=null,this.server_transaction=null}).prototype=new u,a.prototype.reply=function(i,e,c,d,l,n){var t,o,p,V,q,E=this.getHeader("To"),C=0,w=0;if(q=s.Utils.buildStatusLine(i,e),c=(c||[]).slice(),this.method===s.C.INVITE&&i>100&&i<=200)for(p=(t=this.getHeaders("record-route")).length;C<p;C++)q+="Record-Route: "+t[C]+`\r
`;for(p=(o=this.getHeaders("via")).length;w<p;w++)q+="Via: "+o[w]+`\r
`;for(!this.to_tag&&i>100?E+=";tag="+s.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(E+=";tag="+this.to_tag),q+="To: "+E+`\r
`,q+="From: "+this.getHeader("From")+`\r
`,q+="Call-ID: "+this.call_id+`\r
`,q+="CSeq: "+this.cseq+" "+this.method+`\r
`,p=c.length,V=0;V<p;V++)q+=c[V].trim()+`\r
`;return q+=A(this),q+="User-Agent: "+this.ua.configuration.userAgentString+`\r
`,d?typeof d=="string"?(q+=`Content-Type: application/sdp\r
`,q+="Content-Length: "+(p=s.Utils.str_utf8_length(d))+`\r
\r
`,q+=d):d.body&&d.contentType?(p=s.Utils.str_utf8_length(d.body),q+="Content-Type: "+d.contentType+`\r
`,q+="Content-Length: "+p+`\r
\r
`,q+=d.body):q+=`Content-Length: 0\r
\r
`:q+=`Content-Length: 0\r
\r
`,this.server_transaction.receiveResponse(i,q).then(l,n),q},a.prototype.reply_sl=function(i,e){var c,d,l=0,n=this.getHeaders("via"),t=n.length;for(d=s.Utils.buildStatusLine(i,e);l<t;l++)d+="Via: "+n[l]+`\r
`;c=this.getHeader("To"),!this.to_tag&&i>100?c+=";tag="+s.Utils.newTag():this.to_tag&&!this.s("to").hasParam("tag")&&(c+=";tag="+this.to_tag),d+="To: "+c+`\r
`,d+="From: "+this.getHeader("From")+`\r
`,d+="Call-ID: "+this.call_id+`\r
`,d+="CSeq: "+this.cseq+" "+this.method+`\r
`,d+="User-Agent: "+this.ua.configuration.userAgentString+`\r
`,d+=`Content-Length: 0\r
\r
`,this.transport.send(d)},(r=function(i){this.logger=i.getLogger("sip.sipmessage"),this.headers={},this.status_code=null,this.reason_phrase=null}).prototype=new u,s.OutgoingRequest=h,s.IncomingRequest=a,s.IncomingResponse=r}},{}],21:[function(v,m,I){"use strict";m.exports=function(s){var h,u=[],a=[],r=[];function A(i,e,c){for(var d,l=s.Utils.buildStatusLine(i),n=e.getHeaders("via"),t=n.length,o=0;o<t;o++)l+="Via: "+n[o]+`\r
`;d=e.getHeader("To"),e.to_tag||(d+=";tag="+s.Utils.newTag()),l+="To: "+d+`\r
`,l+="From: "+e.getHeader("From")+`\r
`,l+="Call-ID: "+e.call_id+`\r
`,l+="CSeq: "+e.cseq+" "+e.method+`\r
`,l+=`\r
`,c.send(l)}u.push((function(i,e,c){if(!i.ruri||i.ruri.scheme!=="sip")return A(416,i,c),!1})),u.push((function(i,e,c){if(!i.to_tag&&i.call_id.substr(0,5)===e.configuration.sipjsId)return A(482,i,c),!1})),u.push((function(i,e,c){if(s.Utils.str_utf8_length(i.body)<i.getHeader("content-length"))return A(400,i,c),!1})),u.push((function(i,e,c){var d,l,n=i.from_tag,t=i.call_id,o=i.cseq;if(!i.to_tag)if(i.method===s.C.INVITE){if(d=e.transactions.ist[i.via_branch])return;for(l in e.transactions.ist)if((d=e.transactions.ist[l]).request.from_tag===n&&d.request.call_id===t&&d.request.cseq===o)return A(482,i,c),!1}else{if(d=e.transactions.nist[i.via_branch])return;for(l in e.transactions.nist)if((d=e.transactions.nist[l]).request.from_tag===n&&d.request.call_id===t&&d.request.cseq===o)return A(482,i,c),!1}})),a.push((function(i,e){if(i.getHeaders("via").length>1)return e.getLogger("sip.sanitycheck").warn("More than one Via header field present in the response. Dropping the response"),!1})),a.push((function(i,e){var c=e.configuration.viaHost;if(i.via.host!==c||i.via.port!==void 0)return e.getLogger("sip.sanitycheck").warn("Via sent-by in the response does not match UA Via host value. Dropping the response"),!1})),a.push((function(i,e){if(s.Utils.str_utf8_length(i.body)<i.getHeader("content-length"))return e.getLogger("sip.sanitycheck").warn("Message body length is lower than the value in Content-Length header field. Dropping the response"),!1})),r.push((function(i,e){for(var c=["from","to","call_id","cseq","via"],d=c.length;d--;)if(!i.hasHeader(c[d]))return e.getLogger("sip.sanitycheck").warn("Missing mandatory header field : "+c[d]+". Dropping the response"),!1})),h=function(i,e,c){var d;for(d=r.length;d--;)if(r[d](i,e,c)===!1)return!1;if(i instanceof s.IncomingRequest){for(d=u.length;d--;)if(u[d](i,e,c)===!1)return!1}else if(i instanceof s.IncomingResponse){for(d=a.length;d--;)if(a[d](i,e,c)===!1)return!1}return!0},s.sanityCheck=h}},{}],22:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u,a){this.ua=u,this.logger=u.getLogger("sip.servercontext"),this.request=a,a.method===s.C.INVITE?this.transaction=new s.Transactions.InviteServerTransaction(a,u):this.transaction=new s.Transactions.NonInviteServerTransaction(a,u),a.body&&(this.body=a.body),a.hasHeader("Content-Type")&&(this.contentType=a.getHeader("Content-Type")),this.method=a.method,this.data={},this.localIdentity=a.to,this.remoteIdentity=a.from}).prototype=Object.create(s.EventEmitter.prototype),h.prototype.progress=function(u){return(u=Object.create(u||Object.prototype)).statusCode||(u.statusCode=180),u.minCode=100,u.maxCode=199,u.events=["progress"],this.reply(u)},h.prototype.accept=function(u){return(u=Object.create(u||Object.prototype)).statusCode||(u.statusCode=200),u.minCode=200,u.maxCode=299,u.events=["accepted"],this.reply(u)},h.prototype.reject=function(u){return(u=Object.create(u||Object.prototype)).statusCode||(u.statusCode=480),u.minCode=300,u.maxCode=699,u.events=["rejected","failed"],this.reply(u)},h.prototype.reply=function(u){var a,r=(u=u||{}).statusCode||100,A=u.minCode||100,i=u.maxCode||699,e=s.Utils.getReasonPhrase(r,u.reasonPhrase),c=u.extraHeaders||[],d=u.body,l=u.events||[];if(r<A||r>i)throw new TypeError("Invalid statusCode: "+r);return a=this.request.reply(r,e,c,d),l.forEach((function(n){this.emit(n,a,e)}),this),this},h.prototype.onRequestTimeout=function(){this.emit("failed",null,s.C.causes.REQUEST_TIMEOUT)},h.prototype.onTransportError=function(){this.emit("failed",null,s.C.causes.CONNECTION_ERROR)},s.ServerContext=h}},{}],23:[function(v,m,I){"use strict";m.exports=function(s,h){var u,a,r,A=v("./Session/DTMF")(s),i={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_PRACK:6,STATUS_WAITING_FOR_ACK:7,STATUS_CANCELED:8,STATUS_TERMINATED:9,STATUS_ANSWERED_WAITING_FOR_PRACK:10,STATUS_EARLY_MEDIA:11,STATUS_CONFIRMED:12};(u=function(e){this.status=i.STATUS_NULL,this.dialog=null,this.earlyDialogs={},this.mediaHandlerFactory=e||s.WebRTC.MediaHandler.defaultFactory,this.hasOffer=!1,this.hasAnswer=!1,this.timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null,rel1xxTimer:null,prackTimer:null},this.startTime=null,this.endTime=null,this.tones=null,this.local_hold=!1,this.remote_hold=!1,this.pending_actions={actions:[],length:function(){return this.actions.length},isPending:function(c){for(var d=0,l=this.actions.length;d<l;d++)if(this.actions[d].name===c)return!0;return!1},shift:function(){return this.actions.shift()},push:function(c){this.actions.push({name:c})},pop:function(c){for(var d=0,l=this.actions.length;d<l;d++)this.actions[d].name===c&&(this.actions.splice(d,1),l--,d--)}},this.early_sdp=null,this.rel100=s.C.supported.UNSUPPORTED}).prototype={dtmf:function(e,c){var d=[],l=this;if(c=c||{},e===void 0)throw new TypeError("Not enough arguments");if(this.status!==i.STATUS_CONFIRMED&&this.status!==i.STATUS_WAITING_FOR_ACK)throw new s.Exceptions.InvalidStateError(this.status);if(typeof e!="string"&&typeof e!="number"||!e.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+e);for(e=e.toString().split("");e.length>0;)d.push(new A(this,e.shift(),c));if(this.tones)return this.tones=this.tones.concat(d),this;var n=function(){var t,o;if(l.status===i.STATUS_TERMINATED||!l.tones||l.tones.length===0)return l.tones=null,this;(t=l.tones.shift()).on("failed",(function(){l.tones=null})),t.send(c),o=t.duration+t.interToneGap,s.Timers.setTimeout(n,o)};return this.tones=d,n(),this},bye:function(e){var c=(e=Object.create(e||Object.prototype)).statusCode;if(this.status===i.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;if(this.logger.log("terminating Session"),c&&(c<200||c>=700))throw new TypeError("Invalid statusCode: "+c);return e.receiveResponse=function(){},this.sendRequest(s.C.BYE,e).terminated()},refer:function(e,c){var d=((c=c||{}).extraHeaders||[]).slice(),l=e instanceof s.InviteServerContext||e instanceof s.InviteClientContext,n=e;if(e===void 0)throw new TypeError("Not enough arguments");if(this.status!==i.STATUS_CONFIRMED)throw new s.Exceptions.InvalidStateError(this.status);if(l)e='"'+e.remoteIdentity.friendlyName+'" <'+e.dialog.remote_target.toString()+"?Replaces="+e.dialog.id.call_id+"%3Bto-tag%3D"+e.dialog.id.remote_tag+"%3Bfrom-tag%3D"+e.dialog.id.local_tag+">";else{try{e=s.Grammar.parse(e,"Refer_To").uri||e}catch{this.logger.debug(".refer() cannot parse Refer_To from",e),this.logger.debug("...falling through to normalizeTarget()")}if(!(e=this.ua.normalizeTarget(e)))throw new TypeError("Invalid target: "+n)}return d.push("Contact: "+this.contact),d.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),d.push("Refer-To: "+e),this.sendRequest(s.C.REFER,{extraHeaders:d,body:c.body,receiveResponse:function(t){/^2[0-9]{2}$/.test(t.status_code)&&(l||e.scheme&&e.scheme.match("^sips?$"))&&this.terminate()}.bind(this)}),this},followRefer:function(e){return function(c,d){var l=d.parseHeader("refer-to"),n=l.uri;if(n.scheme.match("^sips?$")){var t=[],o=n.getHeader("Replaces");o!==void 0&&t.push("Replaces: "+decodeURIComponent(o)),n.clearHeaders();var p=this.mediaHandler.getReferMedia,V=p?p.call(this.mediaHandler):this.mediaHint;s.Hacks.Chrome.getsConfusedAboutGUM(this);var q=this.ua.invite(n,{media:V,params:{to_displayName:l.friendlyName},extraHeaders:t});c.call(this,d,q),this.terminate()}else{var E=n.toString();typeof h.open=="function"?h.open(E):this.logger.warn("referred to non-SIP URI but `open` isn't in the environment: "+E)}}.bind(this,e)},sendRequest:function(e,c){c=c||{};var d=this,l=new s.OutgoingRequest(e,this.dialog.remote_target,this.ua,{cseq:c.cseq||(this.dialog.local_seqnum+=1),call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set,statusCode:c.statusCode,reasonPhrase:c.reasonPhrase},c.extraHeaders||[],c.body);return new s.RequestSender({request:l,onRequestTimeout:function(){d.onRequestTimeout()},onTransportError:function(){d.onTransportError()},receiveResponse:c.receiveResponse||function(n){d.receiveNonInviteResponse(n)}},this.ua).send(),this.emit(e.toLowerCase(),l),this},close:function(){var e;if(this.status===i.STATUS_TERMINATED)return this;for(e in this.logger.log("closing INVITE session "+this.id),this.mediaHandler&&this.mediaHandler.close(),this.timers)s.Timers.clearTimeout(this.timers[e]);for(e in this.dialog&&(this.dialog.terminate(),delete this.dialog),this.earlyDialogs)this.earlyDialogs[e].terminate(),delete this.earlyDialogs[e];return this.status=i.STATUS_TERMINATED,delete this.ua.sessions[this.id],this},createDialog:function(e,c,d){var l,n,t=e[c==="UAS"?"to_tag":"from_tag"],o=e[c==="UAS"?"from_tag":"to_tag"],p=e.call_id+t+o;if(n=this.earlyDialogs[p],d)return!!n||((n=new s.Dialog(this,e,c,s.Dialog.C.STATUS_EARLY)).error?(this.logger.error(n.error),this.failed(e,s.C.causes.INTERNAL_ERROR),!1):(this.earlyDialogs[p]=n,!0));if(n){for(var V in n.update(e,c),this.dialog=n,delete this.earlyDialogs[p],this.earlyDialogs)this.earlyDialogs[V].terminate(),delete this.earlyDialogs[V];return!0}return(l=new s.Dialog(this,e,c)).error?(this.logger.error(l.error),this.failed(e,s.C.causes.INTERNAL_ERROR),!1):(this.to_tag=e.to_tag,this.dialog=l,!0)},isReadyToReinvite:function(){return this.mediaHandler.isReady()&&!this.dialog.uac_pending_reply&&!this.dialog.uas_pending_reply},mute:function(e){var c=this.mediaHandler.mute(e);c&&this.onmute(c)},unmute:function(e){var c=this.mediaHandler.unmute(e);c&&this.onunmute(c)},hold:function(e){if(this.status!==i.STATUS_WAITING_FOR_ACK&&this.status!==i.STATUS_CONFIRMED)throw new s.Exceptions.InvalidStateError(this.status);this.mediaHandler.hold(),this.isReadyToReinvite()?this.local_hold!==!0&&(this.onhold("local"),this.sendReinvite(e)):this.pending_actions.isPending("unhold")?this.pending_actions.pop("unhold"):this.pending_actions.isPending("hold")||this.pending_actions.push("hold")},unhold:function(e){if(this.status!==i.STATUS_WAITING_FOR_ACK&&this.status!==i.STATUS_CONFIRMED)throw new s.Exceptions.InvalidStateError(this.status);this.mediaHandler.unhold(),this.isReadyToReinvite()?this.local_hold!==!1&&(this.onunhold("local"),this.sendReinvite(e)):this.pending_actions.isPending("hold")?this.pending_actions.pop("hold"):this.pending_actions.isPending("unhold")||this.pending_actions.push("unhold")},isOnHold:function(){return{local:this.local_hold,remote:this.remote_hold}},receiveReinvite:function(e){var c=this;if(!this.mediaHandler.hasDescription(e))return this.logger.warn("invalid Content-Type"),void e.reply(415);this.mediaHandler.setDescription(e).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then((function(d){var l=["Contact: "+c.contact];e.reply(200,null,l,d,(function(){c.status=i.STATUS_WAITING_FOR_ACK,c.setInvite2xxTimer(e,d),c.setACKTimer(),c.remote_hold&&!c.mediaHandler.remote_hold?c.onunhold("remote"):!c.remote_hold&&c.mediaHandler.remote_hold&&c.onhold("remote")}))})).catch((function(d){var l;d instanceof s.Exceptions.GetDescriptionError?l=500:(c.logger.error(d),l=488),e.reply(l)}))},sendReinvite:function(e){var c,d=this,l=((e=e||{}).extraHeaders||[]).slice(),n=e.eventHandlers||{};n.succeeded&&(c=n.succeeded),this.reinviteSucceeded=function(){s.Timers.clearTimeout(d.timers.ackTimer),s.Timers.clearTimeout(d.timers.invite2xxTimer),d.status=i.STATUS_CONFIRMED,c&&c.apply(this,arguments)},n.failed?this.reinviteFailed=n.failed:this.reinviteFailed=function(){},l.push("Contact: "+this.contact),l.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=this.receiveReinviteResponse,this.mediaHandler.getDescription(d.mediaHint).then((function(t){d.dialog.sendRequest(d,s.C.INVITE,{extraHeaders:l,body:t})}),(function(){d.isReadyToReinvite()&&d.onReadyToReinvite(),d.reinviteFailed()}))},receiveRequest:function(e){switch(e.method){case s.C.BYE:e.reply(200),this.status===i.STATUS_CONFIRMED&&(this.emit("bye",e),this.terminated(e,s.C.causes.BYE));break;case s.C.INVITE:this.status===i.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case s.C.INFO:if(this.status===i.STATUS_CONFIRMED||this.status===i.STATUS_WAITING_FOR_ACK){if(this.onInfo)return this.onInfo(e);var c,d,l,n=e.getHeader("content-type"),t=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,o=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;n&&(n.match(/^application\/dtmf-relay/i)?(e.body&&(c=e.body.split(`\r
`,2)).length===2&&(t.test(c[0])&&(d=c[0].replace(t,"$2")),o.test(c[1])&&(l=parseInt(c[1].replace(o,"$2"),10))),new A(this,d,{duration:l}).init_incoming(e)):e.reply(415,null,["Accept: application/dtmf-relay"]))}break;case s.C.REFER:this.status===i.STATUS_CONFIRMED&&(this.logger.log("REFER received"),this.listeners("refer").length?(e.reply(202,"Accepted"),this.sendRequest(s.C.NOTIFY,{extraHeaders:["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],body:"SIP/2.0 100 Trying",receiveResponse:function(){}}),this.emit("refer",e)):e.reply(603,"Declined"));break;case s.C.NOTIFY:e.reply(200,"OK"),this.emit("notify",e)}},receiveReinviteResponse:function(e){var c=this;if(this.status!==i.STATUS_TERMINATED)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):if(this.status=i.STATUS_CONFIRMED,this.sendRequest(s.C.ACK,{cseq:e.cseq}),!this.mediaHandler.hasDescription(e)){this.reinviteFailed();break}this.mediaHandler.setDescription(e).then((function(){c.reinviteSucceeded()}),(function(){c.reinviteFailed()}));break;default:this.reinviteFailed()}},acceptAndTerminate:function(e,c,d){var l=[];return c&&l.push("Reason: "+s.Utils.getReasonHeaderValue(c,d)),(this.dialog||this.createDialog(e,"UAC"))&&(this.sendRequest(s.C.ACK,{cseq:e.cseq}),this.sendRequest(s.C.BYE,{extraHeaders:l})),this},setInvite2xxTimer:function(e,c){var d=this,l=s.Timers.T1;this.timers.invite2xxTimer=s.Timers.setTimeout((function n(){if(d.status===i.STATUS_WAITING_FOR_ACK){d.logger.log("no ACK received, attempting to retransmit OK");var t=["Contact: "+d.contact];e.reply(200,null,t,c),l=Math.min(2*l,s.Timers.T2),d.timers.invite2xxTimer=s.Timers.setTimeout(n,l)}}),l)},setACKTimer:function(){var e=this;this.timers.ackTimer=s.Timers.setTimeout((function(){e.status===i.STATUS_WAITING_FOR_ACK&&(e.logger.log("no ACK received for an extended period of time, terminating the call"),s.Timers.clearTimeout(e.timers.invite2xxTimer),e.sendRequest(s.C.BYE),e.terminated(null,s.C.causes.NO_ACK))}),s.Timers.TIMER_H)},onReadyToReinvite:function(){var e=this.pending_actions.shift();e&&this[e.name]&&this[e.name]()},onTransportError:function(){this.status!==i.STATUS_CONFIRMED&&this.status!==i.STATUS_TERMINATED&&this.failed(null,s.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===i.STATUS_CONFIRMED?this.terminated(null,s.C.causes.REQUEST_TIMEOUT):this.status!==i.STATUS_TERMINATED&&(this.failed(null,s.C.causes.REQUEST_TIMEOUT),this.terminated(null,s.C.causes.REQUEST_TIMEOUT))},onDialogError:function(e){this.status===i.STATUS_CONFIRMED?this.terminated(e,s.C.causes.DIALOG_ERROR):this.status!==i.STATUS_TERMINATED&&(this.failed(e,s.C.causes.DIALOG_ERROR),this.terminated(e,s.C.causes.DIALOG_ERROR))},onhold:function(e){this[e==="local"?"local_hold":"remote_hold"]=!0,this.emit("hold",{originator:e})},onunhold:function(e){this[e==="local"?"local_hold":"remote_hold"]=!1,this.emit("unhold",{originator:e})},onmute:function(e){this.emit("muted",{audio:e.audio,video:e.video})},onunmute:function(e){this.emit("unmuted",{audio:e.audio,video:e.video})},failed:function(e,c){return this.status===i.STATUS_TERMINATED||this.emit("failed",e||null,c||null),this},rejected:function(e,c){return this.emit("rejected",e||null,c||null),this},canceled:function(){return this.emit("cancel"),this},accepted:function(e,c){return c=s.Utils.getReasonPhrase(e&&e.status_code,c),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),this.emit("accepted",e,c),this},terminated:function(e,c){return this.status===i.STATUS_TERMINATED||(this.endTime=new Date,this.close(),this.emit("terminated",e||null,c||null)),this},connecting:function(e){return this.emit("connecting",{request:e}),this}},u.desugar=function(e){return h.HTMLMediaElement&&e instanceof h.HTMLMediaElement&&(e={media:{constraints:{audio:!0,video:e.tagName==="VIDEO"},render:{remote:e}}}),e||{}},u.C=i,s.Session=u,(a=function(e,c){var d,l=this,n=c.getHeader("Content-Type"),t=c.parseHeader("Content-Disposition");if(s.Utils.augment(this,s.ServerContext,[e,c]),s.Utils.augment(this,s.Session,[e.configuration.mediaHandlerFactory]),this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:{optional:[{DtlsSrtpKeyAgreement:"true"}]}}),!t&&!this.mediaHandler.hasDescription(c)||t&&t.type==="render")this.renderbody=c.body,this.rendertype=n;else if(!this.mediaHandler.hasDescription(c)&&t&&t.type==="session")return void c.reply(415);function o(V,q){c.hasHeader(V)&&c.getHeader(V).toLowerCase().indexOf("100rel")>=0&&(l.rel100=q)}function p(){var V={extraHeaders:["Contact: "+l.contact]};l.rel100!==s.C.supported.REQUIRED&&l.progress(V),l.status=i.STATUS_WAITING_FOR_ANSWER,l.timers.userNoAnswerTimer=s.Timers.setTimeout((function(){c.reply(408),l.failed(c,s.C.causes.NO_ANSWER),l.terminated(c,s.C.causes.NO_ANSWER)}),l.ua.configuration.noAnswerTimeout),d&&(l.timers.expiresTimer=s.Timers.setTimeout((function(){l.status===i.STATUS_WAITING_FOR_ANSWER&&(c.reply(487),l.failed(c,s.C.causes.EXPIRES),l.terminated(c,s.C.causes.EXPIRES))}),d)),l.emit("invite",c)}this.status=i.STATUS_INVITE_RECEIVED,this.from_tag=c.from_tag,this.id=c.call_id+this.from_tag,this.request=c,this.contact=this.ua.contact.toString(),this.receiveNonInviteResponse=function(){},this.logger=e.getLogger("sip.inviteservercontext",this.id),this.ua.sessions[this.id]=this,c.hasHeader("expires")&&(d=1e3*c.getHeader("expires")),o("require",s.C.supported.REQUIRED),o("supported",s.C.supported.SUPPORTED),c.to_tag=s.Utils.newTag(),this.createDialog(c,"UAS",!0)?(this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),!this.mediaHandler.hasDescription(c)||this.renderbody?s.Timers.setTimeout(p,0):(this.hasOffer=!0,this.mediaHandler.setDescription(c).then(p,(function(V){l.logger.warn("invalid description"),l.logger.warn(V),c.reply(488)})))):c.reply(500,"Missing Contact header field")}).prototype={reject:function(e){if(this.status===i.STATUS_TERMINATED)throw new s.Exceptions.InvalidStateError(this.status);return this.logger.log("rejecting RTCSession"),s.ServerContext.prototype.reject.call(this,e),this.terminated()},terminate:function(e){var c,d=((e=e||{}).extraHeaders||[]).slice(),l=e.body,n=this;return this.status===i.STATUS_WAITING_FOR_ACK&&this.request.server_transaction.state!==s.Transactions.C.STATUS_TERMINATED?(c=this.dialog,this.receiveRequest=function(t){t.method===s.C.ACK&&(this.sendRequest(s.C.BYE,{extraHeaders:d,body:l}),c.terminate())},this.request.server_transaction.on("stateChanged",(function(){this.state===s.Transactions.C.STATUS_TERMINATED&&this.dialog&&(this.request=new s.OutgoingRequest(s.C.BYE,this.dialog.remote_target,this.ua,{cseq:this.dialog.local_seqnum+=1,call_id:this.dialog.id.call_id,from_uri:this.dialog.local_uri,from_tag:this.dialog.id.local_tag,to_uri:this.dialog.remote_uri,to_tag:this.dialog.id.remote_tag,route_set:this.dialog.route_set},d,l),new s.RequestSender({request:this.request,onRequestTimeout:function(){n.onRequestTimeout()},onTransportError:function(){n.onTransportError()},receiveResponse:function(){}},this.ua).send(),c.terminate())})),this.emit("bye",this.request),this.terminated(),this.dialog=c,this.ua.dialogs[c.id.toString()]=c):this.status===i.STATUS_CONFIRMED?this.bye(e):this.reject(e),this},progress:function(e){var c,d,l=(e=e||{}).statusCode||180,n=e.reasonPhrase,t=(e.extraHeaders||[]).slice(),o=e.stunServers||null,p=e.turnServers||null,V=e.body;if(l<100||l>199)throw new TypeError("Invalid statusCode: "+l);if(this.isCanceled||this.status===i.STATUS_TERMINATED)return this;if(o||p){if(o){if(!(c=this.ua.getConfigurationCheck().optional.stunServers(o)))throw new TypeError("Invalid stunServers: "+o);this.stunServers=c}if(p){if(!(c=this.ua.getConfigurationCheck().optional.turnServers(p)))throw new TypeError("Invalid turnServers: "+p);this.turnServers=c}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return e.statusCode!==100&&(this.rel100===s.C.supported.REQUIRED||this.rel100===s.C.supported.SUPPORTED&&e.rel100||this.rel100===s.C.supported.SUPPORTED&&this.ua.configuration.rel100===s.C.supported.REQUIRED)?function(){l=e.statusCode||183,this.status=i.STATUS_WAITING_FOR_PRACK,t.push("Contact: "+this.contact),t.push("Require: 100rel"),t.push("RSeq: "+Math.floor(1e4*Math.random())),this.mediaHint=e.media,this.mediaHandler.getDescription(e.media).then(function(q){if(!this.isCanceled&&this.status!==i.STATUS_TERMINATED){this.early_sdp=q.body,this[this.hasOffer?"hasAnswer":"hasOffer"]=!0;var E=s.Timers.T1;this.timers.rel1xxTimer=s.Timers.setTimeout(function C(){this.request.reply(l,null,t,q),E*=2,this.timers.rel1xxTimer=s.Timers.setTimeout(C.bind(this),E)}.bind(this),E),this.timers.prackTimer=s.Timers.setTimeout(function(){this.status===i.STATUS_WAITING_FOR_PRACK&&(this.logger.log("no PRACK received, rejecting the call"),s.Timers.clearTimeout(this.timers.rel1xxTimer),this.request.reply(504),this.terminated(null,s.C.causes.NO_PRACK))}.bind(this),64*s.Timers.T1),d=this.request.reply(l,n,t,q),this.emit("progress",d,n)}}.bind(this),function(){this.request.reply(480),this.failed(null,s.C.causes.WEBRTC_ERROR),this.terminated(null,s.C.causes.WEBRTC_ERROR)}.bind(this))}.apply(this):function(){d=this.request.reply(l,n,t,V),this.emit("progress",d,n)}.apply(this),this},accept:function(e){e=Object.create(u.desugar(e)),s.Utils.optionsOverride(e,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=e.media,this.onInfo=e.onInfo;var c,d=this,l=this.request,n=(e.extraHeaders||[]).slice(),t=e.stunServers||null,o=e.turnServers||null,p=function(V){var q;d.mediaHandler.render(),n.push("Contact: "+d.contact),n.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),d.hasOffer?d.hasAnswer=!0:d.hasOffer=!0,q=l.reply(200,null,n,V,(function(){d.status=i.STATUS_WAITING_FOR_ACK,d.setInvite2xxTimer(l,V),d.setACKTimer()}),(function(){d.failed(null,s.C.causes.CONNECTION_ERROR),d.terminated(null,s.C.causes.CONNECTION_ERROR)})),d.status!==i.STATUS_TERMINATED&&d.accepted(q,s.Utils.getReasonPhrase(200))};if(this.status===i.STATUS_WAITING_FOR_PRACK)return this.status=i.STATUS_ANSWERED_WAITING_FOR_PRACK,this;if(this.status===i.STATUS_WAITING_FOR_ANSWER)this.status=i.STATUS_ANSWERED;else if(this.status!==i.STATUS_EARLY_MEDIA)throw new s.Exceptions.InvalidStateError(this.status);if((t||o)&&this.status!==i.STATUS_EARLY_MEDIA&&this.status!==i.STATUS_ANSWERED_WAITING_FOR_PRACK){if(t){if(!(c=this.ua.getConfigurationCheck().optional.stunServers(t)))throw new TypeError("Invalid stunServers: "+t);this.stunServers=c}if(o){if(!(c=this.ua.getConfigurationCheck().optional.turnServers(o)))throw new TypeError("Invalid turnServers: "+o);this.turnServers=c}this.mediaHandler.updateIceServers({stunServers:this.stunServers,turnServers:this.turnServers})}return this.createDialog(l,"UAS")?(s.Timers.clearTimeout(this.timers.userNoAnswerTimer),this.status===i.STATUS_EARLY_MEDIA?p({}):this.mediaHandler.getDescription(d.mediaHint).then(p,(function(){d.status!==i.STATUS_TERMINATED&&(d.request.reply(480),d.failed(null,s.C.causes.WEBRTC_ERROR),d.terminated(null,s.C.causes.WEBRTC_ERROR))})),this):(l.reply(500,"Missing Contact header field"),this)},receiveRequest:function(e){function c(){var d;s.Timers.clearTimeout(this.timers.ackTimer),s.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=i.STATUS_CONFIRMED,this.unmute(),d=e.getHeader("Content-Type"),this.mediaHandler.hasDescription(e)||(this.renderbody=e.body,this.rendertype=d),this.emit("confirmed",e)}switch(e.method){case s.C.CANCEL:this.status!==i.STATUS_WAITING_FOR_ANSWER&&this.status!==i.STATUS_WAITING_FOR_PRACK&&this.status!==i.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==i.STATUS_EARLY_MEDIA&&this.status!==i.STATUS_ANSWERED||(this.status=i.STATUS_CANCELED,this.request.reply(487),this.canceled(e),this.rejected(e,s.C.causes.CANCELED),this.failed(e,s.C.causes.CANCELED),this.terminated(e,s.C.causes.CANCELED));break;case s.C.ACK:this.status===i.STATUS_WAITING_FOR_ACK&&(this.hasAnswer?c.apply(this):this.mediaHandler.hasDescription(e)?(this.hasAnswer=!0,this.mediaHandler.setDescription(e).then(c.bind(this),function(d){this.logger.warn(d),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,s.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):this.early_sdp?c.apply(this):(this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,s.C.causes.BAD_MEDIA_DESCRIPTION)));break;case s.C.PRACK:this.status===i.STATUS_WAITING_FOR_PRACK||this.status===i.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(s.Timers.clearTimeout(this.timers.rel1xxTimer),s.Timers.clearTimeout(this.timers.prackTimer),e.reply(200),this.status===i.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=i.STATUS_EARLY_MEDIA,this.accept()),this.status=i.STATUS_EARLY_MEDIA,this.mute()):this.mediaHandler.hasDescription(e)?(this.hasAnswer=!0,this.mediaHandler.setDescription(e).then(function(){s.Timers.clearTimeout(this.timers.rel1xxTimer),s.Timers.clearTimeout(this.timers.prackTimer),e.reply(200),this.status===i.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=i.STATUS_EARLY_MEDIA,this.accept()),this.status=i.STATUS_EARLY_MEDIA,this.mute()}.bind(this),function(d){this.logger.warn(d),this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,s.C.causes.BAD_MEDIA_DESCRIPTION)}.bind(this))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(e,s.C.causes.BAD_MEDIA_DESCRIPTION)):this.status===i.STATUS_EARLY_MEDIA&&e.reply(200);break;default:u.prototype.receiveRequest.apply(this,[e])}},onTransportError:function(){this.status!==i.STATUS_CONFIRMED&&this.status!==i.STATUS_TERMINATED&&this.failed(null,s.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===i.STATUS_CONFIRMED?this.terminated(null,s.C.causes.REQUEST_TIMEOUT):this.status!==i.STATUS_TERMINATED&&(this.failed(null,s.C.causes.REQUEST_TIMEOUT),this.terminated(null,s.C.causes.REQUEST_TIMEOUT))}},s.InviteServerContext=a,(r=function(e,c,d){(d=Object.create(u.desugar(d))).params=Object.create(d.params||Object.prototype);var l,n=(d.extraHeaders||[]).slice(),t=d.stunServers||null,o=d.turnServers||null,p=d.mediaHandlerFactory||e.configuration.mediaHandlerFactory,V=p.isSupported;if(V&&!V())throw new s.Exceptions.NotSupportedError("Media not supported");if(this.RTCConstraints=d.RTCConstraints||{},this.inviteWithoutSdp=d.inviteWithoutSdp||!1,this.anonymous=d.anonymous||!1,this.renderbody=d.renderbody||null,this.rendertype=d.rendertype||"text/plain",d.params.from_tag=this.from_tag,this.contact=e.contact.toString({anonymous:this.anonymous,outbound:this.anonymous?!e.contact.temp_gruu:!e.contact.pub_gruu}),this.anonymous&&(d.params.from_displayName="Anonymous",d.params.from_uri="sip:anonymous@anonymous.invalid",n.push("P-Preferred-Identity: "+e.configuration.uri.toString()),n.push("Privacy: id")),n.push("Contact: "+this.contact),n.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),this.inviteWithoutSdp&&this.renderbody&&(n.push("Content-Type: "+this.rendertype),n.push("Content-Disposition: render;handling=optional")),e.configuration.rel100===s.C.supported.REQUIRED&&n.push("Require: 100rel"),e.configuration.replaces===s.C.supported.REQUIRED&&n.push("Require: replaces"),d.extraHeaders=n,s.Utils.augment(this,s.ClientContext,[e,s.C.INVITE,c,d]),s.Utils.augment(this,s.Session,[p]),this.status!==i.STATUS_NULL)throw new s.Exceptions.InvalidStateError(this.status);if(this.from_tag=s.Utils.newTag(),this.isCanceled=!1,this.received_100=!1,this.method=s.C.INVITE,this.receiveNonInviteResponse=this.receiveResponse,this.receiveResponse=this.receiveInviteResponse,this.logger=e.getLogger("sip.inviteclientcontext"),t){if(!(l=this.ua.getConfigurationCheck().optional.stunServers(t)))throw new TypeError("Invalid stunServers: "+t);this.stunServers=l}if(o){if(!(l=this.ua.getConfigurationCheck().optional.turnServers(o)))throw new TypeError("Invalid turnServers: "+o);this.turnServers=l}e.applicants[this]=this,this.id=this.request.call_id+this.from_tag,this.mediaHandler=this.mediaHandlerFactory(this,{RTCConstraints:this.RTCConstraints,stunServers:this.stunServers,turnServers:this.turnServers}),this.mediaHandler&&this.mediaHandler.getRemoteStreams&&(this.getRemoteStreams=this.mediaHandler.getRemoteStreams.bind(this.mediaHandler),this.getLocalStreams=this.mediaHandler.getLocalStreams.bind(this.mediaHandler)),s.Utils.optionsOverride(d,"media","mediaConstraints",!0,this.logger,this.ua.configuration.media),this.mediaHint=d.media,this.onInfo=d.onInfo}).prototype={invite:function(){var e=this;return this.ua.sessions[this.id]=this,this.inviteWithoutSdp?(this.request.body=e.renderbody,this.status=i.STATUS_INVITE_SENT,this.send()):this.mediaHandler.getDescription(e.mediaHint).then((function(c){e.isCanceled||e.status===i.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=c,e.status=i.STATUS_INVITE_SENT,e.send())}),(function(){e.status!==i.STATUS_TERMINATED&&(e.failed(null,s.C.causes.WEBRTC_ERROR),e.terminated(null,s.C.causes.WEBRTC_ERROR))})),this},receiveInviteResponse:function(e){var c,d=this,l=e.call_id+e.from_tag+e.to_tag,n=[],t={};if(this.status!==i.STATUS_TERMINATED&&e.method===s.C.INVITE){if(this.dialog&&e.status_code>=200&&e.status_code<=299){if(l!==this.dialog.id.toString())return this.createDialog(e,"UAC",!0)?(this.earlyDialogs[l].sendRequest(this,s.C.ACK,{body:s.Utils.generateFakeSDP(e.body)}),this.earlyDialogs[l].sendRequest(this,s.C.BYE),void(this.status!==i.STATUS_CONFIRMED&&(this.failed(e,s.C.causes.WEBRTC_ERROR),this.terminated(e,s.C.causes.WEBRTC_ERROR)))):void 0;if(this.status===i.STATUS_CONFIRMED)return void this.sendRequest(s.C.ACK,{cseq:e.cseq});if(!this.hasAnswer)return}if(this.dialog&&e.status_code<200)return this.dialog.pracked.indexOf(e.getHeader("rseq"))!==-1||this.dialog.pracked[this.dialog.pracked.length-1]>=e.getHeader("rseq")&&this.dialog.pracked.length>0||!this.earlyDialogs[l]&&!this.createDialog(e,"UAC",!0)||this.earlyDialogs[l].pracked.indexOf(e.getHeader("rseq"))!==-1||this.earlyDialogs[l].pracked[this.earlyDialogs[l].pracked.length-1]>=e.getHeader("rseq")&&this.earlyDialogs[l].pracked.length>0?void 0:(n.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),this.earlyDialogs[l].pracked.push(e.getHeader("rseq")),void this.earlyDialogs[l].sendRequest(this,s.C.PRACK,{extraHeaders:n,body:s.Utils.generateFakeSDP(e.body)}));if(this.isCanceled)e.status_code>=100&&e.status_code<200?(this.request.cancel(this.cancelReason,n),this.canceled(null)):e.status_code>=200&&e.status_code<299?(this.acceptAndTerminate(e),this.emit("bye",this.request)):e.status_code>=300&&(c=s.C.REASON_PHRASE[e.status_code]||s.C.causes.CANCELED,this.rejected(e,c),this.failed(e,c),this.terminated(e,c));else switch(!0){case/^100$/.test(e.status_code):this.received_100=!0,this.emit("progress",e);break;case/^1[0-9]{2}$/.test(e.status_code):if(!e.to_tag){this.logger.warn("1xx response received without to tag");break}if(e.hasHeader("contact")&&!this.createDialog(e,"UAC",!0))break;if(this.status=i.STATUS_1XX_RECEIVED,e.hasHeader("require")&&e.getHeader("require").indexOf("100rel")!==-1||e.status_code==183){if(this.dialog||!this.earlyDialogs[l])break;if(this.earlyDialogs[l].pracked.indexOf(e.getHeader("rseq"))!==-1||this.earlyDialogs[l].pracked[this.earlyDialogs[l].pracked.length-1]>=e.getHeader("rseq")&&this.earlyDialogs[l].pracked.length>0)return;if(this.mediaHandler.hasDescription(e))if(this.hasOffer){if(!this.createDialog(e,"UAC"))break;this.hasAnswer=!0,this.dialog.pracked.push(e.getHeader("rseq")),this.mediaHandler.setDescription(e).then((function(){n.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),d.sendRequest(s.C.PRACK,{extraHeaders:n,receiveResponse:function(){}}),d.status=i.STATUS_EARLY_MEDIA,d.mute(),d.emit("progress",e)}),(function(V){d.logger.warn(V),d.acceptAndTerminate(e,488,"Not Acceptable Here"),d.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION)}))}else{var o=this.earlyDialogs[l],p=o.mediaHandler;o.pracked.push(e.getHeader("rseq")),p.setDescription(e).then(p.getDescription.bind(p,d.mediaHint)).then((function(V){n.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),o.sendRequest(d,s.C.PRACK,{extraHeaders:n,body:V}),d.status=i.STATUS_EARLY_MEDIA,d.emit("progress",e)})).catch((function(V){if(V instanceof s.Exceptions.GetDescriptionError){if(o.pracked.push(e.getHeader("rseq")),d.status===i.STATUS_TERMINATED)return;d.failed(null,s.C.causes.WEBRTC_ERROR),d.terminated(null,s.C.causes.WEBRTC_ERROR)}else o.pracked.splice(o.pracked.indexOf(e.getHeader("rseq")),1),d.logger.warn("invalid description"),d.logger.warn(V)}))}else n.push("RAck: "+e.getHeader("rseq")+" "+e.getHeader("cseq")),this.earlyDialogs[l].pracked.push(e.getHeader("rseq")),this.earlyDialogs[l].sendRequest(this,s.C.PRACK,{extraHeaders:n}),this.emit("progress",e)}else this.emit("progress",e);break;case/^2[0-9]{2}$/.test(e.status_code):if(this.request.cseq+" "+this.request.method!==e.getHeader("cseq"))break;if(this.status===i.STATUS_EARLY_MEDIA&&this.dialog){this.status=i.STATUS_CONFIRMED,this.unmute(),t={},this.renderbody&&(n.push("Content-Type: "+this.rendertype),t.extraHeaders=n,t.body=this.renderbody),t.cseq=e.cseq,this.sendRequest(s.C.ACK,t),this.accepted(e);break}if(this.dialog)break;if(this.hasOffer)if(this.hasAnswer)this.renderbody&&(n.push("Content-Type: "+d.rendertype),t.extraHeaders=n,t.body=this.renderbody),this.sendRequest(s.C.ACK,t);else{if(!this.mediaHandler.hasDescription(e)){this.acceptAndTerminate(e,400,"Missing session description"),this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(e,"UAC"))break;this.hasAnswer=!0,this.mediaHandler.setDescription(e).then((function(){var V={};d.status=i.STATUS_CONFIRMED,d.unmute(),d.renderbody&&(n.push("Content-Type: "+d.rendertype),V.extraHeaders=n,V.body=d.renderbody),V.cseq=e.cseq,d.sendRequest(s.C.ACK,V),d.accepted(e)}),(function(V){d.logger.warn(V),d.acceptAndTerminate(e,488,"Not Acceptable Here"),d.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION)}))}else if(this.earlyDialogs[l]&&this.earlyDialogs[l].mediaHandler.localMedia){if(this.hasOffer=!0,this.hasAnswer=!0,this.mediaHandler=this.earlyDialogs[l].mediaHandler,!this.createDialog(e,"UAC"))break;this.status=i.STATUS_CONFIRMED,this.sendRequest(s.C.ACK,{cseq:e.cseq}),this.unmute(),this.accepted(e)}else{if(!this.mediaHandler.hasDescription(e)){this.acceptAndTerminate(e,400,"Missing session description"),this.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION);break}if(!this.createDialog(e,"UAC"))break;this.hasOffer=!0,this.mediaHandler.setDescription(e).then(this.mediaHandler.getDescription.bind(this.mediaHandler,this.mediaHint)).then((function(V){d.isCanceled||d.status===i.STATUS_TERMINATED||(d.status=i.STATUS_CONFIRMED,d.hasAnswer=!0,d.unmute(),d.sendRequest(s.C.ACK,{body:V,cseq:e.cseq}),d.accepted(e))})).catch((function(V){V instanceof s.Exceptions.GetDescriptionError?d.logger.warn("there was a problem"):(d.logger.warn("invalid description"),d.logger.warn(V),d.acceptAndTerminate(e,488,"Invalid session description"),d.failed(e,s.C.causes.BAD_MEDIA_DESCRIPTION))}))}break;default:c=s.Utils.sipErrorCause(e.status_code),this.rejected(e,c),this.failed(e,c),this.terminated(e,c)}}},cancel:function(e){if((e=e||{}).extraHeaders=(e.extraHeaders||[]).slice(),this.status===i.STATUS_TERMINATED||this.status===i.STATUS_CONFIRMED)throw new s.Exceptions.InvalidStateError(this.status);this.logger.log("canceling RTCSession");var c=s.Utils.getCancelReason(e.status_code,e.reason_phrase);return this.status===i.STATUS_NULL||this.status===i.STATUS_INVITE_SENT&&!this.received_100?(this.isCanceled=!0,this.cancelReason=c):this.status!==i.STATUS_INVITE_SENT&&this.status!==i.STATUS_1XX_RECEIVED&&this.status!==i.STATUS_EARLY_MEDIA||this.request.cancel(c,e.extraHeaders),this.canceled()},terminate:function(e){return this.status===i.STATUS_TERMINATED||(this.status===i.STATUS_WAITING_FOR_ACK||this.status===i.STATUS_CONFIRMED?this.bye(e):this.cancel(e)),this},receiveRequest:function(e){return e.method,s.C.CANCEL,e.method===s.C.ACK&&this.status===i.STATUS_WAITING_FOR_ACK&&(s.Timers.clearTimeout(this.timers.ackTimer),s.Timers.clearTimeout(this.timers.invite2xxTimer),this.status=i.STATUS_CONFIRMED,this.unmute(),this.accepted()),u.prototype.receiveRequest.apply(this,[e])},onTransportError:function(){this.status!==i.STATUS_CONFIRMED&&this.status!==i.STATUS_TERMINATED&&this.failed(null,s.C.causes.CONNECTION_ERROR)},onRequestTimeout:function(){this.status===i.STATUS_CONFIRMED?this.terminated(null,s.C.causes.REQUEST_TIMEOUT):this.status!==i.STATUS_TERMINATED&&(this.failed(null,s.C.causes.REQUEST_TIMEOUT),this.terminated(null,s.C.causes.REQUEST_TIMEOUT))}},s.InviteClientContext=r}},{"./Session/DTMF":24}],24:[function(v,m,I){"use strict";m.exports=function(s){var h;return(h=function(u,a,r){var A,i;if(a===void 0)throw new TypeError("Not enough arguments");if(this.logger=u.ua.getLogger("sip.invitecontext.dtmf",u.id),this.owner=u,this.direction=null,A=(r=r||{}).duration||null,i=r.interToneGap||null,typeof a=="string")a=a.toUpperCase();else{if(typeof a!="number")throw new TypeError("Invalid tone: "+a);a=a.toString()}if(!a.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+a);if(this.tone=a,A&&!s.Utils.isDecimal(A))throw new TypeError("Invalid tone duration: "+A);if(A?A<h.C.MIN_DURATION?(this.logger.warn('"duration" value is lower than the minimum allowed, setting it to '+h.C.MIN_DURATION+" milliseconds"),A=h.C.MIN_DURATION):A>h.C.MAX_DURATION?(this.logger.warn('"duration" value is greater than the maximum allowed, setting it to '+h.C.MAX_DURATION+" milliseconds"),A=h.C.MAX_DURATION):A=Math.abs(A):A=h.C.DEFAULT_DURATION,this.duration=A,i&&!s.Utils.isDecimal(i))throw new TypeError("Invalid interToneGap: "+i);i?i<h.C.MIN_INTER_TONE_GAP?(this.logger.warn('"interToneGap" value is lower than the minimum allowed, setting it to '+h.C.MIN_INTER_TONE_GAP+" milliseconds"),i=h.C.MIN_INTER_TONE_GAP):i=Math.abs(i):i=h.C.DEFAULT_INTER_TONE_GAP,this.interToneGap=i}).prototype=Object.create(s.EventEmitter.prototype),h.prototype.send=function(u){var a,r={};if(this.direction="outgoing",this.owner.status!==s.Session.C.STATUS_CONFIRMED&&this.owner.status!==s.Session.C.STATUS_WAITING_FOR_ACK)throw new s.Exceptions.InvalidStateError(this.owner.status);a=(u=u||{}).extraHeaders?u.extraHeaders.slice():[],r.contentType="application/dtmf-relay",r.body="Signal= "+this.tone+`\r
`,r.body+="Duration= "+this.duration,this.request=this.owner.dialog.sendRequest(this,s.C.INFO,{extraHeaders:a,body:r}),this.owner.emit("dtmf",this.request,this)},h.prototype.receiveResponse=function(u){var a;switch(!0){case/^1[0-9]{2}$/.test(u.status_code):break;case/^2[0-9]{2}$/.test(u.status_code):this.emit("succeeded",{originator:"remote",response:u});break;default:a=s.Utils.sipErrorCause(u.status_code),this.emit("failed",u,a)}},h.prototype.onRequestTimeout=function(){this.emit("failed",null,s.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},h.prototype.onTransportError=function(){this.emit("failed",null,s.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},h.prototype.onDialogError=function(u){this.emit("failed",u,s.C.causes.DIALOG_ERROR),this.owner.onDialogError(u)},h.prototype.init_incoming=function(u){this.direction="incoming",this.request=u,u.reply(200),this.tone&&this.duration?this.owner.emit("dtmf",u,this):this.logger.warn("invalid INFO DTMF received, discarded")},h.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},h}},{}],25:[function(v,m,I){"use strict";m.exports=function(s){s.Subscription=function(h,u,a,r){if(r=Object.create(r||Object.prototype),this.extraHeaders=r.extraHeaders=(r.extraHeaders||[]).slice(),this.id=null,this.state="init",!a)throw new TypeError("Event necessary to create a subscription.");this.event=a,typeof r.expires!="number"?(h.logger.warn("expires must be a number. Using default of 3600."),this.expires=3600):this.expires=r.expires,r.extraHeaders.push("Event: "+this.event),r.extraHeaders.push("Expires: "+this.expires),r.body&&(this.body=r.body),this.contact=h.contact.toString(),r.extraHeaders.push("Contact: "+this.contact),r.extraHeaders.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),s.Utils.augment(this,s.ClientContext,[h,s.C.SUBSCRIBE,u,r]),this.logger=h.getLogger("sip.subscription"),this.dialog=null,this.timers={N:null,sub_duration:null},this.errorCodes=[404,405,410,416,480,481,482,483,484,485,489,501,604]},s.Subscription.prototype={subscribe:function(){return this.state==="active"?(this.refresh(),this):(this.state==="notify_wait"||(s.Timers.clearTimeout(this.timers.sub_duration),s.Timers.clearTimeout(this.timers.N),this.timers.N=s.Timers.setTimeout(this.timer_fire.bind(this),s.Timers.TIMER_N),this.ua.earlySubscriptions[this.request.call_id+this.request.from.parameters.tag+this.event]=this,this.send(),this.state="notify_wait"),this)},refresh:function(){this.state!=="terminated"&&this.state!=="pending"&&this.state!=="notify_wait"&&this.dialog.sendRequest(this,s.C.SUBSCRIBE,{extraHeaders:this.extraHeaders,body:this.body})},receiveResponse:function(h){var u,a=s.Utils.getReasonPhrase(h.status_code);this.state==="notify_wait"&&h.status_code>=300||this.state!=="notify_wait"&&this.errorCodes.indexOf(h.status_code)!==-1?this.failed(h,null):/^2[0-9]{2}$/.test(h.status_code)?(this.emit("accepted",h,a),(u=h.getHeader("Expires"))&&u<=this.expires?(this.expires=u,this.timers.sub_duration=s.Timers.setTimeout(this.refresh.bind(this),900*u)):u?(this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),this.failed(h,s.C.INVALID_EXPIRES_HEADER)):(this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE"),this.failed(h,s.C.EXPIRES_HEADER_MISSING))):h.statusCode>300&&(this.emit("failed",h,a),this.emit("rejected",h,a))},unsubscribe:function(){var h=[];this.state="terminated",h.push("Event: "+this.event),h.push("Expires: 0"),h.push("Contact: "+this.contact),h.push("Allow: "+s.UA.C.ALLOWED_METHODS.toString()),this.receiveResponse=function(){},this.dialog.sendRequest(this,this.method,{extraHeaders:h,body:this.body}),s.Timers.clearTimeout(this.timers.sub_duration),s.Timers.clearTimeout(this.timers.N),this.timers.N=s.Timers.setTimeout(this.timer_fire.bind(this),s.Timers.TIMER_N)},timer_fire:function(){this.state==="terminated"?(this.terminateDialog(),s.Timers.clearTimeout(this.timers.N),s.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]):this.state==="notify_wait"||this.state==="pending"?this.close():this.refresh()},close:function(){this.state==="notify_wait"?(this.state="terminated",s.Timers.clearTimeout(this.timers.N),s.Timers.clearTimeout(this.timers.sub_duration),this.receiveResponse=function(){},delete this.ua.earlySubscriptions[this.request.call_id+this.request.from.parameters.tag+this.event]):this.state!=="terminated"&&this.unsubscribe()},createConfirmedDialog:function(h,u){var a;return this.terminateDialog(),(a=new s.Dialog(this,h,u)).invite_seqnum=this.request.cseq,a.local_seqnum=this.request.cseq,!a.error&&(this.dialog=a,!0)},terminateDialog:function(){this.dialog&&(delete this.ua.subscriptions[this.id],this.dialog.terminate(),delete this.dialog)},receiveRequest:function(h){var u,a=this;function r(){u.expires&&(s.Timers.clearTimeout(a.timers.sub_duration),u.expires=Math.min(a.expires,Math.max(u.expires,0)),a.timers.sub_duration=s.Timers.setTimeout(a.refresh.bind(a),900*u.expires))}if(this.matchEvent(h))if(this.dialog||this.createConfirmedDialog(h,"UAS")&&(this.id=this.dialog.id.toString(),delete this.ua.earlySubscriptions[this.request.call_id+this.request.from.parameters.tag+this.event],this.ua.subscriptions[this.id]=this),u=h.parseHeader("Subscription-State"),h.reply(200,s.C.REASON_200),s.Timers.clearTimeout(this.timers.N),this.emit("notify",{request:h}),this.state!=="terminated")switch(u.state){case"active":this.state="active",r();break;case"pending":this.state==="notify_wait"&&r(),this.state="pending";break;case"terminated":if(s.Timers.clearTimeout(this.timers.sub_duration),u.reason)switch(this.logger.log("terminating subscription with reason "+u.reason),u.reason){case"deactivated":case"timeout":return void this.subscribe();case"probation":case"giveup":return void(u.params&&u.params["retry-after"]?this.timers.sub_duration=s.Timers.setTimeout(a.subscribe.bind(a),u.params["retry-after"]):this.subscribe())}this.close()}else u.state==="terminated"&&(this.terminateDialog(),s.Timers.clearTimeout(this.timers.N),s.Timers.clearTimeout(this.timers.sub_duration),delete this.ua.subscriptions[this.id]);else h.reply(489)},failed:function(h,u){return this.close(),this.emit("failed",h,u),this.emit("rejected",h,u),this},onDialogError:function(h){this.failed(h,s.C.causes.DIALOG_ERROR)},matchEvent:function(h){var u;return h.hasHeader("Event")?h.hasHeader("Subscription-State")?(u=h.parseHeader("event").event,this.event===u||(this.logger.warn("event match failed"),h.reply(481,"Event Match Failed"),!1)):(this.logger.warn("missing Subscription-State header"),!1):(this.logger.warn("missing Event header"),!1)}}}},{}],26:[function(v,m,I){"use strict";m.exports=function(s){var h={T1:500,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4};return["setTimeout","clearTimeout","setInterval","clearInterval"].forEach((function(u){h[u]=function(){return s[u].apply(s,arguments)}})),h}},{}],27:[function(v,m,I){"use strict";m.exports=function(s){var h={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"};function u(c,d,l){var n;return n="SIP/2.0/"+(c.ua.configuration.hackViaTcp?"TCP":d.server.scheme),n+=" "+c.ua.configuration.viaHost+";branch="+l,c.ua.configuration.forceRport&&(n+=";rport"),n}var a=function(c,d,l){var n;this.type=h.NON_INVITE_CLIENT,this.transport=l,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=c,this.request=d,this.logger=c.ua.getLogger("sip.transaction.nict",this.id),n=u(c,l,this.id),this.request.setHeader("via",n),this.request_sender.ua.newTransaction(this)};(a.prototype=Object.create(s.EventEmitter.prototype)).stateChanged=function(c){this.state=c,this.emit("stateChanged")},a.prototype.send=function(){this.stateChanged(h.STATUS_TRYING),this.F=s.Timers.setTimeout(this.timer_F.bind(this),s.Timers.TIMER_F),this.transport.send(this.request)||this.onTransportError()},a.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting non-INVITE client transaction "+this.id),s.Timers.clearTimeout(this.F),s.Timers.clearTimeout(this.K),this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onTransportError()},a.prototype.timer_F=function(){this.logger.log("Timer F expired for non-INVITE client transaction "+this.id),this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout()},a.prototype.timer_K=function(){this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},a.prototype.receiveResponse=function(c){var d=c.status_code;if(d<200)switch(this.state){case h.STATUS_TRYING:case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_PROCEEDING),this.request_sender.receiveResponse(c)}else switch(this.state){case h.STATUS_TRYING:case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_COMPLETED),s.Timers.clearTimeout(this.F),d===408?this.request_sender.onRequestTimeout():this.request_sender.receiveResponse(c),this.K=s.Timers.setTimeout(this.timer_K.bind(this),s.Timers.TIMER_K)}};var r=function(c,d,l){var n,t=this;this.type=h.INVITE_CLIENT,this.transport=l,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=c,this.request=d,this.logger=c.ua.getLogger("sip.transaction.ict",this.id),n=u(c,l,this.id),this.request.setHeader("via",n),this.request_sender.ua.newTransaction(this),this.request.cancel=function(o,p){for(var V=(p=(p||[]).slice()).length,q=null,E=0;E<V;E++)q=(q||"")+p[E].trim()+`\r
`;t.cancel_request(t,o,q)}};(r.prototype=Object.create(s.EventEmitter.prototype)).stateChanged=function(c){this.state=c,this.emit("stateChanged")},r.prototype.send=function(){this.stateChanged(h.STATUS_CALLING),this.B=s.Timers.setTimeout(this.timer_B.bind(this),s.Timers.TIMER_B),this.transport.send(this.request)||this.onTransportError()},r.prototype.onTransportError=function(){this.logger.log("transport error occurred, deleting INVITE client transaction "+this.id),s.Timers.clearTimeout(this.B),s.Timers.clearTimeout(this.D),s.Timers.clearTimeout(this.M),this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.state!==h.STATUS_ACCEPTED&&this.request_sender.onTransportError()},r.prototype.timer_M=function(){this.logger.log("Timer M expired for INVITE client transaction "+this.id),this.state===h.STATUS_ACCEPTED&&(s.Timers.clearTimeout(this.B),this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this))},r.prototype.timer_B=function(){this.logger.log("Timer B expired for INVITE client transaction "+this.id),this.state===h.STATUS_CALLING&&(this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this),this.request_sender.onRequestTimeout())},r.prototype.timer_D=function(){this.logger.log("Timer D expired for INVITE client transaction "+this.id),s.Timers.clearTimeout(this.B),this.stateChanged(h.STATUS_TERMINATED),this.request_sender.ua.destroyTransaction(this)},r.prototype.sendACK=function(c){this.ack="ACK "+this.request.ruri+` SIP/2.0\r
`,this.ack+="Via: "+this.request.headers.Via.toString()+`\r
`,this.request.headers.Route&&(this.ack+="Route: "+this.request.headers.Route.toString()+`\r
`),this.ack+="To: "+c.getHeader("to")+`\r
`,this.ack+="From: "+this.request.headers.From.toString()+`\r
`,this.ack+="Call-ID: "+this.request.headers["Call-ID"].toString()+`\r
`,this.ack+=`Content-Length: 0\r
`,this.ack+="CSeq: "+this.request.headers.CSeq.toString().split(" ")[0],this.ack+=` ACK\r
\r
`,this.D=s.Timers.setTimeout(this.timer_D.bind(this),s.Timers.TIMER_D),this.transport.send(this.ack)},r.prototype.cancel_request=function(c,d,l){var n=c.request;this.cancel=s.C.CANCEL+" "+n.ruri+` SIP/2.0\r
`,this.cancel+="Via: "+n.headers.Via.toString()+`\r
`,this.request.headers.Route&&(this.cancel+="Route: "+n.headers.Route.toString()+`\r
`),this.cancel+="To: "+n.headers.To.toString()+`\r
`,this.cancel+="From: "+n.headers.From.toString()+`\r
`,this.cancel+="Call-ID: "+n.headers["Call-ID"].toString()+`\r
`,this.cancel+="CSeq: "+n.headers.CSeq.toString().split(" ")[0]+` CANCEL\r
`,d&&(this.cancel+="Reason: "+d+`\r
`),l&&(this.cancel+=l),this.cancel+=`Content-Length: 0\r
\r
`,this.state===h.STATUS_PROCEEDING&&this.transport.send(this.cancel)},r.prototype.receiveResponse=function(c){var d=c.status_code;if(d>=100&&d<=199)switch(this.state){case h.STATUS_CALLING:this.stateChanged(h.STATUS_PROCEEDING),this.request_sender.receiveResponse(c),this.cancel&&this.transport.send(this.cancel);break;case h.STATUS_PROCEEDING:this.request_sender.receiveResponse(c)}else if(d>=200&&d<=299)switch(this.state){case h.STATUS_CALLING:case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_ACCEPTED),this.M=s.Timers.setTimeout(this.timer_M.bind(this),s.Timers.TIMER_M),this.request_sender.receiveResponse(c);break;case h.STATUS_ACCEPTED:this.request_sender.receiveResponse(c)}else if(d>=300&&d<=699)switch(this.state){case h.STATUS_CALLING:case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_COMPLETED),this.sendACK(c),this.request_sender.receiveResponse(c);break;case h.STATUS_COMPLETED:this.sendACK(c)}};var A=function(c,d,l){var n;this.transport=l,this.id="z9hG4bK"+Math.floor(1e7*Math.random()),this.request_sender=c,this.request=d,this.logger=c.ua.getLogger("sip.transaction.nict",this.id),n=u(c,l,this.id),this.request.setHeader("via",n)};(A.prototype=Object.create(s.EventEmitter.prototype)).send=function(){this.transport.send(this.request)||this.onTransportError()},A.prototype.onTransportError=function(){this.logger.log("transport error occurred, for an ACK client transaction "+this.id),this.request_sender.onTransportError()};var i=function(c,d){this.type=h.NON_INVITE_SERVER,this.id=c.via_branch,this.request=c,this.transport=c.transport,this.ua=d,this.last_response="",c.server_transaction=this,this.logger=d.getLogger("sip.transaction.nist",this.id),this.state=h.STATUS_TRYING,d.newTransaction(this)};(i.prototype=Object.create(s.EventEmitter.prototype)).stateChanged=function(c){this.state=c,this.emit("stateChanged")},i.prototype.timer_J=function(){this.logger.log("Timer J expired for non-INVITE server transaction "+this.id),this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this)},i.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting non-INVITE server transaction "+this.id),s.Timers.clearTimeout(this.J),this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this))},i.prototype.receiveResponse=function(c,d){var l=s.Utils.defer();if(c===100)switch(this.state){case h.STATUS_TRYING:this.stateChanged(h.STATUS_PROCEEDING),this.transport.send(d)||this.onTransportError();break;case h.STATUS_PROCEEDING:this.last_response=d,this.transport.send(d)?l.resolve():(this.onTransportError(),l.reject())}else if(c>=200&&c<=699)switch(this.state){case h.STATUS_TRYING:case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_COMPLETED),this.last_response=d,this.J=s.Timers.setTimeout(this.timer_J.bind(this),s.Timers.TIMER_J),this.transport.send(d)?l.resolve():(this.onTransportError(),l.reject())}return l.promise};var e=function(c,d){this.type=h.INVITE_SERVER,this.id=c.via_branch,this.request=c,this.transport=c.transport,this.ua=d,this.last_response="",c.server_transaction=this,this.logger=d.getLogger("sip.transaction.ist",this.id),this.state=h.STATUS_PROCEEDING,d.newTransaction(this),this.resendProvisionalTimer=null,c.reply(100)};(e.prototype=Object.create(s.EventEmitter.prototype)).stateChanged=function(c){this.state=c,this.emit("stateChanged")},e.prototype.timer_H=function(){this.logger.log("Timer H expired for INVITE server transaction "+this.id),this.state===h.STATUS_COMPLETED&&this.logger.warn("transactions","ACK for INVITE server transaction was never received, call will be terminated"),this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this)},e.prototype.timer_I=function(){this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this)},e.prototype.timer_L=function(){this.logger.log("Timer L expired for INVITE server transaction "+this.id),this.state===h.STATUS_ACCEPTED&&(this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this))},e.prototype.onTransportError=function(){this.transportError||(this.transportError=!0,this.logger.log("transport error occurred, deleting INVITE server transaction "+this.id),this.resendProvisionalTimer!==null&&(s.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),s.Timers.clearTimeout(this.L),s.Timers.clearTimeout(this.H),s.Timers.clearTimeout(this.I),this.stateChanged(h.STATUS_TERMINATED),this.ua.destroyTransaction(this))},e.prototype.resend_provisional=function(){this.transport.send(this.last_response)||this.onTransportError()},e.prototype.receiveResponse=function(c,d){var l=this,n=s.Utils.defer();if(c>=100&&c<=199&&this.state===h.STATUS_PROCEEDING&&(this.transport.send(d)||this.onTransportError(),this.last_response=d),c>100&&c<=199&&this.state===h.STATUS_PROCEEDING)this.resendProvisionalTimer===null&&(this.resendProvisionalTimer=s.Timers.setInterval(l.resend_provisional.bind(l),s.Timers.PROVISIONAL_RESPONSE_INTERVAL));else if(c>=200&&c<=299)switch(this.state){case h.STATUS_PROCEEDING:this.stateChanged(h.STATUS_ACCEPTED),this.last_response=d,this.L=s.Timers.setTimeout(l.timer_L.bind(l),s.Timers.TIMER_L),this.resendProvisionalTimer!==null&&(s.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case h.STATUS_ACCEPTED:this.transport.send(d)?n.resolve():(this.onTransportError(),n.reject())}else c>=300&&c<=699&&this.state===h.STATUS_PROCEEDING&&(this.resendProvisionalTimer!==null&&(s.Timers.clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(d)?(this.stateChanged(h.STATUS_COMPLETED),this.H=s.Timers.setTimeout(l.timer_H.bind(l),s.Timers.TIMER_H),n.resolve()):(this.onTransportError(),n.reject()));return n.promise},s.Transactions={C:h,checkTransaction:function(c,d){var l;switch(d.method){case s.C.INVITE:if(l=c.transactions.ist[d.via_branch])return l.state===h.STATUS_PROCEEDING&&l.transport.send(l.last_response),!0;break;case s.C.ACK:if(!(l=c.transactions.ist[d.via_branch])||l.state===h.STATUS_ACCEPTED)return!1;if(l.state===h.STATUS_COMPLETED)return l.stateChanged(h.STATUS_CONFIRMED),l.I=s.Timers.setTimeout(l.timer_I.bind(l),s.Timers.TIMER_I),!0;break;case s.C.CANCEL:return(l=c.transactions.ist[d.via_branch])?(d.reply_sl(200),l.state!==h.STATUS_PROCEEDING):(d.reply_sl(481),!0);default:if(l=c.transactions.nist[d.via_branch]){switch(l.state){case h.STATUS_TRYING:break;case h.STATUS_PROCEEDING:case h.STATUS_COMPLETED:l.transport.send(l.last_response)}return!0}}},NonInviteClientTransaction:a,InviteClientTransaction:r,AckClientTransaction:A,NonInviteServerTransaction:i,InviteServerTransaction:e}}},{}],28:[function(v,m,I){"use strict";m.exports=function(s,h){var u;return(u=function(a,r){this.logger=a.getLogger("sip.transport"),this.ua=a,this.ws=null,this.server=r,this.reconnection_attempts=0,this.closed=!1,this.connected=!1,this.reconnectTimer=null,this.lastTransportError={},this.keepAliveInterval=a.configuration.keepAliveInterval,this.keepAliveTimeout=null,this.keepAliveTimer=null,this.ua.transport=this,this.connect()}).prototype={send:function(a){var r=a.toString();return this.ws&&this.ws.readyState===h.OPEN?(this.ua.configuration.traceSip===!0&&this.logger.log(`sending WebSocket message:

`+r+`
`),this.ws.send(r),!0):(this.logger.warn("unable to send message, WebSocket is not open"),!1)},sendKeepAlive:function(){if(!this.keepAliveTimeout)return this.keepAliveTimeout=s.Timers.setTimeout(function(){this.ua.emit("keepAliveTimeout")}.bind(this),1e4),this.send(`\r
\r
`)},startSendingKeepAlives:function(){var a,r;this.keepAliveInterval&&!this.keepAliveTimer&&(this.keepAliveTimer=s.Timers.setTimeout(function(){this.sendKeepAlive(),this.keepAliveTimer=null,this.startSendingKeepAlives()}.bind(this),(r=.8*(a=this.keepAliveInterval),1e3*(Math.random()*(a-r)+r))))},stopSendingKeepAlives:function(){s.Timers.clearTimeout(this.keepAliveTimer),s.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimer=null,this.keepAliveTimeout=null},disconnect:function(){this.ws&&(s.Timers.clearTimeout(this.reconnectTimer),this.stopSendingKeepAlives(),this.closed=!0,this.logger.log("closing WebSocket "+this.server.ws_uri),this.ws.close(),this.ws=null),this.reconnectTimer!==null&&(s.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null,this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}))},connect:function(){var a=this;if(this.ws&&(this.ws.readyState===h.OPEN||this.ws.readyState===h.CONNECTING))return this.logger.log("WebSocket "+this.server.ws_uri+" is already connected"),!1;this.ws&&(this.ws.close(),this.ws=null),this.logger.log("connecting to WebSocket "+this.server.ws_uri),this.ua.onTransportConnecting(this,this.reconnection_attempts===0?1:this.reconnection_attempts);try{this.ws=new h(this.server.ws_uri,"sip")}catch(r){this.logger.warn("error connecting to WebSocket "+this.server.ws_uri+": "+r)}this.ws.binaryType="arraybuffer",this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(r){a.onClose(r),this.onopen=null,this.onclose=null,this.onmessage=null,this.onerror=null},this.ws.onmessage=function(r){a.onMessage(r)},this.ws.onerror=function(r){a.onError(r)}},onOpen:function(){this.connected=!0,this.logger.log("WebSocket "+this.server.ws_uri+" connected"),this.reconnectTimer!==null&&(s.Timers.clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.reconnection_attempts=0,this.closed=!1,this.ua.onTransportConnected(this),this.startSendingKeepAlives()},onClose:function(a){var r=this.connected;this.lastTransportError.code=a.code,this.lastTransportError.reason=a.reason,this.stopSendingKeepAlives(),this.reconnection_attempts>0?(this.logger.log("Reconnection attempt "+this.reconnection_attempts+" failed (code: "+a.code+(a.reason?"| reason: "+a.reason:"")+")"),this.reconnect()):(this.connected=!1,this.logger.log("WebSocket disconnected (code: "+a.code+(a.reason?"| reason: "+a.reason:"")+")"),a.wasClean===!1&&this.logger.warn("WebSocket abrupt disconnection"),r===!0?(this.ua.onTransportClosed(this),this.closed?this.ua.emit("disconnected",{transport:this,code:this.lastTransportError.code,reason:this.lastTransportError.reason}):this.reconnect()):this.ua.onTransportError(this))},onMessage:function(a){var r,A,i=a.data;if(i===`\r
`)return s.Timers.clearTimeout(this.keepAliveTimeout),this.keepAliveTimeout=null,void(this.ua.configuration.traceSip===!0&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if(typeof i!="string"){try{i=String.fromCharCode.apply(null,new Uint8Array(i))}catch{return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}this.ua.configuration.traceSip===!0&&this.logger.log(`received WebSocket binary message:

`+i+`
`)}else this.ua.configuration.traceSip===!0&&this.logger.log(`received WebSocket text message:

`+i+`
`);if((r=s.Parser.parseMessage(i,this.ua))&&!(this.ua.status===s.UA.C.STATUS_USER_CLOSED&&r instanceof s.IncomingRequest)&&s.sanityCheck(r,this.ua,this)){if(r instanceof s.IncomingRequest)r.transport=this,this.ua.receiveRequest(r);else if(r instanceof s.IncomingResponse)switch(r.method){case s.C.INVITE:(A=this.ua.transactions.ict[r.via_branch])&&A.receiveResponse(r);break;case s.C.ACK:break;default:(A=this.ua.transactions.nict[r.via_branch])&&A.receiveResponse(r)}}},onError:function(a){this.logger.warn("WebSocket connection error: "+JSON.stringify(a))},reconnect:function(){var a=this;this.reconnection_attempts+=1,this.reconnection_attempts>this.ua.configuration.wsServerMaxReconnection?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.ws_uri),this.ua.onTransportError(this)):this.reconnection_attempts===1?(this.logger.log("Connection to WebSocket "+this.server.ws_uri+" severed, attempting first reconnect"),a.connect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.ws_uri+" (reconnection attempt "+this.reconnection_attempts+")"),this.reconnectTimer=s.Timers.setTimeout((function(){a.connect(),a.reconnectTimer=null}),1e3*this.ua.configuration.wsServerReconnectionTimeout))}},u.C={STATUS_READY:0,STATUS_DISCONNECTED:1,STATUS_ERROR:2},u}},{}],29:[function(v,m,I){(function(s){"use strict";m.exports=function(h,u){var a,r={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10};function A(i){if(i instanceof Function)return i.initialize||(i.initialize=function(){return h.Utils.Promise.resolve()}),i}(a=function(i){var e=this;function c(d){return e.emit.bind(e,d)}r.ACCEPTED_BODY_TYPES=r.ACCEPTED_BODY_TYPES.toString(),this.log=new h.LoggerFactory,this.logger=this.getLogger("sip.ua"),this.cache={credentials:{}},this.configuration={},this.dialogs={},this.applicants={},this.data={},this.sessions={},this.subscriptions={},this.earlySubscriptions={},this.transport=null,this.contact=null,this.status=r.STATUS_INIT,this.error=null,this.transactions={nist:{},nict:{},ist:{},ict:{}},this.transportRecoverAttempts=0,this.transportRecoveryTimer=null,Object.defineProperties(this,{transactionsCount:{get:function(){var d,l=["nist","nict","ist","ict"],n=0;for(d in l)n+=Object.keys(this.transactions[l[d]]).length;return n}},nictTransactionsCount:{get:function(){return Object.keys(this.transactions.nict).length}},nistTransactionsCount:{get:function(){return Object.keys(this.transactions.nist).length}},ictTransactionsCount:{get:function(){return Object.keys(this.transactions.ict).length}},istTransactionsCount:{get:function(){return Object.keys(this.transactions.ist).length}}}),i===void 0?i={}:(typeof i=="string"||i instanceof String)&&(i={uri:i}),i.log&&(i.log.hasOwnProperty("builtinEnabled")&&(this.log.builtinEnabled=i.log.builtinEnabled),i.log.hasOwnProperty("level")&&(this.log.level=i.log.level),i.log.hasOwnProperty("connector")&&(this.log.connector=i.log.connector));try{this.loadConfig(i)}catch(d){throw this.status=r.STATUS_NOT_READY,this.error=r.CONFIGURATION_ERROR,d}this.registerContext=new h.RegisterContext(this),this.registerContext.on("failed",c("registrationFailed")),this.registerContext.on("registered",c("registered")),this.registerContext.on("unregistered",c("unregistered")),this.configuration.autostart&&this.start()}).prototype=Object.create(h.EventEmitter.prototype),a.prototype.register=function(i){return this.configuration.register=!0,this.registerContext.register(i),this},a.prototype.unregister=function(i){this.configuration.register=!1;var e=this.registerContext;return this.afterConnected(e.unregister.bind(e,i)),this},a.prototype.isRegistered=function(){return this.registerContext.registered},a.prototype.isConnected=function(){return!!this.transport&&this.transport.connected},a.prototype.afterConnected=function(i){this.isConnected()?i():this.once("connected",i)},a.prototype.invite=function(i,e){var c=new h.InviteClientContext(this,i,e);return this.afterConnected(c.invite.bind(c)),this.emit("inviteSent",c),c},a.prototype.subscribe=function(i,e,c){var d=new h.Subscription(this,i,e,c);return this.afterConnected(d.subscribe.bind(d)),d},a.prototype.message=function(i,e,c){if(e===void 0)throw new TypeError("Not enough arguments");return(c=Object.create(c||Object.prototype)).contentType||(c.contentType="text/plain"),c.body=e,this.request(h.C.MESSAGE,i,c)},a.prototype.request=function(i,e,c){var d=new h.ClientContext(this,i,e,c);return this.afterConnected(d.send.bind(d)),d},a.prototype.stop=function(){var i,e,c,d=this;if(this.logger.log("user requested closure..."),this.status===r.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(i in h.Timers.clearTimeout(this.transportRecoveryTimer),this.logger.log("closing registerContext"),this.registerContext.close(),this.sessions)this.logger.log("closing session "+i),this.sessions[i].terminate();for(e in this.subscriptions)this.logger.log("unsubscribing from subscription "+e),this.subscriptions[e].close();for(e in this.earlySubscriptions)this.logger.log("unsubscribing from early subscription "+e),this.earlySubscriptions[e].close();for(c in this.applicants)this.applicants[c].close();return this.status=r.STATUS_USER_CLOSED,this.nistTransactionsCount===0&&this.nictTransactionsCount===0?this.transport.disconnect():this.on("transactionDestroyed",(function l(){d.nistTransactionsCount===0&&d.nictTransactionsCount===0&&(d.removeListener("transactionDestroyed",l),d.transport.disconnect())})),typeof u.removeEventListener=="function"&&(s.chrome&&s.chrome.app&&s.chrome.app.runtime||u.removeEventListener("unload",this.environListener)),this},a.prototype.start=function(){var i;return this.logger.log("user requested startup..."),this.status===r.STATUS_INIT?(i=this.getNextWsServer(),this.status=r.STATUS_STARTING,new h.Transport(this,i)):this.status===r.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=r.STATUS_READY,this.transport.connect()):this.status===r.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===r.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this.configuration.autostop&&typeof u.addEventListener=="function"&&(s.chrome&&s.chrome.app&&s.chrome.app.runtime||(this.environListener=this.stop.bind(this),u.addEventListener("unload",this.environListener))),this},a.prototype.normalizeTarget=function(i){return h.Utils.normalizeTarget(i,this.configuration.hostportParams)},a.prototype.saveCredentials=function(i){return this.cache.credentials[i.realm]=this.cache.credentials[i.realm]||{},this.cache.credentials[i.realm][i.uri]=i,this},a.prototype.getCredentials=function(i){var e,c;return e=i.ruri.host,this.cache.credentials[e]&&this.cache.credentials[e][i.ruri]&&((c=this.cache.credentials[e][i.ruri]).method=i.method),c},a.prototype.getLogger=function(i,e){return this.log.getLogger(i,e)},a.prototype.onTransportClosed=function(i){var e,c,d,l=["nict","ict","nist","ist"];for(i.server.status=h.Transport.C.STATUS_DISCONNECTED,this.logger.log("connection state set to "+h.Transport.C.STATUS_DISCONNECTED),d=l.length,e=0;e<d;e++)for(c in this.transactions[l[e]])this.transactions[l[e]][c].onTransportError();this.contact.pub_gruu||this.closeSessionsOnTransportError()},a.prototype.onTransportError=function(i){var e;this.logger.log("transport "+i.server.ws_uri+" failed | connection state set to "+h.Transport.C.STATUS_ERROR),i.server.status=h.Transport.C.STATUS_ERROR,this.emit("disconnected",{transport:i}),this.status!==r.STATUS_USER_CLOSED&&((e=this.getNextWsServer())?new h.Transport(this,e):(this.closeSessionsOnTransportError(),this.error&&this.error===r.NETWORK_ERROR||(this.status=r.STATUS_NOT_READY,this.error=r.NETWORK_ERROR),this.recoverTransport()))},a.prototype.onTransportConnected=function(i){this.transport=i,this.transportRecoverAttempts=0,i.server.status=h.Transport.C.STATUS_READY,this.logger.log("connection state set to "+h.Transport.C.STATUS_READY),this.status!==r.STATUS_USER_CLOSED&&(this.status=r.STATUS_READY,this.error=null,this.configuration.register&&this.configuration.authenticationFactory.initialize().then(function(){this.registerContext.onTransportConnected()}.bind(this)),this.emit("connected",{transport:i}))},a.prototype.onTransportConnecting=function(i,e){this.emit("connecting",{transport:i,attempts:e})},a.prototype.newTransaction=function(i){this.transactions[i.type][i.id]=i,this.emit("newTransaction",{transaction:i})},a.prototype.destroyTransaction=function(i){delete this.transactions[i.type][i.id],this.emit("transactionDestroyed",{transaction:i})},a.prototype.receiveRequest=function(i){var e,c,d,l,n,t,o=i.method,p=this;function V(E){return E&&E.user===i.ruri.user}if(!(V(this.configuration.uri)||V(this.contact.uri)||V(this.contact.pub_gruu)||V(this.contact.temp_gruu)))return this.logger.warn("Request-URI does not point to us"),void(i.method!==h.C.ACK&&i.reply_sl(404));if(i.ruri.scheme!==h.C.SIPS){if(!h.Transactions.checkTransaction(this,i))if(o===h.C.OPTIONS?(new h.Transactions.NonInviteServerTransaction(i,this),i.reply(200,null,["Allow: "+h.UA.C.ALLOWED_METHODS.toString(),"Accept: "+r.ACCEPTED_BODY_TYPES])):o===h.C.MESSAGE?((d=new h.ServerContext(this,i)).body=i.body,d.content_type=i.getHeader("Content-Type")||"text/plain",i.reply(200,null),this.emit("message",d)):o!==h.C.INVITE&&o!==h.C.ACK&&new h.ServerContext(this,i),i.to_tag)(e=this.findDialog(i))?(o===h.C.INVITE&&new h.Transactions.InviteServerTransaction(i,this),e.receiveRequest(i)):o===h.C.NOTIFY?(c=this.findSession(i),l=this.findEarlySubscription(i),c?c.receiveRequest(i):l?l.receiveRequest(i):(this.logger.warn("received NOTIFY request for a non existent session or subscription"),i.reply(481,"Subscription does not exist"))):o!==h.C.ACK&&i.reply(481);else switch(o){case h.C.INVITE:if(n=this.configuration.replaces!==h.C.supported.UNSUPPORTED&&i.parseHeader("replaces")){if(!(t=this.dialogs[n.call_id+n.replaces_to_tag+n.replaces_from_tag]))return void i.reply_sl(481,null);if(t.owner.status===h.Session.C.STATUS_TERMINATED)return void i.reply_sl(603,null);if(t.state===h.Dialog.C.STATUS_CONFIRMED&&n.early_only)return void i.reply_sl(486,null)}var q=this.configuration.mediaHandlerFactory.isSupported;!q||q()?((c=new h.InviteServerContext(this,i)).replacee=t&&t.owner,c.on("invite",(function(){p.emit("invite",this)}))):(this.logger.warn("INVITE received but WebRTC is not supported"),i.reply(488));break;case h.C.BYE:i.reply(481);break;case h.C.CANCEL:(c=this.findSession(i))?c.receiveRequest(i):this.logger.warn("received CANCEL request for a non existent session");break;case h.C.ACK:break;case h.C.NOTIFY:this.configuration.allowLegacyNotifications&&this.listeners("notify").length>0?(i.reply(200,null),p.emit("notify",{request:i})):i.reply(481,"Subscription does not exist");break;default:i.reply(405)}}else i.reply_sl(416)},a.prototype.findSession=function(i){return this.sessions[i.call_id+i.from_tag]||this.sessions[i.call_id+i.to_tag]||null},a.prototype.findDialog=function(i){return this.dialogs[i.call_id+i.from_tag+i.to_tag]||this.dialogs[i.call_id+i.to_tag+i.from_tag]||null},a.prototype.findEarlySubscription=function(i){return this.earlySubscriptions[i.call_id+i.to_tag+i.getHeader("event")]||null},a.prototype.getNextWsServer=function(){var i,e,c,d=[];for(e=this.configuration.wsServers.length,i=0;i<e;i++)(c=this.configuration.wsServers[i]).status!==h.Transport.C.STATUS_ERROR&&(d.length===0?d.push(c):c.weight>d[0].weight?d=[c]:c.weight===d[0].weight&&d.push(c));return d[i=Math.floor(Math.random()*d.length)]},a.prototype.closeSessionsOnTransportError=function(){var i;for(i in this.sessions)this.sessions[i].onTransportError();this.registerContext.onTransportClosed()},a.prototype.recoverTransport=function(i){var e,c,d,l,n;for(l=(i=i||this).transportRecoverAttempts,c=i.configuration.wsServers.length,e=0;e<c;e++)i.configuration.wsServers[e].status=0;n=i.getNextWsServer(),(d=Math.floor(Math.random()*Math.pow(2,l)+1)*i.configuration.connectionRecoveryMinInterval)>i.configuration.connectionRecoveryMaxInterval&&(this.logger.log("time for next connection attempt exceeds connectionRecoveryMaxInterval, resetting counter"),d=i.configuration.connectionRecoveryMinInterval,l=0),this.logger.log("next connection attempt in "+d+" seconds"),this.transportRecoveryTimer=h.Timers.setTimeout((function(){i.transportRecoverAttempts=l+1,new h.Transport(i,n)}),1e3*d)},a.prototype.loadConfig=function(i){var e,c,d,l,n,t={viaHost:h.Utils.createRandomToken(12)+".invalid",uri:new h.URI("sip","anonymous."+h.Utils.createRandomToken(6),"anonymous.invalid",null,null),wsServers:[{scheme:"WSS",sip_uri:"<sip:edge.sip.onsip.com;transport=ws;lr>",status:0,weight:0,ws_uri:"wss://edge.sip.onsip.com"}],custom:{},displayName:"",password:null,registerExpires:600,register:!0,registrarServer:null,wsServerMaxReconnection:3,wsServerReconnectionTimeout:4,connectionRecoveryMinInterval:2,connectionRecoveryMaxInterval:30,keepAliveInterval:0,extraSupported:[],usePreloadedRoute:!1,userAgentString:h.C.USER_AGENT,iceCheckingTimeout:5e3,noAnswerTimeout:60,stunServers:["stun:stun.l.google.com:19302"],turnServers:[],traceSip:!1,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,hackCleanJitsiSdpImageattr:!1,hackStripTcp:!1,contactTransport:"ws",forceRport:!1,autostart:!0,autostop:!0,rel100:h.C.supported.UNSUPPORTED,replaces:h.C.supported.UNSUPPORTED,mediaHandlerFactory:h.WebRTC.MediaHandler.defaultFactory,authenticationFactory:A((function(E){return new h.DigestAuthentication(E)})),allowLegacyNotifications:!1};function o(E,C){var w=E.replace(/([a-z][A-Z])/g,(function(O){return O[0]+"_"+O[1].toLowerCase()}));if(E!==w){var y=i.hasOwnProperty(E);i.hasOwnProperty(w)&&(C.warn(w+" is deprecated, please use "+E),y&&C.warn(E+" overriding "+w)),i[E]=y?i[E]:i[w]}}var p=this.getConfigurationCheck();for(e in p.mandatory){if(o(e,this.logger),!i.hasOwnProperty(e))throw new h.Exceptions.ConfigurationError(e);if(c=i[e],(d=p.mandatory[e](c))===void 0)throw new h.Exceptions.ConfigurationError(e,c);t[e]=d}h.Utils.optionsOverride(i,"rel100","reliable",!0,this.logger,h.C.supported.UNSUPPORTED);var V=["stunServers","turnServers"];for(e in p.optional)if(o(e,this.logger),i.hasOwnProperty(e)){if((c=i[e])instanceof Array&&c.length===0&&V.indexOf(e)<0||c===null||c===""||c===void 0||typeof c=="number"&&isNaN(c))continue;if((d=p.optional[e](c))===void 0)throw new h.Exceptions.ConfigurationError(e,c);t[e]=d}if(t.connectionRecoveryMaxInterval<t.connectionRecoveryMinInterval)throw new h.Exceptions.ConfigurationError("connectionRecoveryMaxInterval",t.connectionRecoveryMaxInterval);t.displayName===0&&(t.displayName="0"),t.instanceId||(t.instanceId=h.Utils.newUUID()),t.sipjsId=h.Utils.createRandomToken(5),(l=t.uri.clone()).user=null,t.hostportParams=l.toRaw().replace(/^sip:/i,""),t.authorizationUser||(t.authorizationUser=t.uri.user),t.registrarServer||((n=t.uri.clone()).user=null,t.registrarServer=n),t.noAnswerTimeout=1e3*t.noAnswerTimeout,t.hackIpInContact&&(typeof t.hackIpInContact=="boolean"?t.viaHost=h.Utils.getRandomTestNetIP():typeof t.hackIpInContact=="string"&&(t.viaHost=t.hackIpInContact)),t.hackWssInTransport&&(t.contactTransport="wss"),this.contact={pub_gruu:null,temp_gruu:null,uri:new h.URI("sip",h.Utils.createRandomToken(8),t.viaHost,null,{transport:t.contactTransport}),toString:function(E){var C=(E=E||{}).anonymous||null,w=E.outbound||null,y="<";return y+=C?(this.temp_gruu||"sip:anonymous@anonymous.invalid;transport="+t.contactTransport).toString():(this.pub_gruu||this.uri).toString(),w&&(y+=";ob"),y+">"}},h.Utils.optionsOverride(t,"media","mediaConstraints",!0,this.logger);var q={};for(e in t)q[e]={value:t[e],writable:e==="register"||e==="custom",configurable:!1};for(e in Object.defineProperties(this.configuration,q),this.logger.log("configuration parameters after validation:"),t)switch(e){case"uri":case"registrarServer":case"mediaHandlerFactory":this.logger.log("\xB7 "+e+": "+t[e]);break;case"password":this.logger.log("\xB7 "+e+": NOT SHOWN");break;default:this.logger.log("\xB7 "+e+": "+JSON.stringify(t[e]))}},a.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{uri:function(i){var e;return/^sip:/i.test(i)||(i=h.C.SIP+":"+i),(e=h.URI.parse(i))&&e.user?e:void 0},wsServers:function(i){var e,c,d;if(typeof i=="string")i=[{ws_uri:i}];else{if(!(i instanceof Array))return;for(c=i.length,e=0;e<c;e++)typeof i[e]=="string"&&(i[e]={ws_uri:i[e]})}if(i.length===0)return!1;for(c=i.length,e=0;e<c;e++){if(!i[e].ws_uri||i[e].weight&&!Number(i[e].weight)||(d=h.Grammar.parse(i[e].ws_uri,"absoluteURI"))===-1||["wss","ws","udp"].indexOf(d.scheme)<0)return;i[e].sip_uri="<sip:"+d.host+(d.port?":"+d.port:"")+";transport="+d.scheme.replace(/^wss$/i,"ws")+";lr>",i[e].weight||(i[e].weight=0),i[e].status=0,i[e].scheme=d.scheme.toUpperCase()}return i},authorizationUser:function(i){return h.Grammar.parse('"'+i+'"',"quoted_string")===-1?void 0:i},connectionRecoveryMaxInterval:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},connectionRecoveryMinInterval:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},displayName:function(i){return h.Grammar.parse('"'+i+'"',"displayName")===-1?void 0:i},hackViaTcp:function(i){if(typeof i=="boolean")return i},hackIpInContact:function(i){return typeof i=="boolean"||typeof i=="string"&&h.Grammar.parse(i,"host")!==-1?i:void 0},iceCheckingTimeout:function(i){if(h.Utils.isDecimal(i))return Math.max(500,i)},hackWssInTransport:function(i){if(typeof i=="boolean")return i},hackAllowUnregisteredOptionTags:function(i){if(typeof i=="boolean")return i},hackCleanJitsiSdpImageattr:function(i){if(typeof i=="boolean")return i},hackStripTcp:function(i){if(typeof i=="boolean")return i},contactTransport:function(i){if(typeof i=="string")return i},forceRport:function(i){if(typeof i=="boolean")return i},instanceId:function(i){if(typeof i=="string")return/^uuid:/i.test(i)&&(i=i.substr(5)),h.Grammar.parse(i,"uuid")===-1?void 0:i},keepAliveInterval:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},extraSupported:function(i){var e,c;if(i instanceof Array){for(c=i.length,e=0;e<c;e++)if(typeof i[e]!="string")return;return i}},noAnswerTimeout:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},password:function(i){return String(i)},rel100:function(i){return i===h.C.supported.REQUIRED?h.C.supported.REQUIRED:i===h.C.supported.SUPPORTED?h.C.supported.SUPPORTED:h.C.supported.UNSUPPORTED},replaces:function(i){return i===h.C.supported.REQUIRED?h.C.supported.REQUIRED:i===h.C.supported.SUPPORTED?h.C.supported.SUPPORTED:h.C.supported.UNSUPPORTED},register:function(i){if(typeof i=="boolean")return i},registerExpires:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},registrarServer:function(i){var e;if(typeof i=="string")return/^sip:/i.test(i)||(i=h.C.SIP+":"+i),(e=h.URI.parse(i))?e.user?void 0:e:void 0},stunServers:function(i){var e,c,d;if(typeof i=="string")i=[i];else if(!(i instanceof Array))return;for(c=i.length,e=0;e<c;e++){if(d=i[e],/^stuns?:/.test(d)||(d="stun:"+d),h.Grammar.parse(d,"stun_URI")===-1)return;i[e]=d}return i},traceSip:function(i){if(typeof i=="boolean")return i},turnServers:function(i){var e,c,d,l,n,t;for(i instanceof Array||(i=[i]),d=i.length,e=0;e<d;e++){if((l=i[e]).server&&(l.urls=[l.server]),!l.urls)return;for(l.urls instanceof Array?n=l.urls.length:(l.urls=[l.urls],n=1),c=0;c<n;c++)if(t=l.urls[c],/^turns?:/.test(t)||(t="turn:"+t),h.Grammar.parse(t,"turn_URI")===-1)return}return i},rtcpMuxPolicy:function(i){if(typeof i=="string")return i},userAgentString:function(i){if(typeof i=="string")return i},usePreloadedRoute:function(i){if(typeof i=="boolean")return i},wsServerMaxReconnection:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},wsServerReconnectionTimeout:function(i){var e;if(h.Utils.isDecimal(i)&&(e=Number(i))>0)return e},autostart:function(i){if(typeof i=="boolean")return i},autostop:function(i){if(typeof i=="boolean")return i},mediaHandlerFactory:function(i){if(i instanceof Function){var e=function(){var c=i.apply(this,arguments);function d(l){if(c[l].length>1){var n=l==="getDescription";c[l]=h.Utils.promisify(c,l,n)}}return d("getDescription"),d("setDescription"),c};return e.isSupported=i.isSupported,e}},authenticationFactory:A,allowLegacyNotifications:function(i){if(typeof i=="boolean")return i},custom:function(i){if(typeof i=="object")return i}}}},a.C=r,h.UA=a}}).call(this,D.g!==void 0?D.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],30:[function(v,m,I){"use strict";m.exports=function(s){var h;(h=function(u,a,r,A,i,e){var c,d,l,n;if(!r)throw new TypeError('missing or invalid "host" parameter');for(c in u=u||s.C.SIP,this.parameters={},this.headers={},i)this.setParam(c,i[c]);for(d in e)this.setHeader(d,e[d]);l={scheme:u,user:a,host:r,port:A},n={scheme:u.toLowerCase(),user:a,host:r.toLowerCase(),port:A},Object.defineProperties(this,{_normal:{get:function(){return n}},_raw:{get:function(){return l}},scheme:{get:function(){return n.scheme},set:function(t){l.scheme=t,n.scheme=t.toLowerCase()}},user:{get:function(){return n.user},set:function(t){n.user=l.user=t}},host:{get:function(){return n.host},set:function(t){l.host=t,n.host=t.toLowerCase()}},aor:{get:function(){return n.user+"@"+n.host}},port:{get:function(){return n.port},set:function(t){n.port=l.port=t===0?t:parseInt(t,10)||null}}})}).prototype={setParam:function(u,a){u&&(this.parameters[u.toLowerCase()]=a==null?null:a.toString().toLowerCase())},getParam:function(u){if(u)return this.parameters[u.toLowerCase()]},hasParam:function(u){if(u)return!!this.parameters.hasOwnProperty(u.toLowerCase())},deleteParam:function(u){var a;if(u=u.toLowerCase(),this.parameters.hasOwnProperty(u))return a=this.parameters[u],delete this.parameters[u],a},clearParams:function(){this.parameters={}},setHeader:function(u,a){this.headers[s.Utils.headerize(u)]=a instanceof Array?a:[a]},getHeader:function(u){if(u)return this.headers[s.Utils.headerize(u)]},hasHeader:function(u){if(u)return!!this.headers.hasOwnProperty(s.Utils.headerize(u))},deleteHeader:function(u){var a;if(u=s.Utils.headerize(u),this.headers.hasOwnProperty(u))return a=this.headers[u],delete this.headers[u],a},clearHeaders:function(){this.headers={}},clone:function(){return new h(this._raw.scheme,this._raw.user,this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},toRaw:function(){return this._toString(this._raw)},toString:function(){return this._toString(this._normal)},_toString:function(u){var a,r,A,i,e=[];for(r in i=u.scheme+":",u.scheme.toLowerCase().match("^sips?$")||(i+="//"),u.user&&(i+=s.Utils.escapeUser(u.user)+"@"),i+=u.host,(u.port||u.port===0)&&(i+=":"+u.port),this.parameters)i+=";"+r,this.parameters[r]!==null&&(i+="="+this.parameters[r]);for(a in this.headers)for(A in this.headers[a])e.push(a+"="+this.headers[a][A]);return e.length>0&&(i+="?"+e.join("&")),i}},h.parse=function(u){return(u=s.Grammar.parse(u,"SIP_URI"))!==-1?u:void 0},s.URI=h}},{}],31:[function(v,m,I){"use strict";m.exports=function(s,h){var u;u={Promise:h.Promise,defer:function(){var a={};return a.promise=new u.Promise((function(r,A){a.resolve=r,a.reject=A})),a},promisify:function(a,r,A){var i=a[r];return function(e,c,d){return new u.Promise((function(l,n){var t=[e,l,n];A&&(t=[l,n,e]),i.apply(a,t)})).then(c,d)}},augment:function(a,r,A,i){var e,c;for(e in c=r.prototype)(i||a[e]===void 0)&&(a[e]=c[e]);r.apply(a,A)},optionsOverride:function(a,r,A,i,e,c){i&&a[A]&&e.warn(A+" is deprecated, please use "+r+" instead"),a[r]&&a[A]&&e.warn(r+" overriding "+A),a[r]=a[r]||a[A]||c},str_utf8_length:function(a){return encodeURIComponent(a).replace(/%[A-F\d]{2}/g,"U").length},generateFakeSDP:function(a){if(a){var r=a.indexOf("o="),A=a.indexOf(`\r
`,r);return`v=0\r
`+a.slice(r,A)+`\r
s=-\r
t=0 0\r
c=IN IP4 0.0.0.0`}},isFunction:function(a){return a!==void 0&&Object.prototype.toString.call(a)==="[object Function]"},isDecimal:function(a){return!isNaN(a)&&parseFloat(a)===parseInt(a,10)},createRandomToken:function(a,r){var A,i="";for(r=r||32,A=0;A<a;A++)i+=(Math.random()*r|0).toString(r);return i},newTag:function(){return s.Utils.createRandomToken(s.UA.C.TAG_LENGTH)},newUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(a){var r=16*Math.random()|0;return(a==="x"?r:3&r|8).toString(16)}))},hostType:function(a){if(a)return(a=s.Grammar.parse(a,"host"))!==-1?a.host_type:void 0},normalizeTarget:function(a,r){var A,i,e,c;if(a){if(a instanceof s.URI)return a;if(typeof a=="string"){switch((i=a.split("@")).length){case 1:if(!r)return;e=a,c=r;break;case 2:e=i[0],c=i[1];break;default:e=i.slice(0,i.length-1).join("@"),c=i[i.length-1]}return e=e.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(e)&&(e=e.replace(/[\-\.\(\)]/g,"")),a=s.C.SIP+":"+s.Utils.escapeUser(e)+"@"+c,(A=s.URI.parse(a))?A:void 0}}},escapeUser:function(a){return encodeURIComponent(decodeURIComponent(a)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},headerize:function(a){var r,A={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},i=a.toLowerCase().replace(/_/g,"-").split("-"),e="",c=i.length;for(r=0;r<c;r++)r!==0&&(e+="-"),e+=i[r].charAt(0).toUpperCase()+i[r].substring(1);return A[e]&&(e=A[e]),e},sipErrorCause:function(a){var r;for(r in s.C.SIP_ERROR_CAUSES)if(s.C.SIP_ERROR_CAUSES[r].indexOf(a)!==-1)return s.C.causes[r];return s.C.causes.SIP_FAILURE_CODE},getReasonPhrase:function(a,r){return r||s.C.REASON_PHRASE[a]||""},getReasonHeaderValue:function(a,r){return"SIP ;cause="+a+' ;text="'+(r=s.Utils.getReasonPhrase(a,r))+'"'},getCancelReason:function(a,r){if(a&&a<200||a>699)throw new TypeError("Invalid status_code: "+a);if(a)return s.Utils.getReasonHeaderValue(a,r)},buildStatusLine:function(a,r){if(r=r||null,!(a=a||null)||a<100||a>699)throw new TypeError("Invalid status_code: "+a);if(r&&typeof r!="string"&&!(r instanceof String))throw new TypeError("Invalid reason_phrase: "+r);return"SIP/2.0 "+a+" "+(r=u.getReasonPhrase(a,r))+`\r
`},getRandomTestNetIP:function(){return"192.0.2."+Math.floor(254*Math.random()+1)},calculateMD5:function(a){function r(O,_){return O<<_|O>>>32-_}function A(O,_){var g,f,R,x,Y;return R=2147483648&O,x=2147483648&_,Y=(1073741823&O)+(1073741823&_),(g=1073741824&O)&(f=1073741824&_)?2147483648^Y^R^x:g|f?1073741824&Y?3221225472^Y^R^x:1073741824^Y^R^x:Y^R^x}function i(O,_,g,f,R,x,Y){return O=A(O,A(A((function(Q,S,T){return Q&S|~Q&T})(_,g,f),R),Y)),A(r(O,x),_)}function e(O,_,g,f,R,x,Y){return O=A(O,A(A((function(Q,S,T){return Q&T|S&~T})(_,g,f),R),Y)),A(r(O,x),_)}function c(O,_,g,f,R,x,Y){return O=A(O,A(A((function(Q,S,T){return Q^S^T})(_,g,f),R),Y)),A(r(O,x),_)}function d(O,_,g,f,R,x,Y){return O=A(O,A(A((function(Q,S,T){return S^(Q|~T)})(_,g,f),R),Y)),A(r(O,x),_)}function l(O){var _,g="",f="";for(_=0;_<=3;_++)g+=(f="0"+(O>>>8*_&255).toString(16)).substr(f.length-2,2);return g}var n,t,o,p,V,q,E,C,w,y;for(y=(function(O){for(var _,g=O.length,f=g+8,R=16*((f-f%64)/64+1),x=Array(R-1),Y=0,Q=0;Q<g;)Y=Q%4*8,x[_=(Q-Q%4)/4]=x[_]|O.charCodeAt(Q)<<Y,Q++;return Y=Q%4*8,x[_=(Q-Q%4)/4]=x[_]|128<<Y,x[R-2]=g<<3,x[R-1]=g>>>29,x})(a=(function(O){O=O.replace(/\r\n/g,`
`);for(var _="",g=0;g<O.length;g++){var f=O.charCodeAt(g);f<128?_+=String.fromCharCode(f):f>127&&f<2048?(_+=String.fromCharCode(f>>6|192),_+=String.fromCharCode(63&f|128)):(_+=String.fromCharCode(f>>12|224),_+=String.fromCharCode(f>>6&63|128),_+=String.fromCharCode(63&f|128))}return _})(a)),q=1732584193,E=4023233417,C=2562383102,w=271733878,n=0;n<y.length;n+=16)t=q,o=E,p=C,V=w,q=i(q,E,C,w,y[n+0],7,3614090360),w=i(w,q,E,C,y[n+1],12,3905402710),C=i(C,w,q,E,y[n+2],17,606105819),E=i(E,C,w,q,y[n+3],22,3250441966),q=i(q,E,C,w,y[n+4],7,4118548399),w=i(w,q,E,C,y[n+5],12,1200080426),C=i(C,w,q,E,y[n+6],17,2821735955),E=i(E,C,w,q,y[n+7],22,4249261313),q=i(q,E,C,w,y[n+8],7,1770035416),w=i(w,q,E,C,y[n+9],12,2336552879),C=i(C,w,q,E,y[n+10],17,4294925233),E=i(E,C,w,q,y[n+11],22,2304563134),q=i(q,E,C,w,y[n+12],7,1804603682),w=i(w,q,E,C,y[n+13],12,4254626195),C=i(C,w,q,E,y[n+14],17,2792965006),q=e(q,E=i(E,C,w,q,y[n+15],22,1236535329),C,w,y[n+1],5,4129170786),w=e(w,q,E,C,y[n+6],9,3225465664),C=e(C,w,q,E,y[n+11],14,643717713),E=e(E,C,w,q,y[n+0],20,3921069994),q=e(q,E,C,w,y[n+5],5,3593408605),w=e(w,q,E,C,y[n+10],9,38016083),C=e(C,w,q,E,y[n+15],14,3634488961),E=e(E,C,w,q,y[n+4],20,3889429448),q=e(q,E,C,w,y[n+9],5,568446438),w=e(w,q,E,C,y[n+14],9,3275163606),C=e(C,w,q,E,y[n+3],14,4107603335),E=e(E,C,w,q,y[n+8],20,1163531501),q=e(q,E,C,w,y[n+13],5,2850285829),w=e(w,q,E,C,y[n+2],9,4243563512),C=e(C,w,q,E,y[n+7],14,1735328473),q=c(q,E=e(E,C,w,q,y[n+12],20,2368359562),C,w,y[n+5],4,4294588738),w=c(w,q,E,C,y[n+8],11,2272392833),C=c(C,w,q,E,y[n+11],16,1839030562),E=c(E,C,w,q,y[n+14],23,4259657740),q=c(q,E,C,w,y[n+1],4,2763975236),w=c(w,q,E,C,y[n+4],11,1272893353),C=c(C,w,q,E,y[n+7],16,4139469664),E=c(E,C,w,q,y[n+10],23,3200236656),q=c(q,E,C,w,y[n+13],4,681279174),w=c(w,q,E,C,y[n+0],11,3936430074),C=c(C,w,q,E,y[n+3],16,3572445317),E=c(E,C,w,q,y[n+6],23,76029189),q=c(q,E,C,w,y[n+9],4,3654602809),w=c(w,q,E,C,y[n+12],11,3873151461),C=c(C,w,q,E,y[n+15],16,530742520),q=d(q,E=c(E,C,w,q,y[n+2],23,3299628645),C,w,y[n+0],6,4096336452),w=d(w,q,E,C,y[n+7],10,1126891415),C=d(C,w,q,E,y[n+14],15,2878612391),E=d(E,C,w,q,y[n+5],21,4237533241),q=d(q,E,C,w,y[n+12],6,1700485571),w=d(w,q,E,C,y[n+3],10,2399980690),C=d(C,w,q,E,y[n+10],15,4293915773),E=d(E,C,w,q,y[n+1],21,2240044497),q=d(q,E,C,w,y[n+8],6,1873313359),w=d(w,q,E,C,y[n+15],10,4264355552),C=d(C,w,q,E,y[n+6],15,2734768916),E=d(E,C,w,q,y[n+13],21,1309151649),q=d(q,E,C,w,y[n+4],6,4149444226),w=d(w,q,E,C,y[n+11],10,3174756917),C=d(C,w,q,E,y[n+2],15,718787259),E=d(E,C,w,q,y[n+9],21,3951481745),q=A(q,t),E=A(E,o),C=A(C,p),w=A(w,V);return(l(q)+l(E)+l(C)+l(w)).toLowerCase()}},s.Utils=u}},{}],32:[function(v,m,I){"use strict";m.exports=function(s,h){var u,a;return(u={}).MediaHandler=v("./WebRTC/MediaHandler")(s),u.MediaStreamManager=v("./WebRTC/MediaStreamManager")(s,h),u.isSupported=function(){return a!==void 0||(u.MediaStream=h.MediaStream,u.getUserMedia=h.getUserMedia,u.RTCPeerConnection=h.RTCPeerConnection,u.RTCSessionDescription=h.RTCSessionDescription,u.RTCPeerConnection&&u.RTCSessionDescription?(u.getUserMedia&&(u.getUserMedia=s.Utils.promisify(h,"getUserMedia")),a=!0):a=!1),a},u}},{"./WebRTC/MediaHandler":33,"./WebRTC/MediaStreamManager":34}],33:[function(v,m,I){"use strict";m.exports=function(s){var h=function(u,a){a=a||{},this.logger=u.ua.getLogger("sip.invitecontext.mediahandler",u.id),this.session=u,this.localMedia=null,this.ready=!0,this.mediaStreamManager=a.mediaStreamManager||new s.WebRTC.MediaStreamManager(this.logger),this.audioMuted=!1,this.videoMuted=!1,this.local_hold=!1,this.remote_hold=!1;var r=this.prepareIceServers(a.stunServers,a.turnServers);function A(i,e){i.mediaStreamManager.on&&i.mediaStreamManager.on(e,(function(){i.emit.apply(i,[e].concat(Array.prototype.slice.call(arguments)))}))}this.RTCConstraints=a.RTCConstraints||{},this.initPeerConnection(r),A(this,"userMediaRequest"),A(this,"userMedia"),A(this,"userMediaFailed")};return(h.defaultFactory=function(u,a){return new h(u,a)}).isSupported=function(){return s.WebRTC.isSupported()},h.prototype=Object.create(s.MediaHandler.prototype,{isReady:{writable:!0,value:function(){return this.ready}},close:{writable:!0,value:function(){this.logger.log("closing PeerConnection"),this._remoteStreams=[],this.peerConnection&&this.peerConnection.signalingState!=="closed"&&(this.peerConnection.close(),this.localMedia&&this.mediaStreamManager.release(this.localMedia))}},getDescription:{writable:!0,value:function(u){var a,r=this,A=r.mediaStreamManager.acquire;return A.length>1&&(A=s.Utils.promisify(this.mediaStreamManager,"acquire",!0)),(u=u||{}).dataChannel===!0&&(u.dataChannel={}),this.mediaHint=u,r.localMedia?(r.logger.log("already have local media"),a=s.Utils.Promise.resolve(r.localMedia)):(r.logger.log("acquiring local media"),a=A.call(r.mediaStreamManager,u).then((function(i){return r.logger.log("acquired local media streams"),r.localMedia=i,r.session.connecting(),i}),(function(i){throw r.logger.error("unable to acquire streams"),r.logger.error(i),r.session.connecting(),i})).then(this.addStreams.bind(this))),a.then((function(){return r.hasOffer("remote")?r.peerConnection.ondatachannel=function(i){r.dataChannel=i.channel,r.emit("dataChannel",r.dataChannel)}:u.dataChannel&&r.peerConnection.createDataChannel&&(r.dataChannel=r.peerConnection.createDataChannel("sipjs",u.dataChannel),r.emit("dataChannel",r.dataChannel)),r.render(),r.createOfferOrAnswer(r.RTCConstraints)})).then((function(i){return i=s.Hacks.Firefox.hasMissingCLineInSDP(i),r.local_hold&&(i=/a=(sendrecv|sendonly|recvonly|inactive)/.test(i)?(i=i.replace(/a=sendrecv\r\n/g,`a=sendonly\r
`)).replace(/a=recvonly\r\n/g,`a=inactive\r
`):i.replace(/(m=[^\r]*\r\n)/g,`$1a=sendonly\r
`)),{body:i,contentType:"application/sdp"}}))}},hasDescription:{writeable:!0,value:function(u){return u.getHeader("Content-Type")==="application/sdp"&&!!u.body}},setDescription:{writable:!0,value:function(u){var a=this,r=u.body;this.remote_hold=/a=(sendonly|inactive)/.test(r),r=s.Hacks.Firefox.cannotHandleExtraWhitespace(r),r=s.Hacks.AllBrowsers.maskDtls(r);var A={type:this.hasOffer("local")?"answer":"offer",sdp:r};this.emit("setDescription",A);var i=new s.WebRTC.RTCSessionDescription(A);return s.Utils.promisify(this.peerConnection,"setRemoteDescription")(i).catch((function(e){throw a.emit("peerConnection-setRemoteDescriptionFailed",e),e}))}},getReferMedia:{writable:!0,value:function(){function u(r,A){return A[r]().length>0}function a(r){return this.getLocalStreams().some(u.bind(null,r))&&this.getRemoteStreams().some(u.bind(null,r))}return{constraints:{audio:a.call(this,"getAudioTracks"),video:a.call(this,"getVideoTracks")}}}},updateIceServers:{writeable:!0,value:function(u){var a=this.prepareIceServers(u.stunServers,u.turnServers);this.RTCConstraints=u.RTCConstraints||this.RTCConstraints,this.initPeerConnection(a)}},isMuted:{writable:!0,value:function(){return{audio:this.audioMuted,video:this.videoMuted}}},mute:{writable:!0,value:function(u){if(this.getLocalStreams().length!==0){var a=!1,r=!1;return(u=u||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&!this.audioMuted&&(a=!0,this.audioMuted=!0,this.toggleMuteAudio(!0)),u.video&&!this.videoMuted&&(r=!0,this.videoMuted=!0,this.toggleMuteVideo(!0)),a||r?{audio:a,video:r}:void 0}}},unmute:{writable:!0,value:function(u){if(this.getLocalStreams().length!==0){var a=!1,r=!1;return(u=u||{audio:this.getLocalStreams()[0].getAudioTracks().length>0,video:this.getLocalStreams()[0].getVideoTracks().length>0}).audio&&this.audioMuted&&(a=!0,this.audioMuted=!1,this.toggleMuteAudio(!1)),u.video&&this.videoMuted&&(r=!0,this.videoMuted=!1,this.toggleMuteVideo(!1)),a||r?{audio:a,video:r}:void 0}}},hold:{writable:!0,value:function(){this.local_hold=!0,this.toggleMuteAudio(!0),this.toggleMuteVideo(!0)}},unhold:{writable:!0,value:function(){this.local_hold=!1,this.audioMuted||this.toggleMuteAudio(!1),this.videoMuted||this.toggleMuteVideo(!1)}},getLocalStreams:{writable:!0,value:function(){var u=this.peerConnection;return u&&u.signalingState==="closed"?(this.logger.warn("peerConnection is closed, getLocalStreams returning []"),[]):u.getLocalStreams&&u.getLocalStreams()||u.localStreams||[]}},getRemoteStreams:{writable:!0,value:function(){var u=this.peerConnection;return u&&u.signalingState==="closed"?(this.logger.warn("peerConnection is closed, getRemoteStreams returning this._remoteStreams"),this._remoteStreams):u.getRemoteStreams&&u.getRemoteStreams()||u.remoteStreams||[]}},render:{writable:!0,value:function(u){if(!(u=u||this.mediaHint&&this.mediaHint.render))return!1;var a={local:"getLocalStreams",remote:"getRemoteStreams"};Object.keys(a).forEach(function(r){var A=this[a[r]]();s.WebRTC.MediaStreamManager.render(A,u[r])}.bind(this))}},hasOffer:{writable:!0,value:function(u){var a="have-"+u+"-offer";return this.peerConnection.signalingState===a}},prepareIceServers:{writable:!0,value:function(u,a){var r=[],A=this.session.ua.configuration;return u=u||A.stunServers,a=a||A.turnServers,[].concat(u).forEach((function(i){r.push({urls:i})})),[].concat(a).forEach((function(i){var e={urls:i.urls};i.username&&(e.username=i.username),i.password&&(e.credential=i.password),r.push(e)})),r}},initPeerConnection:{writable:!0,value:function(u){var a=this,r=this.session.ua.configuration;this.onIceCompleted=s.Utils.defer(),this.onIceCompleted.promise.then((function(i){a.emit("iceGatheringComplete",i),a.iceCheckingTimer&&(s.Timers.clearTimeout(a.iceCheckingTimer),a.iceCheckingTimer=null)})),this.peerConnection&&this.peerConnection.close();var A={iceServers:u};r.rtcpMuxPolicy&&(A.rtcpMuxPolicy=r.rtcpMuxPolicy),this.peerConnection=new s.WebRTC.RTCPeerConnection(A),this._remoteStreams=[],this.peerConnection.onaddstream=function(i){a.logger.log("stream added: "+i.stream.id),a._remoteStreams.push(i.stream),a.render(),a.emit("addStream",i)},this.peerConnection.onremovestream=function(i){a.logger.log("stream removed: "+i.stream.id)},this.startIceCheckingTimer=function(){a.iceCheckingTimer||(a.iceCheckingTimer=s.Timers.setTimeout(function(){a.logger.log("RTCIceChecking Timeout Triggered after "+r.iceCheckingTimeout+" milliseconds"),a.onIceCompleted.resolve(this)}.bind(this.peerConnection),r.iceCheckingTimeout))},this.peerConnection.onicecandidate=function(i){a.emit("iceCandidate",i),i.candidate?(a.logger.log("ICE candidate received: "+(i.candidate.candidate===null?null:i.candidate.candidate.trim())),a.startIceCheckingTimer()):a.onIceCompleted.resolve(this)},this.peerConnection.onicegatheringstatechange=function(){a.logger.log("RTCIceGatheringState changed: "+this.iceGatheringState),this.iceGatheringState==="gathering"&&a.emit("iceGathering",this),this.iceGatheringState==="complete"&&a.onIceCompleted.resolve(this)},this.peerConnection.oniceconnectionstatechange=function(){var i;switch(this.iceConnectionState==="checking"&&a.startIceCheckingTimer(),this.iceConnectionState){case"new":i="iceConnection";break;case"checking":i="iceConnectionChecking";break;case"connected":i="iceConnectionConnected";break;case"completed":i="iceConnectionCompleted";break;case"failed":i="iceConnectionFailed";break;case"disconnected":i="iceConnectionDisconnected";break;case"closed":i="iceConnectionClosed";break;default:return void a.logger.warn("Unknown iceConnection state:",this.iceConnectionState)}a.emit(i,this)},this.peerConnection.onstatechange=function(){a.logger.log('PeerConnection state changed to "'+this.readyState+'"')}}},createOfferOrAnswer:{writable:!0,value:function(u){var a,r=this,A=r.peerConnection;return r.ready=!1,a=r.hasOffer("remote")?"createAnswer":"createOffer",s.Utils.promisify(A,a,!0)(u).catch((function(i){throw r.emit("peerConnection-"+a+"Failed",i),i})).then(s.Utils.promisify(A,"setLocalDescription")).catch((function(i){throw r.emit("peerConnection-selLocalDescriptionFailed",i),i})).then((function(){var i=s.Utils.defer();return A.iceGatheringState!=="complete"||A.iceConnectionState!=="connected"&&A.iceConnectionState!=="completed"?r.onIceCompleted.promise.then(i.resolve):i.resolve(),i.promise})).then((function(){var i=A.localDescription.sdp;i=s.Hacks.Chrome.needsExplicitlyInactiveSDP(i);let e=(i=s.Hacks.AllBrowsers.unmaskDtls(i)).split(`\r
`);e=e.filter((d=>!(d.indexOf("a=candidate")>-1&&d.indexOf(".local")>-1))),i=e.join(`\r
`);var c={type:a==="createOffer"?"offer":"answer",sdp:i};return r.emit("getDescription",c),r.session.ua.configuration.hackStripTcp&&(c.sdp=c.sdp.replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,"")),r.ready=!0,c.sdp})).catch((function(i){throw r.logger.error(i),r.ready=!0,new s.Exceptions.GetDescriptionError(i)}))}},addStreams:{writable:!0,value:function(u){try{(u=[].concat(u)).forEach((function(a){this.peerConnection.addStream(a)}),this)}catch(a){return this.logger.error("error adding stream"),this.logger.error(a),s.Utils.Promise.reject(a)}return s.Utils.Promise.resolve()}},toggleMuteHelper:{writable:!0,value:function(u,a){this.getLocalStreams().forEach((function(r){r[u]().forEach((function(A){A.enabled=!a}))}))}},toggleMuteAudio:{writable:!0,value:function(u){this.toggleMuteHelper("getAudioTracks",u)}},toggleMuteVideo:{writable:!0,value:function(u){this.toggleMuteHelper("getVideoTracks",u)}}}),h}},{}],34:[function(v,m,I){"use strict";m.exports=function(s,h){var u=function(a,r){if(!s.WebRTC.isSupported())throw new s.Exceptions.NotSupportedError("Media not supported");this.mediaHint=r||{constraints:{audio:!0,video:!0}},this.acquisitions={}};return u.streamId=function(a){return a.getAudioTracks().concat(a.getVideoTracks()).map((function(r){return r.id})).join("")},u.render=function(a,r){if(!r)return!1;if(Array.isArray(r)&&!r.length)throw new TypeError("elements must not be empty");function A(i,e){i.srcObject=e}r=[].concat(r),[].concat(a).forEach(function(i,e,c){var d,l=i[c%i.length];typeof l=="function"&&(l=l()),(h.attachMediaStream||A)(l,e),(d=l).ensurePlayingIntervalId=s.Timers.setInterval((function(){d.paused&&d.srcObject?d.play():s.Timers.clearInterval(d.ensurePlayingIntervalId)}),100)}.bind(null,r))},u.prototype=Object.create(s.EventEmitter.prototype,{acquire:{writable:!0,value:function(a){a=Object.keys(a||{}).length?a:this.mediaHint;var r=function(e,c){return(c=[].concat(c)).forEach((function(d){var l=u.streamId(d);this.acquisitions[l]=!!e}),this),s.Utils.Promise.resolve(c)}.bind(this);if(a.stream)return r(!0,a.stream);var A=a.constraints||this.mediaHint&&this.mediaHint.constraints||{audio:!0,video:!0},i=s.Utils.defer();return s.Timers.setTimeout(function(){this.emit("userMediaRequest",A);var e=function(c,d){var l=Array.prototype.slice.call(arguments,2),n=[c].concat(l);return this.emit.apply(this,n),d.apply(null,l)}.bind(this);A.audio||A.video?i.resolve(s.WebRTC.getUserMedia(A).then(e.bind(this,"userMedia",r.bind(null,!1)),e.bind(this,"userMediaFailed",(function(c){throw c})))):i.resolve([])}.bind(this),0),i.promise}},release:{writable:!0,value:function(a){(a=[].concat(a)).forEach((function(r){var A=u.streamId(r);this.acquisitions[A]===!1&&r.getTracks().forEach((function(i){i.stop()})),delete this.acquisitions[A]}),this)}}}),u}},{}],35:[function(v,m,I){(function(s){"use strict";var h=s.window||s;function u(a,r){if(a!=null){var A=r.charAt(0).toUpperCase()+r.slice(1),i=[r,"webkit"+A,"moz"+A];for(var e in i){var c=a[i[e]];if(c)return c.bind(a)}}}m.exports={WebSocket:h.WebSocket,Transport:v("./Transport"),open:h.open,Promise:h.Promise,timers:h,console:h.console||{debug:function(){},log:function(){},warn:function(){},error:function(){}},MediaStream:u(h,"MediaStream"),getUserMedia:u(h.navigator,"getUserMedia"),RTCPeerConnection:u(h,"RTCPeerConnection"),RTCSessionDescription:u(h,"RTCSessionDescription"),addEventListener:u(h,"addEventListener"),removeEventListener:u(h,"removeEventListener"),HTMLMediaElement:h.HTMLMediaElement,attachMediaStream:h.attachMediaStream,createObjectURL:h.URL&&h.URL.createObjectURL,revokeObjectURL:h.URL&&h.URL.revokeObjectURL}}).call(this,D.g!==void 0?D.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./Transport":28}],36:[function(v,m,I){"use strict";m.exports=v("./SIP")(v("./environment"))},{"./SIP":19,"./environment":35}]},{},[36])(36)},163:function(F){"use strict";F.exports={r:"1.0.27"}}},B={};function M(F){var G=B[F];if(G!==void 0)return G.exports;var D=B[F]={exports:{}};return N[F].call(D.exports,D,D.exports,M),D.exports}M.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var k=M(156),U=window;for(var b in k)U[b]=k[b];k.__esModule&&Object.defineProperty(U,"__esModule",{value:!0})})()},943:function(N){"use strict";N.exports="data:font/ttf;charset=utf-8;base64,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AgIBAQETGhNcnQkBAAMAfP/+A4EDAgBBAEkATAAAEzYXFhcWFTEWFxYHBg8BFxYXFhceARcWFxYXFjQ3PgEXFhcxNBYXFhcWBwYPAQYHBicmJyYnJicmJyYnJjc2PwE2JRMjJyMHIxMXBzPJCw0JCgd3DgkGAwU4BggLDxMYOiQcHxYVEA4QEhAIBrcGCgEBCQ0nAQQTGyIvNEBFUVRlOS0QCwYDBgEbAkSVVRmkGVWVKzFiAvoIAwIHBgGXFQ0OBwUnERUWIBwjOhgTDwsHBgIVGBIDAgQBiwYJBgkSGCcBAwUGAwMTFy82VWRfTUY0KxcOASAd/oBAQAGAbn0AAAAAABIA3gABAAAAAAAAABMAKAABAAAAAAABAAgATgABAAAAAAACAAcAZwABAAAAAAADAAgAgQABAAAAAAAEAAgAnAABAAAAAAAFAAsAvQABAAAAAAAGAAgA2wABAAAAAAAKACsBPAABAAAAAAALABMBkAADAAEECQAAACYAAAADAAEECQABABAAPAADAAEECQACAA4AVwADAAEECQADABAAbwADAAEECQAEABAAigADAAEECQAFABYApQADAAEECQAGABAAyQADAAEECQAKAFYA5AADAAEECQALACYBaABDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AABDcmVhdGVkIGJ5IGljb25mb250AABpAGMAbwBuAGYAbwBuAHQAAGljb25mb250AABSAGUAZwB1AGwAYQByAABSZWd1bGFyAABpAGMAbwBuAGYAbwBuAHQAAGljb25mb250AABpAGMAbwBuAGYAbwBuAHQAAGljb25mb250AABWAGUAcgBzAGkAbwBuACAAMQAuADAAAFZlcnNpb24gMS4wAABpAGMAbwBuAGYAbwBuAHQAAGljb25mb250AABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAABHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuAABoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAABodHRwOi8vZm9udGVsbG8uY29tAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAEAAgECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgV3YWlodQ15aWRvbmdkaWFuaHVhB2d1YWR1YW4Ra2VmdXpodWFuamllLWNvcHkGc291c3VvBWh1aXlpD2tlZXBIb2xkLWJhb2NoaRpodWlmdXRvbmdodWF6aHVhbmh1YW4tY29weQh6aHVhbmppZQdsaWFuamllDmh1aWh1YXpodWFuamllDXppeHVuemh1YW5qaWUMa2VmdXpodWFuamllDmljb24tRi1qaWV0aW5nB2ppbmd5aW4GZGVuZ2x1FmRhb2hhbmdsYW4tcXV4aWFveml4dW4HZmFuZ3lpbgV6aXh1bgVqdWppZQx6aWRvbmd5aW5nZGEAAAAAAAAB//8AAgABAAAADAAAABYAAAACAAEAAwAXAAEABAAAAAIAAAAAAAAAAQAAAADVpCcIAAAAAOBUEbQAAAAA4FQRtA=="}},P={};function H(N){var B=P[N];if(B!==void 0)return B.exports;var M=P[N]={id:N,exports:{}};return J[N].call(M.exports,M,M.exports,H),M.exports}H.m=J,H.n=function(N){var B=N&&N.__esModule?function(){return N.default}:function(){return N};return H.d(B,{a:B}),B},H.d=function(N,B){for(var M in B)H.o(B,M)&&!H.o(N,M)&&Object.defineProperty(N,M,{enumerable:!0,get:B[M]})},H.o=function(N,B){return Object.prototype.hasOwnProperty.call(N,B)},H.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},H.b=document.baseURI||self.location.href;var Z={};return(function(){"use strict";H.r(Z),H.d(Z,{AgentSdk:function(){return d}});var N="1.1.65",B=function(l,n,t){if(t||arguments.length===2)for(var o,p=0,V=n.length;p<V;p++)!o&&p in n||(o||(o=Array.prototype.slice.call(n,0,p)),o[p]=n[p]);return l.concat(o||Array.prototype.slice.call(n))},M=(function(){function l(){}return l.info=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];console.log.apply(console,B([l.getDateTime()+" "+l.prefix+`\r
`+n],t,!1))},l.success=function(n){},l.error=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];console.error.apply(console,B([l.getDateTime()+" "+l.prefix+`\r
`+n],t,!1))},l.warning=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];console.warn.apply(console,B([l.getDateTime()+" "+l.prefix+`\r
`+n],t,!1))},l.fail=function(n){},l.sendServer=function(n){},l.getDateTime=function(){var n=new Date;return n.toLocaleDateString()+" "+n.toLocaleTimeString()},l.setLog=function(n,t){var o=new Date,p=l.prefix+"_"+o.toLocaleDateString()+"_"+o.getHours();if(t.length==1)l.setStorage(p,n,t[0]);else{var V=0;t.map((function(q){V++,l.setStorage(p,n,q,V)}))}},l.setStorage=function(n,t,o,p){var V=localStorage.getItem(n)||"",q=p?"line: "+p+" ":"",E=t=="log"?"":t+":",C="";o=l.replace(o);try{if(typeof o=="string"&&(C=q+E+o),o instanceof Error||o instanceof ErrorEvent)C=q+E+(o=o instanceof ErrorEvent?o.error:o).message+o.stack;else{var w=JSON.stringify(o);C=q+E+(w=l.replace(w))}l.temp+=C+`\r
`,clearTimeout(l.timer),l.timer=window.setTimeout((function(){l.graspSize(n,V+l.temp),l.temp=""}),500)}catch(y){y.message.indexOf("Converting circular structure to JSON")>-1?l.setLog("warn",[y]):y.message.indexOf("exceeded the quota")>-1?l.reduce(n,C||V):console.warn("\u65E5\u5FD7\u5199\u5165\u5F02\u5E38",y)}},l.graspSize=function(n,t){l.removeExpire(l.EXPIER);var o=t.length;for(var p in localStorage)typeof localStorage[p]=="string"&&(o+=localStorage[p].length);o>5e6?l.reduce(n,t):localStorage.setItem(n,t)},l.reduce=function(n,t){l.EXPIER-=2,l.EXPIER=l.EXPIER<=0?1:l.EXPIER,l.removeExpire(l.EXPIER),l.EXPIER==1?t?localStorage.setItem(n,t.substring(.2*t.length)):localStorage.setItem(n,""):l.graspSize(n,t)},l.removeExpire=function(n){var t=new Date(new Date().getTime()-60*n*60*1e3).setMinutes(0,0,0);for(var o in localStorage)if(o.indexOf(l.label)>-1){var p=o.split("_"),V=p[2],q=p[3];new Date(V).setHours(parseInt(q))<=t&&localStorage.removeItem(o)}},l.replace=function(n){if(typeof n=="string"){if(n.length>2e3&&(n=n.substring(0,2e3)),n.indexOf("heartbeat")>-1){if(n.indexOf("request")>-1)return l.getDateTime()+" "+l.prefix+">>> h";if(n.indexOf("response")>-1)return l.getDateTime()+" "+l.prefix+"<<< h"}if(n.indexOf("groupQueueNum")>-1||n.indexOf("GroupQueueNum")>-1){if(n.indexOf("request")>-1)return l.getDateTime()+" "+l.prefix+">>> groupQueueNum";if(n.indexOf("response")>-1)return l.getDateTime()+" "+l.prefix+"<<< groupQueueNum";if(n.indexOf('"event":"GroupQueueNum"')>-1){var t=n.split(`

`)[1];t=t.substring(0,t.length-2);var o=JSON.parse(t);return l.getDateTime()+" "+l.prefix+"<<< event:groupQueueNum:"+o.data.groupQueueNum}if(n.indexOf("\u89E6\u53D1\u672A\u76D1\u542C\u4E8B\u4EF6")>-1)return"useless:groupQueueNum"}}return n},l.overrideConsoleLog=function(){if(l.onKeyEvent(),!l.isOverridden){var n=console.log,t=console.error,o=console.warn;console.log=function(){for(var p=[],V=0;V<arguments.length;V++)p[V]=arguments[V];l.setLog("log",p),n.apply(void 0,p)},console.error=function(){for(var p=[],V=0;V<arguments.length;V++)p[V]=arguments[V];l.setLog("error",p),t.apply(void 0,p)},console.warn=function(){for(var p=[],V=0;V<arguments.length;V++)p[V]=arguments[V];l.setLog("warn",p),o.apply(void 0,p)},l.isOverridden=!0}},l.onKeyEvent=function(){document.addEventListener("keydown",(function(n){n.ctrlKey&&n.code=="KeyL"&&l.saveLog()})),window.addEventListener("error",(function(n){l.error("\u5168\u5C40\u5F02\u5E38",n)}))},l.saveLog=function(){var n="",t=Object.keys(localStorage);(t=t.filter((function(V){return V.indexOf(l.label)>-1}))).sort(),t.forEach((function(V){n+=V+`\r
`+localStorage[V]}));var o=new Blob([n],{type:"text/plain"});if(!l.sdk.store.sdkOption.unDownloadLog){var p=document.createElement("a");p.download=window.location.host+"_"+new Date().getTime()+".txt",p.href=URL.createObjectURL(o),p.click(),URL.revokeObjectURL(p.href)}l.sdk.event.run("SaveLog",o)},l.isServer=!1,l.label="WAS_",l.prefix="".concat(l.label).concat(N),l.EXPIER=24,l.temp="",l.isOverridden=!1,l})(),k=M,U=(function(){function l(n){this.header={},this.content={request:"",sequence:0},this.content.request=n,this.content.sequence=new Date().getTime()}return l.prototype.put=function(n,t){this.content[n]=t},l.prototype.setToken=function(n){this.header.token=n},l.prototype.get=function(n){return this.content[n]},l.prototype.delete=function(n){return delete this.content[n]},l.prototype.json=function(){try{return JSON.stringify(this.content)}catch(n){k.error("Command \u8F6C\u5316 JSON \u51FA\u9519, \u51FA\u9519\u6570\u636E: ",this,n)}},l.prototype.keys=function(){return Object.keys(this.content)},l})(),b=function(l,n){this.version="WAS_".concat(N),this.message=l,n&&n.run("Exception",this)},F=H(108).Stomp,G=(function(){function l(n,t){var o=this;this.onopen=function(E){o.ws.subscribe("".concat(o.socketConfig.subscribePath,"/").concat(o.socketConfig.routingKey),o.onmessage),o.event.run("Open",E)},this.onerror=function(E){o.event.run("Error",E)},this.onmessage=function(E){try{var C=JSON.parse(E.body);o.event.run("Message",C,E)}catch(w){throw w}},this.onclose=function(E){k.error("CloseEvent",{code:E.code,reason:E.reason,wasClean:E.wasClean,isTrusted:E.isTrusted,timeStamp:E.timeStamp,composed:E.composed}),o.event.run("Close",E)},this.ondisconnect=function(){o.event.run("Disconnect",void 0)},this.isConnected=function(){return!(!o.ws||!o.ws.connected||o.ws.ws.readyState!=1)},this.isConnecting=function(){return!(!o.ws||o.ws.connected||o.ws.ws.readyState!=0)};for(var p=["url","host","connectAccount","subscribePath","routingKey"],V=0;V<p.length;V++){var q=p[V];if(!n[q])return void k.error("\u914D\u7F6E\u7F3A\u5C11\u5FC5\u8981\u5B57\u6BB5: ",q)}this.socketConfig=n,this.event=t}return l.prototype.connect=function(){var n=this.socketConfig,t=n.url,o=n.host,p=n.connectAccount,V=n.connectPassword,q=n.pingInterval;q=parseInt(q);var E;isNaN(q),E={outgoing:5e4,incoming:5e4},V=V||"Weihu_2022",this.ws=F.client(t,null,E),this.ws.connect(p,V,this.onopen,this.onclose,o),this.ws.ws.onerror=this.onerror,this.ws.debug=k.info},l.prototype.send=function(n){try{if(!this.ws)throw new b("\u8BF7\u5148\u5EFA\u7ACB\u6709\u6548\u94FE\u63A5",this.event);return this.ws.send("/exchange/ccs.request.exchange",n.header,n.json()),n.get("sequence")}catch(t){k.error(t.message)}return 0},l.prototype.kill=function(n){var t=this;this.isConnected()?(k.warning("\u5B58\u5728\u5DF2\u6709\u8FDE\u63A5, \u5373\u5C06\u5173\u95ED\u5E76\u8FDE\u63A5"),this.ws.disconnect((function(){t.ws.ws.close(),t.ws=null,t.ondisconnect(),n&&n()}))):(this.ws&&(k.warning("\u5B58\u5728\u8FDE\u63A5\u4E2D\u8BF7\u6C42, \u5373\u5C06\u7ED3\u675F\u5E76\u8FDE\u63A5"),this.ws.ws.close(),this.ws=null),n&&n())},l})(),D=H(135).Z[0],v=H(124).Z[0];H(229);var m=(function(){function l(n,t){var o=this;this.container=null,this.state=null,this.style="default",this.stateTimer=null,this.stateTimeStart=null,this.conversationTimeStart=null,this.idleAgentTimeStart=null,this.onlineTimerStart=null,this.queueTimerStart=null,this.domMap={},this.DOM_PREFIX="ccs-sdk-",this.isTripartiteTalking=!1,this.statusText={disconnect:"\u79BB\u7EBF",closed:"\u79BB\u7EBF",connected:"\u5DF2\u94FE\u63A5",Login:"\u767B\u5F55",Kick:"\u672A\u767B\u5F55",Logout:"\u672A\u767B\u5F55",Busy:"\u5FD9\u788C",Idle:"\u7A7A\u95F2",MakeCall:"\u547C\u53EB",AgentOriginate:"\u547C\u53EB\u5EFA\u7ACB",AgentRinging:"\u5EA7\u5E2D\u632F\u94C3",AgentAnswer:"\u5EA7\u5E2D\u5E94\u7B54",CalledRinging:"\u88AB\u53EB\u632F\u94C3",Intercept:"\u62E6\u622A",Intercepting:"\u62E6\u622A\u4E2D",InterceptFail:"\u62E6\u622A\u5931\u8D25",TransferCall:"\u8F6C\u63A5",TransferCalling:"\u8F6C\u63A5\u4E2D",TransferCallFail:"\u8F6C\u63A5\u5931\u8D25",TransferCancel:"\u53D6\u6D88\u8F6C\u63A5",CalledAnswer:"\u88AB\u53EB\u5E94\u7B54",Conversation:"\u901A\u8BDD\u4E2D",MakeCallFail:"\u547C\u53EB\u5931\u8D25",After:"\u8BDD\u540E",Hold:"\u4FDD\u6301",UnHold:"\u901A\u8BDD\u4E2D",Mute:"\u9759\u97F3",Unmute:"\u901A\u8BDD\u4E2D",CancelCall:"\u6302\u673A",Lock:"\u9501\u5B9A",Listen:"\u76D1\u542C",Listening:"\u76D1\u542C\u4E2D",ListenFail:"\u76D1\u542C\u5931\u8D25",ConsultCall:"\u54A8\u8BE2",ConsultCalling:"\u54A8\u8BE2\u4E2D",ConsultCallFail:"\u54A8\u8BE2\u5931\u8D25",ConsultCancel:"\u53D6\u6D88\u54A8\u8BE2",ConsultTransfer:"\u54A8\u8BE2\u8F6C\u63A5",ConsultedCancel:"\u54A8\u8BE2\u6302\u65AD",TripartiteTalk:"\u4E09\u65B9\u53D1\u8D77",TripartiteTalking:"\u4E09\u65B9\u901A\u8BDD",TripartiteTalkFail:"\u4E09\u65B9\u5931\u8D25",ForceInsert:"\u5F3A\u5236\u63D2\u5165",ForceInserting:"\u5F3A\u63D2\u4E2D",ForceInsertFail:"\u5F3A\u63D2\u5931\u8D25"},this.documentEvent=function(p){var V=p.target;o.isContain("call-panel",V)||o.hide("callPanel"),o.isContain("outline",V)||o.hide("outlinePanel"),o.isContain("groups",V)||o.isContain("agents",V)||o.isContain("transfer",V)||o.isContain("consult",V)||(o.hide("groups"),o.hide("agents"),clearTimeout(o.idleAgentTimeStart)),o.isContain("monitor-box",V)||o.hide("monitorAgents"),o.isContain("monitor-box",V)||o.hide("monitorPanel"),o.isContain("group-info",V)||o.hide("groupInfoList")},this.sdk=t,this.draw(n)}return l.prototype.draw=function(n){this.destroy(),this.el=n;var t=document.querySelector(this.el);return t&&(document.head.append(this.createStyle()),document.head.append(this.createIcon()),this.container=this.createHtml(),t.append(this.container),this.initDomMap()),!0},l.prototype.initDomMap=function(){this.hideAll(),this.bindEvent()},l.prototype.getDomTreeTemplate=function(){return`
            <div class="ccs-sdk-box ccs-sdk-clearfix">
                <span class="ccs-sdk-delay">
                    <svg class="icon" id="`.concat(this.DOM_PREFIX,`signal-0" aria-hidden="true">
                        <use xlink:href="#icon-iconxinhaowuxinhao-copy-copy-copy2"></use>
                    </svg>
                    <svg class="icon" id="`).concat(this.DOM_PREFIX,`signal-1" aria-hidden="true" style="display: none">
                        <use xlink:href="#icon-iconxinhaowuxinhao"></use>
                    </svg>
                    <svg class="icon" id="`).concat(this.DOM_PREFIX,`signal-2" aria-hidden="true" style="display: none">
                        <use xlink:href="#icon-iconxinhaowuxinhao-copy"></use>
                    </svg>
                    <svg class="icon" id="`).concat(this.DOM_PREFIX,`signal-3" aria-hidden="true" style="display: none">
                        <use xlink:href="#icon-iconxinhaowuxinhao-copy-copy-copy"></use>
                    </svg>
                    <svg class="icon" id="`).concat(this.DOM_PREFIX,`signal-4" aria-hidden="true" style="display: none">
                        <use xlink:href="#icon-iconxinhaowuxinhao-copy-copy-copy1"></use>
                    </svg>
                    <span class="ccs-sdk-icon-title" id="`).concat(this.DOM_PREFIX,`delay">\u94FE\u63A5</span>
                </span>
                <button id="`).concat(this.DOM_PREFIX,`main" class="ccs-sdk-button ccs-sdk-main">
                    <span class="ccs-sdk-state" id="`).concat(this.DOM_PREFIX,`state">\u72B6\u6001: </span>
                    <span id="`).concat(this.DOM_PREFIX,`stateTime"></span>
                    <div id="`).concat(this.DOM_PREFIX,`main-bubble" class="ccs-sdk-bubble">
                        <p id="`).concat(this.DOM_PREFIX,`idle" style="color: #409eff">\u7A7A\u95F2</p>
                        <p id="`).concat(this.DOM_PREFIX,`busy" style="color: #e5d011">\u5FD9\u788C</p>
                        <div id="`).concat(this.DOM_PREFIX,`main-bubble-busy-type" class="ccs-sdk-busy-bubble"></div>
                    </div>
                </button>
                <button class="ccs-sdk-button ccs-sdk-fl" style="margin-left: 5px" id="`).concat(this.DOM_PREFIX,`login">
                    <span class="ccs-sdk-icon icon-denglu">
                        <span class="ccs-sdk-icon-title">\u767B\u5F55</span>
                    </span>
                </button>
                <button class="ccs-sdk-button ccs-sdk-fl" style="margin-left: 5px" id="`).concat(this.DOM_PREFIX,`connect">
                    <span class="ccs-sdk-icon icon-lianjie">
                        <span class="ccs-sdk-icon-title">\u94FE\u63A5</span>
                    </span>
                </button>
                <div id="`).concat(this.DOM_PREFIX,`call-bar" class="ccs-sdk-call-bar ccs-sdk-clearfix">
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`call-panel">
                        <span class="ccs-sdk-icon icon-waihu">
                            <span class="ccs-sdk-icon-title">\u5916\u547C</span>
                        </span>
                        <div id="`).concat(this.DOM_PREFIX,`callPanel" class="ccs-sdk-call-panel ccs-sdk-bubble ccs-sdk-mt5">
                            <div class="ccs-sdk-call-type">
                                <span>\u547C\u53EB\u7C7B\u578B:</span>
                                <span>\u5916\u7EBF: <input type="radio" name="callType" id="`).concat(this.DOM_PREFIX,`outside" checked></span>
                                <span>\u5EA7\u5E2D: <input type="radio" name="callType" id="`).concat(this.DOM_PREFIX,`agent"></span>
                            </div>
                            <div>
                                <input type="text" id="`).concat(this.DOM_PREFIX,`called" placeholder="\u8BF7\u8F93\u5165\u88AB\u53EB\u53F7\u7801" class="ccs-sdk-input">
                                <span class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`call">\u547C\u53EB</span>
                            </div>
                        </div>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`autoAnswer">
                        <span class="ccs-sdk-icon icon-zidongyingda">
                            <span class="ccs-sdk-icon-title">\u81EA\u52A8\u5E94\u7B54</span>
                        </span>
                    </button>
                    <div id="`).concat(this.DOM_PREFIX,`monitor-box" class="ccs-sdk-call-panel-box">
                        <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`monitor">\u73ED\u957F\u9762\u677F</button>

                        <div id="`).concat(this.DOM_PREFIX,`monitorAgents" class="ccs-sdk-agents ccs-sdk-bubble">
                            <div class="ccs-sdk-clearfix">
                                <input id="`).concat(this.DOM_PREFIX,`agentMonitorKeyword" class="ccs-sdk-input ccs-sdk-fl" placeholder="\u641C\u7D22\u5728\u7EBF\u5EA7\u5E2D" />
                                <button id="`).concat(this.DOM_PREFIX,`searchMonitorAgent" class="ccs-sdk-button ccs-sdk-fl">
                                    <span class="ccs-sdk-icon icon-sousuo">
                                        <span class="ccs-sdk-icon-title">\u641C\u7D22</span>
                                    </span>
                                </button>
                            </div>
                            <ul id="`).concat(this.DOM_PREFIX,`agentMonitorList"></ul>
                            <div style="margin: 10px 0px 0px 0px;text-align: center;">
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceIdle">\u5F3A\u5236\u7A7A\u95F2</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceBusy">\u5F3A\u5236\u5FD9\u788C</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`listen">\u76D1\u542C\u901A\u8BDD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceInsert">\u63D2\u5165\u901A\u8BDD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceBreak">\u5F3A\u5236\u6302\u65AD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`intercept">\u5F3A\u5236\u62E6\u622A</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceLogout">\u5F3A\u5236\u767B\u51FA</button>
                            </div>
                        </div>
                        
                        <!-- <div id="`).concat(this.DOM_PREFIX,`monitorPanel" class="ccs-sdk-monitor-panel ccs-sdk-bubble ccs-sdk-mt5" style="display: none;">
                            <div class="ccs-sdk-monitor-row ccs-sdk-transfer-btn">
                                <span>\u5728\u7EBF\u5EA7\u5E2D:</span>
                                <select id="`).concat(this.DOM_PREFIX,`onlineAgent" placeholder="\u5F53\u524D\u6280\u80FD\u7EC4\u6CA1\u6709\u5728\u7EBF\u5EA7\u5E2D" class="ccs-sdk-input">
                                    <option value="" label="\u5F53\u524D\u6280\u80FD\u7EC4\u6CA1\u6709\u5728\u7EBF\u5EA7\u5E2D" />
                                </select>
                            </div>
                            <div class="ccs-sdk-monitor-btns">
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceIdle">\u5F3A\u5236\u7A7A\u95F2</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceBusy">\u5F3A\u5236\u5FD9\u788C</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`listen">\u76D1\u542C\u901A\u8BDD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceInsert">\u63D2\u5165\u901A\u8BDD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceBreak">\u5F3A\u5236\u6302\u65AD</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`intercept">\u5F3A\u5236\u62E6\u622A</button>
                                <button class="ccs-sdk-button ccs-sdk-monitor" id="`).concat(this.DOM_PREFIX,`forceLogout">\u5F3A\u5236\u767B\u51FA</button>
                            </div>
                        </div> -->
                    </div>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`queue-info">
                        <span class="ccs-sdk-icon icon-huiyi">
                            <span class="ccs-sdk-icon-title">\u6392\u961F\u4EBA\u6570</span>
                        </span>
                        <span id="`).concat(this.DOM_PREFIX,`queue-number">0</span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`group-info">
                        <!-- <span class="ccs-sdk-icon icon-waihu">
                            <span class="ccs-sdk-icon-title"></span>
                        </span> -->
                        \u5F52\u5C5E\u6280\u80FD\u7EC4
                        <div id="`).concat(this.DOM_PREFIX,`groupInfoList" class="ccs-sdk-group-info-panel ccs-sdk-bubble ccs-sdk-mt5" style="display: none;"></div>
                    </button>
                </div>
                <div id="`).concat(this.DOM_PREFIX,`callin-bar" class="ccs-sdk-callin-bar ccs-sdk-clearfix">
                    <span class="ccs-sdk-caller" id="`).concat(this.DOM_PREFIX,`caller-info">\u5BF9\u65B9: \u672A\u77E5</span>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`answer">
                        <span class="ccs-sdk-icon icon-icon-F-jieting">
                            <span class="ccs-sdk-icon-title">\u5E94\u7B54</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consultCancel">
                        <span class="ccs-sdk-icon icon-daohanglan-quxiaozixun">
                            <span class="ccs-sdk-icon-title">\u53D6\u6D88\u54A8\u8BE2</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transferCancel">
                        <span class="ccs-sdk-icon icon-daohanglan-quxiaozixun">
                            <span class="ccs-sdk-icon-title">\u53D6\u6D88\u8F6C\u63A5</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button ccs-sdk-red" id="`).concat(this.DOM_PREFIX,`hangup">
                        <span class="ccs-sdk-icon icon-guaduan">
                            <span class="ccs-sdk-icon-title">\u6302\u65AD</span>
                        </span>
                    </button>
                </div>
                <div id="`).concat(this.DOM_PREFIX,`conversation-bar" class="ccs-sdk-conversation-bar ccs-sdk-clearfix">
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transfer">
                        <span class="ccs-sdk-icon icon-zixunzhuanjie">
                            <span class="ccs-sdk-icon-title">\u8F6C\u63A5</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consult">
                        <span class="ccs-sdk-icon icon-zixun">
                            <span class="ccs-sdk-icon-title">\u54A8\u8BE2</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`outline">
                        <span class="ccs-sdk-icon icon-yidongdianhua">
                            <span class="ccs-sdk-icon-title">\u5916\u7EBF</span>
                        </span>
                        <div id="`).concat(this.DOM_PREFIX,`outlinePanel" class="ccs-sdk-call-panel ccs-sdk-bubble ccs-sdk-mt5" style="width: 235px; left: -200px">
                            <div>
                                <input type="text" id="`).concat(this.DOM_PREFIX,`outlineTarget" placeholder="\u8BF7\u8F93\u5165\u5916\u7EBF\u53F7\u7801" class="ccs-sdk-input">
                                <span class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`outlineTransfer">\u8F6C\u63A5</span>
                                <span class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`outlineConsult">\u54A8\u8BE2</span>
                            </div>
                        </div>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consultCancel1">
                        <span class="ccs-sdk-icon icon-daohanglan-quxiaozixun">
                            <span class="ccs-sdk-icon-title">\u53D6\u6D88\u54A8\u8BE2</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consultTransfer">
                        <span class="ccs-sdk-icon icon-zixunzhuanjie">
                            <span class="ccs-sdk-icon-title">\u54A8\u8BE2\u8F6C\u63A5</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`tripartiteCall">
                        <span class="ccs-sdk-icon icon-huiyi">
                            <span class="ccs-sdk-icon-title">\u4E09\u65B9\u901A\u8BDD</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`hold">
                        <span class="ccs-sdk-icon icon-keepHold-baochi">
                            <span class="ccs-sdk-icon-title">\u4FDD\u6301</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`unHold">
                        <span class="ccs-sdk-icon icon-huifutonghuazhuanhuan-copy">
                            <span class="ccs-sdk-icon-title">\u53D6\u6D88\u4FDD\u6301</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`mute">
                        <span class="ccs-sdk-icon icon-jingyin">
                            <span class="ccs-sdk-icon-title">\u9759\u97F3</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`unMute">
                        <span class="ccs-sdk-icon icon-fangyin">
                            <span class="ccs-sdk-icon-title">\u53D6\u6D88\u9759\u97F3</span>
                        </span>
                    </button>
                    <button class="ccs-sdk-button ccs-sdk-red" id="`).concat(this.DOM_PREFIX,`hangup1">
                        <span class="ccs-sdk-icon icon-guaduan">
                            <span class="ccs-sdk-icon-title">\u6302\u65AD</span>
                        </span>
                    </button>
                    <div id="`).concat(this.DOM_PREFIX,`groups" class="ccs-sdk-groups ccs-sdk-bubble">
                        <div class="ccs-sdk-clearfix">
                            <input id="`).concat(this.DOM_PREFIX,`groupKeyword" class="ccs-sdk-input ccs-sdk-fl" placeholder="\u641C\u7D22\u6280\u80FD\u7EC4" />
                            <button id="`).concat(this.DOM_PREFIX,`searchGroup" class="ccs-sdk-button ccs-sdk-fl">
                                <span class="ccs-sdk-icon icon-sousuo">
                                    <span class="ccs-sdk-icon-title">\u641C\u7D22</span>
                                </span>
                            </button>
                        </div>
                        <ul id="`).concat(this.DOM_PREFIX,`groupList"></ul>
                        <div style="margin: 10px 0px 0px 0px;text-align: center;">
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transferCallGroupFast">
                                <!-- <span class="ccs-sdk-icon icon-zhuanjie">
                                    <span class="ccs-sdk-icon-title" style="width: 80px">\u8F6C\u63A5\u6280\u80FD\u7EC4</span>
                                </span> -->
                                \u76F4\u63A5\u8F6C\u63A5
                            </button>
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transferCallGroup">\u54A8\u8BE2\u8F6C\u63A5</button>
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consultCallGroup">
                                <!-- <span class="ccs-sdk-icon icon-kefuzhuanjie-copy">
                                    <span class="ccs-sdk-icon-title" style="width: 80px">\u54A8\u8BE2\u6280\u80FD\u7EC4</span>
                                </span> -->
                                \u54A8\u8BE2\u6280\u80FD\u7EC4
                            </button>
                        </div>
                    </div>
                    <div id="`).concat(this.DOM_PREFIX,`agents" class="ccs-sdk-agents ccs-sdk-bubble">
                        <div class="ccs-sdk-clearfix">
                            <input id="`).concat(this.DOM_PREFIX,`agentKeyword" class="ccs-sdk-input ccs-sdk-fl" placeholder="\u641C\u7D22\u7A7A\u95F2\u5EA7\u5E2D" />
                            <button id="`).concat(this.DOM_PREFIX,`searchAgent" class="ccs-sdk-button ccs-sdk-fl">
                                <span class="ccs-sdk-icon icon-sousuo">
                                    <span class="ccs-sdk-icon-title">\u641C\u7D22</span>
                                </span>
                            </button>
                        </div>
                        <ul id="`).concat(this.DOM_PREFIX,`agentList"></ul>
                        <div style="margin: 10px 0px 0px 0px;text-align: center;">
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transferCallAgentFast">
                                <!-- <span class="ccs-sdk-icon icon-huihuazhuanjie">
                                    <span class="ccs-sdk-icon-title">\u8F6C\u63A5\u5EA7\u5E2D</span>
                                </span> -->
                                \u76F4\u63A5\u8F6C\u63A5
                            </button>
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`transferCallAgent">\u54A8\u8BE2\u8F6C\u63A5</button>
                            <button class="ccs-sdk-button" id="`).concat(this.DOM_PREFIX,`consultCallAgent">
                                <!-- <span class="ccs-sdk-icon icon-zixun">
                                    <span class="ccs-sdk-icon-title">\u54A8\u8BE2\u5EA7\u5E2D</span>
                                </span> -->
                                \u54A8\u8BE2\u5EA7\u5E2D
                            </button>
                        </div>
                    </div>
                </div>
            </div>`)},l.prototype.removeEvent=function(){document.removeEventListener("click",this.documentEvent,!1)},l.prototype.bindEvent=function(){var n=this;document.addEventListener("click",this.documentEvent,!1),this.addEventListener("main","click",(function(){n.sdk.isLogin()&&!n.conversationTimeStart&&n.show("main-bubble")})),this.addEventListener("main","blur",(function(){n.hide("main-bubble")})),this.addEventListener("main-bubble-busy-type","click",(function(t){var o=t.target;if(o&&o.nodeName=="P"&&o.id){var p=o.id.replace(n.DOM_PREFIX,"");n.sdk.busy(p)}})),this.addEventListener("answer","click",(function(){k.info("\u624B\u52A8\u5E94\u7B54"),n.sdk.softPhoneInstance&&n.sdk.softPhoneInstance.answer()})),this.addEventListener("hangup","click",(function(){n.sdk.hangup()})),this.addEventListener("hangup1","click",(function(){n.sdk.hangup()})),this.addEventListener("call-panel","click",(function(){n.show("callPanel")})),this.addEventListener("outline","click",(function(){n.show("outlinePanel")})),this.addEventListener("searchGroup","click",(function(){n.filterElementsByKeyword("groupKeyword","groupList")})),this.addEventListener("groupKeyword","input",(function(){var t=n.getElement("groupKeyword").value,o=n.getElement("groupList").children;if(!t)for(var p=0;p<o.length;p++)n.show(o[p])})),this.addEventListener("groupList","click",(function(t){var o=t.target;if(o.nodeName=="LI"){var p=n.getElement("groupList").children;if(p)for(var V=0;V<p.length;V++)n.removeClassName(p[V],"active");n.addClassName(o,"active"),n.currentGroupId=o.id,clearTimeout(n.idleAgentTimeStart),n.startIdleAgentInterval(2e3),n.show("agents")}})),this.addEventListener("searchAgent","click",(function(){n.filterElementsByKeyword("agentKeyword","agentList")})),this.addEventListener("agentKeyword","input",(function(){var t=n.getElement("agentKeyword").value,o=n.getElement("agentList").children;if(!t)for(var p=0;p<o.length;p++)n.show(o[p])})),this.addEventListener("searchMonitorAgent","click",(function(){n.filterElementsByKeyword("agentMonitorKeyword","agentMonitorList")})),this.addEventListener("agentMonitorKeyword","input",(function(){var t=n.getElement("agentMonitorKeyword").value,o=n.getElement("agentMonitorList").children;if(!t)for(var p=0;p<o.length;p++)n.show(o[p])})),this.addEventListener("agentMonitorList","click",(function(t){var o=t.target;if(o.nodeName=="LI"){var p=n.getElement("agentMonitorList").children;if(p)for(var V=0;V<p.length;V++)n.removeClassName(p[V],"active");n.addClassName(o,"active"),n.currentAgentNumber=o.id}})),this.addEventListener("agentList","click",(function(t){var o=t.target;if(o.nodeName=="LI"){var p=n.getElement("agentList").children;if(p)for(var V=0;V<p.length;V++)n.removeClassName(p[V],"active");n.addClassName(o,"active"),n.currentAgentNumber=o.id}})),this.addEventListener("connect","click",(function(){n.sdk.connect()})),this.addEventListener("login","click",(function(){n.sdk.login()})),this.addEventListener("idle","click",(function(){n.isDisabled("idle")||n.sdk.idle()})),this.addEventListener("busy","click",(function(){n.conversationTimeStart||n.isDisabled("busy")||n.sdk.busy()})),this.addEventListener("logout","click",(function(){n.isDisabled("logout")||n.sdk.logout()})),this.addEventListener("group-info","click",(function(){n.isDisabled("group-info")||n.show("groupInfoList")})),this.addEventListener("monitor","click",(function(){n.isDisabled("monitor")||(n.show("monitorAgents"),n.sdk.onPrivateEventCallback(n.sdk.surveillance(),(function(t){n.updateOnlineAgent(t.data),n.filterElementsByKeyword("agentMonitorKeyword","agentMonitorList")})))})),this.addEventListener("autoAnswer","click",(function(){n.isActive("autoAnswer")?(n.unActive("autoAnswer"),n.sdk.softPhoneInstance&&n.sdk.softPhoneInstance.setAutoAnswer(!1)):(n.active("autoAnswer"),n.sdk.softPhoneInstance&&n.sdk.softPhoneInstance.setAutoAnswer(!0))})),this.addEventListener("transfer","click",(function(){n.removeClassName(n.getElement("groups"),"ccs-sdk-consult"),n.addClassName(n.getElement("groups"),"ccs-sdk-transfer"),n.removeClassName(n.getElement("agents"),"ccs-sdk-consult"),n.addClassName(n.getElement("agents"),"ccs-sdk-transfer"),n.show("groups"),n.updateGroupsAndIdleAgent()})),this.addEventListener("consult","click",(function(){n.removeClassName(n.getElement("groups"),"ccs-sdk-transfer"),n.addClassName(n.getElement("groups"),"ccs-sdk-consult"),n.removeClassName(n.getElement("agents"),"ccs-sdk-transfer"),n.addClassName(n.getElement("agents"),"ccs-sdk-consult"),n.show("groups"),n.updateGroupsAndIdleAgent()})),this.addEventListener("call","click",(function(){var t=n.getElement("outside").checked,o=n.getElement("agent").checked,p=n.getElement("called").value;if(!p)throw new b("\u8BF7\u8F93\u5165\u88AB\u53EB\u53F7\u7801",n.sdk.event);if(!t&&!o)throw new b("\u8BF7\u9009\u62E9\u547C\u53EB\u7C7B\u578B",n.sdk.event);var V=t?2:1;n.sdk.call(p,V),n.hide("callPanel")})),this.addEventListener("outlineTransfer","click",(function(){if(!n.isDisabled("outlineTransfer")){var t=n.getElement("outlineTarget").value;if(!t)throw new b("\u8BF7\u8F93\u5165\u8F6C\u63A5\u76EE\u6807\u53F7\u7801",n.sdk.event);n.sdk.transferCall(t,2)}})),this.addEventListener("outlineConsult","click",(function(){if(!n.isDisabled("outlineConsult")){var t=n.getElement("outlineTarget").value;if(!t)throw new b("\u8BF7\u8F93\u5165\u54A8\u8BE2\u76EE\u6807\u53F7\u7801",n.sdk.event);n.sdk.consultCall(t,2)}})),this.addEventListener("transferCallOut","click",(function(){if(!n.isDisabled("transferCallOut")){var t=n.getElement("transferTarget").value;if(!t)throw new b("\u8BF7\u8F93\u5165\u8F6C\u63A5\u76EE\u6807\u53F7\u7801",n.sdk.event);n.sdk.transferCall(t,2)}})),this.addEventListener("transferCallAgentFast","click",(function(){if(!n.isDisabled("transferCallAgent")){if(!n.currentAgentNumber)throw new b("\u8BF7\u9009\u62E9\u8F6C\u63A5\u76EE\u6807\u5EA7\u5E2D",n.sdk.event);n.sdk.transferCall(n.currentAgentNumber,1,0)}})),this.addEventListener("transferCallAgent","click",(function(){if(!n.isDisabled("transferCallAgent")){if(!n.currentAgentNumber)throw new b("\u8BF7\u9009\u62E9\u8F6C\u63A5\u76EE\u6807\u5EA7\u5E2D",n.sdk.event);n.sdk.transferCall(n.currentAgentNumber,1,1)}})),this.addEventListener("transferCallGroupFast","click",(function(){if(!n.isDisabled("transferCallGroup")){if(!n.currentGroupId)throw new b("\u8BF7\u9009\u62E9\u8F6C\u63A5\u76EE\u6807\u6280\u80FD\u7EC4",n.sdk.event);n.sdk.transferCall(n.currentGroupId,3,0)}})),this.addEventListener("transferCallGroup","click",(function(){if(!n.isDisabled("transferCallGroup")){if(!n.currentGroupId)throw new b("\u8BF7\u9009\u62E9\u8F6C\u63A5\u76EE\u6807\u6280\u80FD\u7EC4",n.sdk.event);n.sdk.transferCall(n.currentGroupId,3,1)}})),this.addEventListener("consultCallGroup","click",(function(){if(!n.isDisabled("consultCallGroup")){if(!n.currentGroupId)throw new b("\u8BF7\u9009\u62E9\u54A8\u8BE2\u76EE\u6807\u6280\u80FD\u7EC4",n.sdk.event);n.sdk.consultCall(n.currentGroupId,3)}})),this.addEventListener("consultCallAgent","click",(function(){if(!n.isDisabled("consultCallAgent")){if(!n.currentAgentNumber)throw new b("\u8BF7\u9009\u62E9\u54A8\u8BE2\u76EE\u6807\u5EA7\u5E2D",n.sdk.event);n.sdk.consultCall(n.currentAgentNumber,1)}})),this.addEventListener("consultTransfer","click",(function(){n.isDisabled("consultTransfer")||n.sdk.consultTransfer()})),this.addEventListener("tripartiteCall","click",(function(){n.isDisabled("tripartiteCall")||n.sdk.tripartiteCall()})),this.addEventListener("consultCancel1","click",(function(){n.isDisabled("consultCancel1")||n.sdk.consultCancel()})),this.addEventListener("consultCancel","click",(function(){n.isDisabled("consultCancel")||n.sdk.consultCancel()})),this.addEventListener("transferCancel","click",(function(){n.isDisabled("transferCancel")||n.sdk.transferCancel()})),this.addEventListener("listen","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");if(o[1]!=="Conversation")throw new b("\u53EA\u80FD\u64CD\u4F5C\u901A\u8BDD\u4E2D\u7684\u5EA7\u5E2D",n.sdk.event);n.sdk.listen(o[0])})),this.addEventListener("forceInsert","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");if(o[1]!=="Conversation")throw new b("\u53EA\u80FD\u64CD\u4F5C\u901A\u8BDD\u4E2D\u7684\u5EA7\u5E2D",n.sdk.event);n.sdk.forceInsert(o[0])})),this.addEventListener("forceLogout","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");n.sdk.onPrivateEventCallback(n.sdk.forceLogout(o[0]),(function(p){n.sdk.onPrivateEventCallback(n.sdk.surveillance(),(function(V){n.updateOnlineAgent(V.data)}))}))})),this.addEventListener("forceBreak","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");if(o[1]!=="Conversation")throw new b("\u53EA\u80FD\u64CD\u4F5C\u901A\u8BDD\u4E2D\u7684\u5EA7\u5E2D",n.sdk.event);n.sdk.forceBreak(o[0])})),this.addEventListener("intercept","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");if(o[1]!=="Conversation")throw new b("\u53EA\u80FD\u64CD\u4F5C\u901A\u8BDD\u4E2D\u7684\u5EA7\u5E2D",n.sdk.event);n.sdk.intercept(o[0])})),this.addEventListener("forceIdle","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");n.sdk.onPrivateEventCallback(n.sdk.forceIdle(o[0]),(function(p){n.sdk.onPrivateEventCallback(n.sdk.surveillance(),(function(V){n.updateOnlineAgent(V.data)}))}))})),this.addEventListener("forceBusy","click",(function(){var t=n.currentAgentNumber;if(!t)throw new b("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5EA7\u5E2D",n.sdk.event);var o=t.split("-");n.sdk.onPrivateEventCallback(n.sdk.forceBusy(o[0]),(function(p){n.sdk.onPrivateEventCallback(n.sdk.surveillance(),(function(V){n.updateOnlineAgent(V.data)}))}))})),this.addEventListener("hold","click",(function(){n.isDisabled("hold")||n.sdk.hold()})),this.addEventListener("unHold","click",(function(){n.isDisabled("unHold")||n.sdk.unHold()})),this.addEventListener("mute","click",(function(){n.isDisabled("mute")||n.sdk.mute()})),this.addEventListener("unMute","click",(function(){n.isDisabled("unMute")||n.sdk.unMute()}))},l.prototype.startOnlineAgent=function(n){var t=this;this.sdk.onPrivateEventCallback(this.sdk.surveillance(),(function(o){t.updateOnlineAgent(o.data)})),this.onlineTimerStart=window.setTimeout((function(){t.startOnlineAgent(n)}),n)},l.prototype.destroy=function(){clearTimeout(this.stateTimer),this.container&&this.container.remove(),this.container=null,this.removeEvent()},l.prototype.changeStyle=function(n){this.style=n},l.prototype.addEventListener=function(n,t,o){var p=typeof n=="string"?this.getElement(n):n;p&&p.addEventListener(t,o,!1)},l.prototype.createIcon=function(){var n=document.createElement("style");return n.innerHTML=D[1],n},l.prototype.createStyle=function(){var n=document.createElement("style");return n.innerHTML=v[1],n},l.prototype.createHtml=function(){var n=document.createElement("div");return n.className="ccs-sdk-container",n.innerHTML=this.getDomTreeTemplate(),n},l.prototype.updateDelay=function(n){if(n<1e3)this.getElement("delay").innerText=n+"ms";else{var t=parseInt(n/1e3);this.getElement("delay").innerText=t+"\u79D2",t>60&&(this.getElement("delay").innerText=">1\u5206\u949F")}n<30?this.updateDelayIcon(4):n<60?this.updateDelayIcon(3):n<120?this.updateDelayIcon(2):this.updateDelayIcon(1)},l.prototype.updateDelayIcon=function(n){n===void 0&&(n=0);for(var t=0;t<5;t++)this.hide(this.getElement("signal-"+t));this.show(this.getElement("signal-"+n))},l.prototype.updateSoftPhoneStatus=function(n){n=="\u5728\u7EBF"?(this.show("autoAnswer"),this.show("answer")):(this.hide("autoAnswer"),this.hide("answer"))},l.prototype.updateState=function(n,t){if(this.state!=n||n=="Busy"&&t.data&&this.getElement("state").innerText!=(t.data.currentBusyType||this.statusText[n])){var o=this.statusText[n]||n;this.state=n,this.stateTimeStart=new Date().getTime(),t&&t.data&&(t.data&&t.data.code==-1001&&(o="\u8BDD\u673A\u6CE8\u9500"),n=="Busy"&&t.data.currentBusyType&&(o=t.data.currentBusyType),t.data.callType&&t.event!="After"&&(o={transfer:"\u8F6C\u63A5\u4E2D",consult:"\u54A8\u8BE2\u4E2D",listen:"\u76D1\u542C\u4E2D",forceInsert:"\u5F3A\u63D2\u4E2D",intercept:"\u62E6\u622A\u4E2D"}[t.data.callType]||o)),this.getElement("state").innerHTML=o}else k.info("\u76F8\u540C\u72B6\u6001: "+n);this.updateStateUI(n,t),this.stateTimer||n==="closed"?n==="closed"&&this.closeStateTimeing():this.stateTimeing()},l.prototype.updateStateUI=function(n,t){var o=null;switch(t&&(o=t.data?t.data.callType:""),this.hideAll(),n){case"disconnect":case"closed":this.addClassName(this.getElement("main"),"ccs-sdk-offline"),this.show("connect"),this.updateQueueNumInfo(0);break;case"connected":this.show("login");break;case"Login":this.show("main-bubble");break;case"Kick":case"Logout":this.show("login"),this.isTripartiteTalking=!1,this.conversationTimeStart=0,this.updateQueueNumInfo(0);break;case"Busy":this.show("call-bar"),this.addClassName(this.getElement("main"),"ccs-sdk-busy");break;case"Idle":this.show("call-bar");break;case"AgentRinging":this.sdk.store.sdkOption.loginType==3&&this.show("answer");case"AgentOriginate":t&&t.data?this.updateCallerInfo(t.data.caller):this.updateCallerInfo("\u672A\u77E5");case"MakeCall":case"AgentAnswer":case"CalledRinging":case"Intercept":case"Intercepting":case"TransferCall":case"TransferCalling":case"ConsultCall":case"ConsultCalling":case"CalledAnswer":this.show("callin-bar"),this.conversationTimeStart=new Date().getTime(),o!="consult"&&n!="ConsultCalling"||this.show("consultCancel"),o!="transfer"&&n!="TransferCalling"||this.show("transferCancel");break;case"TripartiteTalking":this.isTripartiteTalking=!0,this.conversationTimeStart=new Date().getTime(),this.show(["conversation-bar","mute"]);break;case"InterceptFail":case"TransferCallFail":case"ConsultCallFail":case"ConsultCancel":case"TransferCancel":case"Conversation":this.conversationTimeStart=new Date().getTime(),this.show(["conversation-bar","consult","transfer","outline","hold","mute"]),o=="consult"?(this.show(["consultCancel1","tripartiteCall","consultTransfer"]),this.hide(["consult","transfer","outline","hold"])):o=="consulted"&&this.hide(["consult","transfer","outline","hold"]);break;case"Hold":this.show(["conversation-bar","unHold"]);break;case"UnHold":this.show(["conversation-bar","consult","transfer","outline","hold","mute"]);break;case"Mute":this.show(["conversation-bar","unMute"]);break;case"Unmute":this.show(["conversation-bar","consult","transfer","outline","mute","hold"]),o=="consult"?(this.show(["consultCancel1","tripartiteCall","consultTransfer"]),this.hide(["consult","transfer","outline","hold"])):o=="consulted"&&this.hide(["consult","transfer","outline","hold"]);break;case"MakeCallFail":case"After":case"CancelCall":this.isTripartiteTalking=!1,this.conversationTimeStart=0,clearTimeout(this.idleAgentTimeStart),this.updateCallerInfo("")}this.isTripartiteTalking&&this.hide(["outline","transfer","consult","hold"]),this.sdk.store.agentType?this.show(["monitor"]):this.hide(["monitor"]),this.sdk.store.agentMakeCall==0?this.hide(["call-panel"]):n!="Busy"&&n!="Idle"||this.show(["call-panel"])},l.prototype.updateCallerInfo=function(n){this.sdk.store.sdkOption.phoneEncryption&&(n=this.encryption(n)),this.getElement("caller-info").innerHTML="\u5BF9\u65B9: "+n},l.prototype.updateGroupInfo=function(n){var t=this;n.groupList.length>0?this.getElement("groupList").innerHTML=n.groupList.map((function(o){return'<li id="'.concat(o.id,'" class="').concat(t.currentGroupId==o.id?"active":"",'">').concat(o.name||"","</li>")})).join(""):this.getElement("groupList").innerHTML='<span class="ccs-sdk-no-data">\u6682\u65E0\u6280\u80FD\u7EC4\u4FE1\u606F</span>'},l.prototype.updateGroupMasterInfo=function(n){var t="";if(n&&n.length>0){t+='<div style="margin-top: 0px">\u4E3B\u6280\u80FD\u7EC4</div>';var o=n.find((function(V){return V.isMaster}));t+=o?'<p class="master" title="'.concat(o.name,'">').concat(o.name,"</p>"):"<p>\u65E0\u4E3B\u6280\u80FD\u7EC4</p>";var p=n.filter((function(V){return!V.isMaster}));p.length>0&&(t+="<div>\u5F52\u5C5E\u6280\u80FD\u7EC4</div>",t+=p.map((function(V){return'<p title="'.concat(V.name,'">').concat(V.name,"</p>")})).join(""))}else t+="<div>\u6682\u65E0\u6280\u80FD\u7EC4\u5F52\u5C5E</div>";this.getElement("groupInfoList").innerHTML=t},l.prototype.updateIdleAgent=function(n){var t=this;if(n.agentList.length>0){var o="";this.getElement("agentList").innerHTML=n.agentList.map((function(p){var V="";return t.currentAgentNumber==p.agentNumber&&(o=p.agentNumber,V="active"),'<li id="'.concat(p.agentNumber||"",'" class="').concat(V,'">').concat(p.agentName||"","</li>")})).join(""),this.currentAgentNumber=o}else this.currentAgentNumber="",this.getElement("agentList").innerHTML='<span class="ccs-sdk-no-data">\u5F53\u524D\u6280\u80FD\u7EC4\u6CA1\u6709\u7A7A\u95F2\u5EA7\u5E2D</span>'},l.prototype.updateBusyType=function(n){var t=this;if(n){this.busyType=n;var o=n.split(",");o.length>0&&(this.getElement("main-bubble-busy-type").innerHTML=o.map((function(p){return'<p id="'.concat(t.DOM_PREFIX+p,'">').concat(p,"</p>")})).join(""))}},l.prototype.updateOnlineAgent=function(n){var t=this;if(n.agentList.length>0){var o="";this.getElement("agentMonitorList").innerHTML=n.agentList.map((function(p){var V="";return t.currentAgentNumber==p.agentNumber+"-"+p.nowState&&(o=p.agentNumber,V="active"),'<li id="'.concat(p.agentNumber||"","-").concat(p.nowState||"",'" class="').concat(V,'">').concat(p.agentName||""," - ").concat(t.statusText[p.nowState],"</li>")})).join(""),this.currentAgentNumber=o}else this.currentAgentNumber="",this.getElement("agentMonitorList").innerHTML='<span class="ccs-sdk-no-data">\u5F53\u524D\u6280\u80FD\u7EC4\u6CA1\u6709\u5728\u7EBF\u5EA7\u5E2D</span>'},l.prototype.updateGroupsAndIdleAgent=function(){var n=this;this.sdk.onPrivateEventCallback(this.sdk.getGroups(),(function(t){n.updateGroupInfo(t.data),n.filterElementsByKeyword("groupKeyword","groupList")}))},l.prototype.updateQueueNumInfo=function(n){this.queueTimerStart&&window.clearTimeout(this.queueTimerStart),n==0?this.hide("queue-info"):(this.show("queue-info"),this.startQueueInterval(3e3))},l.prototype.updateQueueNumber=function(n){this.getElement("queue-number").innerText=n.toString()},l.prototype.startQueueInterval=function(n){var t=this;this.sdk.onPrivateEventCallback(this.sdk.getQueueInfo(),(function(o){t.updateQueueNumber(o.data.groupQueueNum)}),!0),this.queueTimerStart=window.setTimeout((function(){t.startQueueInterval(n)}),n)},l.prototype.startIdleAgentInterval=function(n,t){var o=this,p=t||this.currentGroupId;this.sdk.onPrivateEventCallback(this.sdk.getIdleAgentByGroupId(p),(function(V){o.updateIdleAgent(V.data),o.filterElementsByKeyword("agentKeyword","agentList")})),this.idleAgentTimeStart=window.setTimeout((function(){o.startIdleAgentInterval(n,p)}),n)},l.prototype.updateUsername=function(n){},l.prototype.updateStateTime=function(n){this.getElement("stateTime").innerHTML=this.timeFormat(n)},l.prototype.stateTimeing=function(){var n,t=this,o=new Date().getTime();n=this.conversationTimeStart?o-this.conversationTimeStart:o-this.stateTimeStart,this.updateStateTime(n),this.stateTimer=window.setTimeout((function(){t.stateTimeing()}),1e3)},l.prototype.getElement=function(n){if(this.domMap[this.DOM_PREFIX+n])return this.domMap[this.DOM_PREFIX+n];var t=this.container.querySelector("#"+this.DOM_PREFIX+n);return t?(this.domMap[this.DOM_PREFIX+n]=t,t):null},l.prototype.active=function(n){var t=this;return this.mapElement(n,(function(o){t.addClassName(o,"ccs-sdk-active")}))},l.prototype.isActive=function(n){var t=typeof n=="string"?this.getElement(n):n;return this.hasClassName(t,"ccs-sdk-active")},l.prototype.unActive=function(n){var t=this;return this.mapElement(n,(function(o){t.removeClassName(o,"ccs-sdk-active")}))},l.prototype.isHide=function(n){return(typeof n=="string"?this.getElement(n):n).style.display=="none"},l.prototype.hide=function(n,t){return t===void 0&&(t=!1),this.mapElement(n,(function(o){o&&(t?o.style.visibility="hidden":o.style.display="none")}))},l.prototype.isContain=function(n,t){var o=this.getElement(n);return o==t||!(!o||!t)&&(t.parentNode==o||this.isContain(n,t.parentNode))},l.prototype.hideAll=function(){this.hide(["connect","selections","callPanel","main-bubble","conversationPanel","login","logout","hold","unHold","mute","unMute","call-bar","callin-bar","groups","agents","monitorAgents","conversation-bar","answer","consult","transfer","outline","outlinePanel","consultCancel","consultCancel1","transferCancel","tripartiteCall","consultTransfer"]),this.hide(["monitor"]),this.removeClassName(this.getElement("main"),"ccs-sdk-busy"),this.removeClassName(this.getElement("main"),"ccs-sdk-offline"),clearTimeout(this.idleAgentTimeStart)},l.prototype.show=function(n,t){return this.mapElement(n,(function(o){t?o.style.visibility="":o.style.display=""}))},l.prototype.disable=function(n){var t=this;return this.mapElement(n,(function(o){t.isDisabled(o)||t.addClassName(o,"ccs-sdk-disable")}))},l.prototype.unDisable=function(n){var t=this;return this.mapElement(n,(function(o){t.removeClassName(o,"ccs-sdk-disable")}))},l.prototype.isDisabled=function(n){return typeof n=="string"?this.hasClassName(this.getElement(n),"ccs-sdk-disable"):this.hasClassName(n,"ccs-sdk-disable")},l.prototype.addClassName=function(n,t){var o=n.className;o+=" "+t,n.className=o},l.prototype.removeClassName=function(n,t){var o=n.className;o=o.split(" ").filter((function(p){return p!=t})).join(" "),n.className=o},l.prototype.hasClassName=function(n,t){return n.className.indexOf(t)>-1},l.prototype.mapElement=function(n,t){try{if(Array.isArray(n))for(var o=0,p=n;o<p.length;o++){var V=p[o];typeof V=="string"?t&&t(this.getElement(V)):t&&t(V)}else typeof n=="string"?t&&t(this.getElement(n)):t&&t(n);return!0}catch(q){return console.error(q),!1}},l.prototype.timeFormat=function(n){var t=(n=n||0)/1e3,o=parseInt(t%60),p=parseInt(t/60),V=parseInt(p%60),q=parseInt(p/60);return this.toDub(q)+":"+this.toDub(V)+":"+this.toDub(o)},l.prototype.toDub=function(n){return n<10?"0"+n:n},l.prototype.encryption=function(n){return n.replace(/(\d{3})\d*(\d{4})/,"$1****$2")},l.prototype.closeStateTimeing=function(){clearTimeout(this.stateTimer),this.stateTimer=null,this.updateStateTime(0)},l.prototype.filterElementsByKeyword=function(n,t){var o=this.getElement(n).value,p=this.getElement(t).children;if(o)for(var V=0;V<p.length;V++){var q=p[V];q.innerHTML.indexOf(o)>-1?this.show(q):this.hide(q)}else for(V=0;V<p.length;V++)this.show(p[V])},l})(),I=(function(){function l(n){var t=this;this.reconnectCount=0,this.notUIEvent=["GroupQueueNum","Surveillance"],this.open=function(o){clearTimeout(t.sdk.store.connectTimer),t.sdk.store.currentReconnect=0,t.dispatchStateChange("connected"),t.sdk.store.hasToken()?t.sdk.reconnect():t.sdk.login(),t.sdk.off("Message",t.message),t.sdk.off("Close",t.close),t.sdk.off("Error",t.error),t.sdk.off("Disconnect",t.disconnect),console.log("open \u5F00\u59CB\u7ED1\u5B9A\u4E8B\u4EF6"),t.sdk.on("Message",t.message),t.sdk.on("Close",t.close),t.sdk.on("Error",t.error),t.sdk.on("Disconnect",t.disconnect)},this.close=function(o){t.dispatchStateChange("closed"),t.sdk.surveillanceEnd(),t.sdk.stopHeartbead(),t.sdk.executeUI("updateDelayIcon"),t.stopAgentAutoIdleTimer(),t.sdk.store.isLogin=!1,t.sdk.store.hasToken()&&t.sdk.store.currentReconnect<t.sdk.store.sdkOption.maxReconnect?(t.reconnect(),t.sdk.store.connectTimer=window.setTimeout((function(){t.reconnect()}),t.sdk.store.AUTO_CONNECT_INTERVAL)):t.sdk.store.hasToken()?k.info("\u94FE\u63A5\u5DF2\u65AD\u5F00, \u5DF2\u8FBE\u5230\u6700\u5927\u91CD\u8FDE\u6B21\u6570, \u653E\u5F03\u91CD\u65B0\u8FDE\u63A5"):k.info("\u94FE\u63A5\u5DF2\u65AD\u5F00, \u672A\u68C0\u6D4B\u5230token, \u653E\u5F03\u91CD\u65B0\u8FDE\u63A5")},this.reconnect=function(){t.sdk.store.currentReconnect+=1,k.info("\u5C1D\u8BD5\u7B2C"+t.sdk.store.currentReconnect+"\u6B21\u91CD\u65B0\u8FDE\u63A5...","\u6700\u5927\u91CD\u8FDE\u6B21\u6570: ",t.sdk.store.sdkOption.maxReconnect),t.sdk.connect()},this.disconnect=function(){k.info("\u65AD\u5F00\u94FE\u63A5"),t.sdk.store.isLogin=!1,t.stopAgentAutoIdleTimer(),t.dispatchStateChange("disconnect"),t.sdk.executeUI("updateUsername","\u672A\u94FE\u63A5")},this.error=function(o){t.sdk.store.isLogin=!1,k.info("\u94FE\u63A5\u5931\u8D25",o)},this.message=function(o,p){if(o.type==="response"){if(o.sequence&&(t.sdk.commandTimeOut.cancel(o.sequence),t.sdk.executeUI("updateDelay",new Date().getTime()-o.sequence)),o.response=="heartbeat"&&(clearTimeout(t.pongTimer),t.pongTimer=window.setTimeout((function(){t.sdk.startHeartbeat()}),t.sdk.store.sdkOption.pingInterval)),o.status!=0)throw o.response=="makeCall"&&t.dispatchStateChange(t.sdk.store.state),o.response=="groupQueueNum"&&t.sdk.executeUI("updateQueueNumInfo",0),new b(o.msg||"\u64CD\u4F5C\u5F02\u5E38",t.sdk.event)}else if(o.type==="event"){try{o.event&&t[o.event]&&t[o.event](o)}catch(q){k.warning("\u4E8B\u4EF6\u6267\u884C\u5F02\u5E38: "+o.event,q)}if(o.nowState&&!t.notUIEvent.includes(o.event)&&t.dispatchStateChange(o.nowState,o),o.sequence){var V=t.sdk.store.privateEvent[o.sequence];V&&typeof V.callback=="function"?(V.callback(o),V.isPublic&&t.sdk.event.run(o.event,o,p),delete t.sdk.store.privateEvent[o.sequence]):t.sdk.event.run(o.event,o,p)}else t.sdk.event.run(o.event,o,p)}},this.sdk=n}return l.prototype.Reconnect=function(n){this.Login(n)},l.prototype.Login=function(n){this.sdk.store.token=n.data.token,this.sdk.store.isLogin=!0,this.sdk.store.agentType=n.data.agentType,this.sdk.store.groupIdList=n.data.groupIdList||[],this.sdk.store.webrtcDomain=n.data.webrtcDomain,this.sdk.store.registerSipIp=n.data.registerSipIp,this.sdk.store.webrtcSipId=n.data.webrtcSipId,this.sdk.store.webrtcSipPassword=n.data.webrtcSipPassword,this.sdk.store.agentMakeCall=n.data.agentMakeCall,this.sdk.store.groupMasterInfo=n.data.groupInfoList,this.sdk.store.queueNum=n.data.queueNum,this.sdk.store.setToken(n.data.token),this.sdk.stopHeartbead(),this.sdk.startHeartbeat(),this.sdk.executeUI("updateUsername",this.sdk.store.sdkOption.agentNumber),this.sdk.executeUI("updateBusyType",n.data.busyType),this.sdk.executeUI("updateGroupMasterInfo",n.data.groupInfoList),this.sdk.executeUI("updateQueueNumInfo",n.data.queueNum),this.sdk.store.sdkOption.loginType=n.data.loginType,this.sdk.executeUI("updateSoftPhoneStatus",{1:"SIP",2:"\u624B\u673A",3:"\u672A\u6307\u5B9A\u8BDD\u673A"}[n.data.loginType||1]),n.data.loginType==3&&this.sdk.register()},l.prototype.Logout=function(n){this.sdk.executeUI("updateUsername","\u672A\u767B\u5F55"),this.sdk.surveillanceEnd(),this.sdk.stopHeartbead(),this.stopAgentAutoIdleTimer(),this.sdk.store.isLogin=!1,n&&n.data.code==-1002||(this.sdk.store.deleteToken(),this.sdk.softPhoneInstance&&this.sdk.softPhoneInstance.isRegistered&&this.sdk.softPhoneInstance.stop())},l.prototype.dispatchStateChange=function(n,t){this.sdk.store.setState(n),this.sdk.executeUI("updateState",n,t),this.sdk.event.run("StateChange",n,t)},l.prototype.MakeCall=function(n){this.sdk.store.IS_CONVERSATION=!0},l.prototype.MakeCallFail=function(n){},l.prototype.SipError=function(n){},l.prototype.AgentAnswer=function(n){},l.prototype.AgentRinging=function(n){},l.prototype.CalledRinging=function(n){},l.prototype.CalledAnswer=function(n){},l.prototype.Conversation=function(n){},l.prototype.Idle=function(){this.stopAgentAutoIdleTimer()},l.prototype.Busy=function(){this.stopAgentAutoIdleTimer()},l.prototype.After=function(n){var t=this,o=n.data.agentAutoIdle,p=n.data.agentAutoIdleTime;this.sdk.autoAnswerUuid&&this.sdk.off("AgentRinging",this.sdk.autoAnswerUuid),o==1&&n.data.data!="\u8BDD\u673A\u6CE8\u9500"&&(this.stopAgentAutoIdleTimer(),this.agentAutoIdleTimer=window.setTimeout((function(){t.sdk.idle()}),1e3*p)),this.sdk.store.IS_CONVERSATION=!1},l.prototype.AgentUploadLog=function(){k.saveLog()},l.prototype.Kick=function(n){this.Logout()},l.prototype.GroupInfo=function(n){},l.prototype.QueueInfo=function(n){this.sdk.store.queueInfo[n.groupID]=n},l.prototype.Surveillance=function(n){},l.prototype.stopAgentAutoIdleTimer=function(){window.clearTimeout(this.agentAutoIdleTimer)},l})(),s=(function(){function l(){}return l.set=function(n,t,o){o===void 0&&(o=168),localStorage.setItem(n,t),document.cookie=o?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t),";expires=").concat(l.hoursToExpire(o)):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t))},l.get=function(n){var t=new RegExp("(^| )"+encodeURIComponent(n)+"=([^;]*)","gi"),o=document.cookie.match(t),p=o?o[0].split("=")[1]:"";return p?decodeURIComponent(p):localStorage.getItem(n)||""},l.delete=function(n){l.set(n,"",0)},l.getAll=function(){return{}},l.hoursToExpire=function(n){if(isNaN(parseInt(n)))return"";var t=new Date;return t.setTime(t.getTime()+60*parseInt(n)*60*1e3),t.toUTCString()},l})(),h=(function(){function l(n){this.version=N,this.debug=!1,this.state="closed",this.connectTimer=null,this.currentReconnect=0,this.AUTO_CONNECT_INTERVAL=1e4,this.IS_CONVERSATION=!1,this.agentGroups=[],this.queueInfo={},this.queueNum=0,this.webrtcDomain="",this.registerSipIp="",this.groupIdList=[],this.surveillanceLock=!1,this.surveillanceInterval=2e3,this.heartbeating=!1,this.privateEvent={},this.isLogin=!1,this.sdk=n}return l.prototype.setState=function(n){this.state=n},l.prototype.getState=function(){return this.state},l.prototype.setAgentGroups=function(n){this.agentGroups=n},l.prototype.setToken=function(n){n&&s.set("sdkToken_"+this.sdkOption.agentNumber,n)},l.prototype.getToken=function(){return s.get("sdkToken_"+this.sdkOption.agentNumber)},l.prototype.deleteToken=function(){s.delete("sdkToken_"+this.sdkOption.agentNumber)},l.prototype.hasToken=function(){return!!this.getToken()},l.prototype.generateRoutingKey=function(n){n===void 0&&(n=!1),this.getRoutingKey()&&!n||s.set("sdkRoutingKey_"+this.sdkOption.agentNumber,this.sdk.event.getUUID())},l.prototype.getRoutingKey=function(){return s.get("sdkRoutingKey_"+this.sdkOption.agentNumber)},l})(),u=function(l,n,t){if(t||arguments.length===2)for(var o,p=0,V=n.length;p<V;p++)!o&&p in n||(o||(o=Array.prototype.slice.call(n,0,p)),o[p]=n[p]);return l.concat(o||Array.prototype.slice.call(n))},a=(function(){function l(){this.event={}}return l.prototype.on=function(n,t){this.event[n]||(this.event[n]={});var o=this.getUUID();return this.event[n][o]=t,o},l.prototype.once=function(n,t){var o=this;this.event[n]||(this.event[n]={});var p=this.getUUID();return this.event[n][p]=function(V,q){t(V,q),o.off(n,p)},p},l.prototype.off=function(n,t){try{if(!this.event[n])return k.warning("\u672A\u627E\u5230\u6307\u5B9A\u4E8B\u4EF6\u540D\u79F0: ",n),!1;if(typeof t=="string"){if(!this.event[n][t])return k.warning("\u672A\u627E\u5230\u8981\u5220\u9664\u7684\u65B9\u6CD5"),!1;delete this.event[n][t]}else{var o=void 0;for(var p in this.event[n])t===this.event[n][p]&&(o=p);if(!o)return k.warning("\u672A\u627E\u5230\u8981\u5220\u9664\u7684\u65B9\u6CD5"),!1;delete this.event[n][o]}}catch(V){k.warning("EventEmit: \u4E8B\u4EF6\u5220\u9664\u5931\u8D25",V)}return!0},l.prototype.run=function(n,t){for(var o=[],p=2;p<arguments.length;p++)o[p-2]=arguments[p];if(n&&this.event[n])for(var V in this.event[n]){var q=this.event[n][V];q&&typeof q=="function"&&q.apply(void 0,u([t],o,!1))}else!n||this.event[n]&&Object.keys(this.event[n]).length!==0||k.warning("\u89E6\u53D1\u672A\u76D1\u542C\u4E8B\u4EF6: "+n+', \u8BF7\u5C1D\u8BD5: SDK.on("'+n+'", eventData => {...});');return this},l.prototype.clearEvent=function(n){return n?delete this.event[n]:this.event={},this},l.prototype.getEventCount=function(n){return Object.keys(this.event[n]).length},l.prototype.getUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var t=16*Math.random()|0;return(n==="x"?t:3&t|8).toString(16)}))},l})(),r=a,A=(function(){function l(n){this.watchMap={},this.sdk=n}return l.prototype.watch=function(n){var t=this,o=n.get("sequence"),p=this.sdk.store.sdkOption.timeout||5e3;return this.watchMap[o]=window.setTimeout((function(){if(delete t.watchMap[o],n.get("request")!="reconnect"){if(!t.sdk.isConnected())return k.warning("\u94FE\u63A5\u5DF2\u65AD\u5F00");throw t.sdk.executeUI("updateDelay",p),new b("\u6307\u4EE4\u54CD\u5E94\u8D85\u65F6: "+n.get("request"),t.sdk.event)}t.sdk.login()}),p),o},l.prototype.cancel=function(n){window.clearTimeout(this.watchMap[n]),delete this.watchMap[n]},l.prototype.clearAll=function(){for(var n in this.watchMap)this.cancel(n)},l})(),i=function(){return i=Object.assign||function(l){for(var n,t=1,o=arguments.length;t<o;t++)for(var p in n=arguments[t])Object.prototype.hasOwnProperty.call(n,p)&&(l[p]=n[p]);return l},i.apply(this,arguments)},e=(function(){function l(n){var t=this;this.event=null,this.store=null,this.receive=null,this.connect=function(o){if(t.isConnecting())return k.warning("\u6709\u4E00\u4E2A\u94FE\u63A5\u4E2D\u7684\u8BF7\u6C42, \u672C\u6B21\u8FDE\u63A5\u653E\u5F03");t.isConnected()?t.break((function(){return t.newConnect(o)})):t.newConnect(o)},this.newConnect=function(o){o&&(t.store.sdkOption=i(i({},t.store.sdkOption),o)),t.store.generateRoutingKey(),t.sws=new G(i({host:"",connectAccount:"",connectPassword:"",subscribePath:"/",routingKey:t.store.getRoutingKey()},t.store.sdkOption),t.event),t.sws.connect()},this.login=function(o){if(o&&(t.store.sdkOption.agentNumber!=o.agentNumber||t.store.sdkOption.companyShortName!=o.companyShortName||t.store.sdkOption.agentPassword!=o.agentPassword||t.store.sdkOption.loginType!=o.loginType))return t.break((function(){t.store.sdkOption.agentNumber=o.agentNumber,t.store.sdkOption.agentPassword=o.agentPassword,t.store.sdkOption.companyShortName=o.companyShortName,t.store.sdkOption.loginType=o.loginType,t.store.deleteToken(),t.newConnect()}));var p=t.store.sdkOption,V=p.agentNumber,q=p.agentPassword,E=p.companyShortName,C=p.loginType,w=new U("login");C=C||1,w.put("agentNumber",V),w.put("password",q),w.put("companyShortName",E),w.put("loginType",C),w.put("routingKey",t.store.getRoutingKey()),t.send(w),t.executeUI("updateUsername",V)},this.reconnect=function(){t.defaultCmd("reconnect")},this.logout=function(){if(t.isLogin())return t.defaultCmd("logout")},this.changeStyle=function(o){t.executeUI("changeStyle",o)},this.call=function(o,p,V,q,E){if(p===void 0&&(p=2),t.store.sdkOption.loginType==3&&!t.isRegistered())throw new b("\u5F53\u524D\u8BDD\u673A\u672A\u6CE8\u518C",t.event);if(!o)throw new b("\u88AB\u53EB\u4E0D\u80FD\u4E3A\u7A7A");o=o.replace(/\s+/g,"");var C=new U("makeCall");C.put("called",o),C.put("calledType",p),q&&C.put("callId",q),E&&C.put("contactId",E),V&&C.put("caller",V),t.autoAnswerUuid&&t.off("AgentRinging",t.autoAnswerUuid),t.autoAnswerUuid=t.once("AgentRinging",(function(){t.softPhoneInstance&&!t.softPhoneInstance.autoAnswer&&t.softPhoneInstance.answer()})),t.send(C)},this.hangup=function(){t.defaultCmd("cancelCall")},this.busy=function(o){var p=new U("busy");return o&&p.put("busyType",o),t.send(p)},this.idle=function(){if(t.store.sdkOption.loginType==3&&!t.isRegistered())throw new b("\u5F53\u524D\u8BDD\u673A\u672A\u6CE8\u518C",t.event);t.autoAnswerUuid&&t.off("AgentRinging",t.autoAnswerUuid),t.defaultCmd("idle")},this.mute=function(){t.defaultCmd("mute")},this.unMute=function(){t.defaultCmd("unmute")},this.hold=function(){t.defaultCmd("hold")},this.unHold=function(){t.defaultCmd("unHold")},this.transferCall=function(o,p,V){if(p===void 0&&(p=2),V===void 0&&(V=1),!o)throw new b("\u8F6C\u63A5\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");var q=new U("transferCall");q.put("transferType",p),q.put("transferId",o),q.put("transferMode",V),t.send(q)},this.transferCancel=function(){t.defaultCmd("transferCancel")},this.consultCall=function(o,p){if(!o)throw new b("\u54A8\u8BE2\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");var V=new U("consultCall");V.put("consultType",p),V.put("consultId",o),t.send(V)},this.consultCancel=function(){t.defaultCmd("consultCancel")},this.consultTransfer=function(){t.defaultCmd("consultTransfer")},this.tripartiteCall=function(){t.defaultCmd("tripartiteTalk")},this.surveillanceStart=function(o,p){p===void 0&&(p=2e3),t.store.surveillanceLock==0&&(t.store.surveillanceLock=!0,t.store.surveillanceInterval=p,t.surveillanceLoop(o))},this.surveillanceEnd=function(){t.store.surveillanceLock==1&&t.store.surveillanceTimer&&(clearTimeout(t.store.surveillanceTimer),t.store.surveillanceTimer=null,t.store.surveillanceLock=!1)},this.surveillanceLoop=function(o){if(t.store.surveillanceLock==1)try{t.surveillance(o),t.store.surveillanceTimer=window.setTimeout((function(){t.surveillanceLoop(o)}),t.store.surveillanceInterval)}catch(p){t.surveillanceEnd(),k.error("\u76D1\u63A7\u53D1\u9001\u5931\u8D25",p)}},this.surveillance=function(o){var p,V=new U("surveillance"),q=!1;if(o)for(var E in o)(o[E]||o[E]==0)&&(V.put(E,o[E]),q=!0);if(p=p||t.store.groupIdList[0]||"",q&&!p)throw new b("\u6307\u5B9A\u7B5B\u9009\u9879\u65F6, \u5FC5\u987B\u540C\u65F6\u6307\u5B9A\u6280\u80FD\u7EC4ID(groupId)");return p&&V.put("groupId",p),t.send(V)},this.forceIdle=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("forceIdle",o)},this.forceBusy=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("forceBusy",o)},this.forceLogout=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("forceLogout",o)},this.listen=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("listen",o)},this.intercept=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("intercept",o)},this.forceBreak=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("forceBreak",o)},this.forceInsert=function(o){if(!o)throw new b("\u64CD\u4F5C\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A");return t.defaultTargetCmd("forceInsert",o)},this.getVersion=function(){return t.store.version},this.setDebug=function(o){t.store.debug=o},this.getGroups=function(){return t.defaultCmd("groupInfo")},this.getFree=function(){},this.getStateByAgentNumber=function(){},this.getAutoGroups=function(){},this.getQueueInfo=function(){return t.defaultCmd("groupQueueNum")},this.defaultCmd=function(o){var p=new U(o);return t.send(p)},this.defaultTargetCmd=function(o,p){var V=new U(o);return V.put("beAgentNumber",p),t.send(V)},this.onPrivateEventCallback=function(o,p,V){V===void 0&&(V=!1),t.store.privateEvent[o]={callback:p,isPublic:V}},this.startHeartbeat=function(){t.store.heartbeating=!0,t.sendHeartbead()},this.stopHeartbead=function(){t.store.heartbeating&&(t.store.heartbeating=!1,clearTimeout(t.store.heartbeatTimer),clearTimeout(t.receive.pongTimer))},this.sendHeartbead=function(){if(!t.isLogin())throw new b("\u8BF7\u5148\u8FDB\u884C\u767B\u5F55",t.event);var o=new U("heartbeat");o.setToken(t.store.getToken()),t.sws.send(o)},this.event=new r,this.store=new h(this),this.receive=new I(this),this.commandTimeOut=new A(this),k.sdk=this,n&&(this.store.sdkOption=n,this.init(n))}return l.prototype.init=function(n){if(k.info("SDK\u5F00\u59CB\u521D\u59CB\u5316"),n=n||this.store.sdkOption,k.overrideConsoleLog(),!n)throw new b("\u9700\u8981\u4F20\u5165\u5FC5\u8981\u914D\u7F6E\u9879\u76EE");this.store.sdkOption=n;var t=this.store.sdkOption.pingInterval;this.store.sdkOption.pingInterval=t&&typeof t=="number"?t:1e4;var o=this.store.sdkOption.maxReconnect;this.store.sdkOption.maxReconnect=o&&typeof o=="number"?o:10,this.store.sdkOption.phoneEncryption=typeof this.store.sdkOption.phoneEncryption!="boolean"||this.store.sdkOption.phoneEncryption,this.executeUI("destroy"),this.event&&this.event.clearEvent(),this.connect(),this.bindDocumentEvent(),this.store.sdkOption.el&&(this.ui=new m(this.store.sdkOption.el,this),this.executeUI("updateUsername",this.store.sdkOption.agentNumber),this.executeUI("updateState","closed")),this.on("Open",this.receive.open)},l.prototype.bindDocumentEvent=function(){removeEventListener("beforeunload",this.documentBeforeunload),removeEventListener("visibilitychange",this.documentVisibilitychange),addEventListener("beforeunload",this.documentBeforeunload),addEventListener("visibilitychange",this.documentVisibilitychange)},l.prototype.documentBeforeunload=function(n){return k.info("\u5373\u5C06\u5173\u95ED\u9875\u9762",n),n.preventDefault(),n.returnValue=""},l.prototype.documentVisibilitychange=function(){document.visibilityState=="visible"?k.info("\u9875\u9762\u6FC0\u6D3B"):k.info("\u9875\u9762\u6302\u8D77")},l.prototype.on=function(n,t){return this.event.on(n,t)},l.prototype.once=function(n,t){return this.event.once(n,t)},l.prototype.off=function(n,t){return this.event.off(n,t)},l.prototype.getSoftPhoneInstance=function(){return this.softPhoneInstance},l.prototype.isConnected=function(){return!!this.sws&&this.sws.isConnected()},l.prototype.isConnecting=function(){return!!this.sws&&this.sws.isConnecting()},l.prototype.isConversation=function(){return this.store.IS_CONVERSATION},l.prototype.isLogin=function(){return!(!this.store.getToken()||!this.isConnected())},l.prototype.getLoginType=function(){return this.store.sdkOption.loginType},l.prototype.setUserdata=function(n){try{this.store.userdata=typeof n=="string"?n:n.toString()}catch{throw new b("userdata\u8F6C\u5316 JSON \u51FA\u9519, \u51FA\u9519\u6570\u636E: "+n)}},l.prototype.send=function(n){if(!this.isConnected())throw new b("\u8BF7\u5148\u5EFA\u7ACB\u94FE\u63A5",this.event);if(!n)throw new b("\u6307\u4EE4\u4E0D\u80FD\u4E3A\u7A7A",this.event);if(!(n instanceof U))throw new b("\u65E0\u6548\u7684\u6307\u4EE4\u7C7B\u578B",this.event);if(!this.isLogin()&&n.get("request")!=="login")throw this.executeUI("updateState","Logout"),this.receive.Logout(),new b("\u8BF7\u5148\u8FDB\u884C\u767B\u5F55",this.event);return this.store.userdata&&n.put("userdata",this.store.userdata),n.setToken(this.store.getToken()),n.header.version=this.getVersion(),this.commandTimeOut.watch(n),this.sws.send(n)},l.prototype.break=function(n){this.logout(),this.commandTimeOut.clearAll(),this.sws.kill(n),this.receive.Logout(),this.softPhoneInstance&&this.softPhoneInstance.stop()},l.prototype.getIdleAgentByGroupId=function(n){if(!n)throw new b("\u6280\u80FD\u7EC4id\u4E0D\u80FD\u4E3A\u7A7A");var t=new U("idleAgent");return t.put("groupId",n),this.send(t)},l.prototype.isRegistered=function(){return this.softPhoneInstance&&this.softPhoneInstance.isRegistered},l.prototype.register=function(){var n=this,t=this.store.sdkOption.softPhoneFactory||window.SoftPhoneSdk;if(typeof t=="function"&&this.store.sdkOption.loginType==3){this.isRegistered()&&this.softPhoneInstance.stop(),this.executeUI("updateSoftPhoneStatus","\u672A\u6CE8\u518C"),this.executeUI("hide","autoAnswer"),this.executeUI("hide","answer");var o;o=window.config?window.config.SOFTPHONE_WSS_PROT:window.SOFTPHONE_WSS_PROT;try{this.softPhoneInstance=new t({wss:this.store.registerSipIp,domain:this.store.webrtcDomain,wssport:o||8443,account:this.store.webrtcSipId,debug:!0,password:this.store.webrtcSipPassword})}catch(p){throw new b(p.message,this.event)}typeof this.store.sdkOption.autoAnswer=="boolean"?(this.softPhoneInstance.setAutoAnswer(this.store.sdkOption.autoAnswer),this.store.sdkOption.autoAnswer?this.executeUI("active","autoAnswer"):this.executeUI("unActive","autoAnswer")):this.executeUI("unActive","autoAnswer"),this.ui&&(this.softPhoneInstance.once("Registered",(function(p){return n.executeUI("updateSoftPhoneStatus","\u5728\u7EBF")})),this.softPhoneInstance.once("UnRegistered",(function(p){return n.executeUI("updateSoftPhoneStatus","\u672A\u767B\u5F55")}))),this.softPhoneInstance.on("RegistrationFailed",(function(p){throw n.softPhoneInstance.disconnect(),n.executeUI("updateSoftPhoneStatus","\u6CE8\u518C\u5931\u8D25"),new b("\u8BDD\u673A\u6CE8\u518C\u5931\u8D25",n.event)})),this.softPhoneInstance.on("Disconnected",(function(p){throw n.executeUI("updateSoftPhoneStatus","\u79BB\u7EBF"),new b("\u8BDD\u673A\u65AD\u5F00\u94FE\u63A5",n.event)})),this.softPhoneInstance.on("Exception",(function(p){throw n.softPhoneInstance.disconnect(),p.message=="\u672A\u83B7\u53D6\u9EA6\u514B\u98CE\u6388\u6743"&&n.executeUI("updateSoftPhoneStatus","\u672A\u6388\u6743"),new b(p.message,n.event)}))}else this.executeUI("updateSoftPhoneStatus",{1:"SIP",2:"\u624B\u673A",3:"\u672A\u6307\u5B9A\u8BDD\u673A"}[this.store.sdkOption.loginType||1]),this.store.sdkOption.loginType==3&&k.warning("\u672A\u627E\u5230WebRTC\u8BDD\u673A\u6784\u9020\u65B9\u6CD5")},l.prototype.executeUI=function(n){for(var t,o=[],p=1;p<arguments.length;p++)o[p-1]=arguments[p];if(this.ui&&typeof this.ui[n]=="function")return(t=this.ui)[n].apply(t,o)},l.prototype.unregister=function(){this.softPhoneInstance&&this.softPhoneInstance.unregister()},l.prototype.stop=function(){this.softPhoneInstance&&this.softPhoneInstance.stop()},l})(),c=e;H(949);var d=c})(),Z})()}))});var{AgentSdk:ne}=z(),ee=ne;window.AgentSDK=ee;})();
